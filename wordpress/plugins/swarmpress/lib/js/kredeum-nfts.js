var kredeum_nfts=function(t){"use strict";function e(){}const r=t=>t;function n(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(n)}function s(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let l;function u(t,e){return l||(l=document.createElement("a")),l.href=e,t===l.href}function c(t,...r){if(null==t)return e;const n=t.subscribe(...r);return n.unsubscribe?()=>n.unsubscribe():n}function h(t){let e;return c(t,(t=>e=t))(),e}function f(t,e,r){t.$$.on_destroy.push(c(e,r))}function d(t,e,r,n){if(t){const i=p(t,e,r,n);return t[0](i)}}function p(t,e,r,n){return t[1]&&n?function(t,e){for(const r in e)t[r]=e[r];return t}(r.ctx.slice(),t[1](n(e))):r.ctx}function m(t,e,r,n){if(t[2]&&n){const i=t[2](n(r));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],r=Math.max(e.dirty.length,i.length);for(let n=0;n<r;n+=1)t[n]=e.dirty[n]|i[n];return t}return e.dirty|i}return e.dirty}function g(t,e,r,n,i,o){if(i){const s=p(e,r,n,o);t.p(s,i)}}function v(t){if(t.ctx.length>32){const e=[],r=t.ctx.length/32;for(let t=0;t<r;t++)e[t]=-1;return e}return-1}function y(t,e,r){return t.set(r),e}function b(t){return t&&s(t.destroy)?t.destroy:e}const w="undefined"!=typeof window;let _=w?()=>window.performance.now():()=>Date.now(),E=w?t=>requestAnimationFrame(t):e;const M=new Set;function A(t){M.forEach((e=>{e.c(t)||(M.delete(e),e.f())})),0!==M.size&&E(A)}function I(t,e){t.appendChild(e)}function S(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function k(t){const e=T("style");return function(t,e){I(t.head||t,e)}(S(t),e),e.sheet}function x(t,e,r){t.insertBefore(e,r||null)}function N(t){t.parentNode.removeChild(t)}function R(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function T(t){return document.createElement(t)}function P(t){return document.createTextNode(t)}function O(){return P(" ")}function C(){return P("")}function $(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function F(t,e,r){null==r?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function L(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function B(t,e){t.value=null==e?"":e}function D(t,e,r,n){null===r?t.style.removeProperty(e):t.style.setProperty(e,r,n?"important":"")}function U(t,e,r){t.classList[r?"add":"remove"](e)}function q(t,e,{bubbles:r=!1,cancelable:n=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,r,n,e),i}const z=new Map;let j,G=0;function H(t,e,r,n,i,o,s,a=0){const l=16.666/n;let u="{\n";for(let t=0;t<=1;t+=l){const n=e+(r-e)*o(t);u+=100*t+`%{${s(n,1-n)}}\n`}const c=u+`100% {${s(r,1-r)}}\n}`,h=`__svelte_${function(t){let e=5381,r=t.length;for(;r--;)e=(e<<5)-e^t.charCodeAt(r);return e>>>0}(c)}_${a}`,f=S(t),{stylesheet:d,rules:p}=z.get(f)||function(t,e){const r={stylesheet:k(e),rules:{}};return z.set(t,r),r}(f,t);p[h]||(p[h]=!0,d.insertRule(`@keyframes ${h} ${c}`,d.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${h} ${n}ms linear ${i}ms 1 both`,G+=1,h}function W(t,e){const r=(t.style.animation||"").split(", "),n=r.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=r.length-n.length;i&&(t.style.animation=n.join(", "),G-=i,G||E((()=>{G||(z.forEach((t=>{const{stylesheet:e}=t;let r=e.cssRules.length;for(;r--;)e.deleteRule(r);t.rules={}})),z.clear())})))}function V(t){j=t}function J(){if(!j)throw new Error("Function called outside component initialization");return j}function K(t){J().$$.on_mount.push(t)}function X(t,e){return J().$$.context.set(t,e),e}function Z(t){return J().$$.context.get(t)}const Y=[],Q=[],tt=[],et=[],rt=Promise.resolve();let nt=!1;function it(t){tt.push(t)}function ot(t){et.push(t)}const st=new Set;let at,lt=0;function ut(){const t=j;do{for(;lt<Y.length;){const t=Y[lt];lt++,V(t),ct(t.$$)}for(V(null),Y.length=0,lt=0;Q.length;)Q.pop()();for(let t=0;t<tt.length;t+=1){const e=tt[t];st.has(e)||(st.add(e),e())}tt.length=0}while(Y.length);for(;et.length;)et.pop()();nt=!1,st.clear(),V(t)}function ct(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(it)}}function ht(t,e,r){t.dispatchEvent(q(`${e?"intro":"outro"}${r}`))}const ft=new Set;let dt;function pt(){dt={r:0,c:[],p:dt}}function mt(){dt.r||o(dt.c),dt=dt.p}function gt(t,e){t&&t.i&&(ft.delete(t),t.i(e))}function vt(t,e,r,n){if(t&&t.o){if(ft.has(t))return;ft.add(t),dt.c.push((()=>{ft.delete(t),n&&(r&&t.d(1),n())})),t.o(e)}else n&&n()}const yt={duration:0};function bt(t,n,i,a){let l=n(t,i),u=a?0:1,c=null,h=null,f=null;function d(){f&&W(t,f)}function p(t,e){const r=t.b-u;return e*=Math.abs(r),{a:u,b:t.b,d:r,duration:e,start:t.start,end:t.start+e,group:t.group}}function m(n){const{delay:i=0,duration:s=300,easing:a=r,tick:m=e,css:g}=l||yt,v={start:_()+i,b:n};n||(v.group=dt,dt.r+=1),c||h?h=v:(g&&(d(),f=H(t,u,n,s,i,a,g)),n&&m(0,1),c=p(v,s),it((()=>ht(t,n,"start"))),function(t){let e;0===M.size&&E(A),new Promise((r=>{M.add(e={c:t,f:r})}))}((e=>{if(h&&e>h.start&&(c=p(h,s),h=null,ht(t,c.b,"start"),g&&(d(),f=H(t,u,c.b,c.duration,0,a,l.css))),c)if(e>=c.end)m(u=c.b,1-u),ht(t,c.b,"end"),h||(c.b?d():--c.group.r||o(c.group.c)),c=null;else if(e>=c.start){const t=e-c.start;u=c.a+c.d*a(t/c.duration),m(u,1-u)}return!(!c&&!h)})))}return{run(t){s(l)?(at||(at=Promise.resolve(),at.then((()=>{at=null}))),at).then((()=>{l=l(),m(t)})):m(t)},end(){d(),c=h=null}}}function wt(t,e,r){const n=t.$$.props[e];void 0!==n&&(t.$$.bound[n]=r,r(t.$$.ctx[n]))}function _t(t){t&&t.c()}function Et(t,e,r,i){const{fragment:a,on_mount:l,on_destroy:u,after_update:c}=t.$$;a&&a.m(e,r),i||it((()=>{const e=l.map(n).filter(s);u?u.push(...e):o(e),t.$$.on_mount=[]})),c.forEach(it)}function Mt(t,e){const r=t.$$;null!==r.fragment&&(o(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function At(t,e){-1===t.$$.dirty[0]&&(Y.push(t),nt||(nt=!0,rt.then(ut)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function It(t,r,n,s,a,l,u,c=[-1]){const h=j;V(t);const f=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:a,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(h?h.$$.context:[])),callbacks:i(),dirty:c,skip_bound:!1,root:r.target||h.$$.root};u&&u(f.root);let d=!1;if(f.ctx=n?n(t,r.props||{},((e,r,...n)=>{const i=n.length?n[0]:r;return f.ctx&&a(f.ctx[e],f.ctx[e]=i)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](i),d&&At(t,e)),r})):[],f.update(),d=!0,o(f.before_update),f.fragment=!!s&&s(f.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);f.fragment&&f.fragment.l(t),t.forEach(N)}else f.fragment&&f.fragment.c();r.intro&&gt(t.$$.fragment),Et(t,r.target,r.anchor,r.customElement),ut()}V(h)}class St{$destroy(){Mt(this,1),this.$destroy=e}$on(t,e){const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(e),()=>{const t=r.indexOf(e);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const kt=[];function xt(t,r=e){let n;const i=new Set;function o(e){if(a(t,e)&&(t=e,n)){const e=!kt.length;for(const e of i)e[1](),kt.push(e,t);if(e){for(let t=0;t<kt.length;t+=2)kt[t][0](kt[t+1]);kt.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(s,a=e){const l=[s,a];return i.add(l),1===i.size&&(n=r(o)||e),s(t),()=>{i.delete(l),0===i.size&&(n(),n=null)}}}}function Nt(t,r,n){const i=!Array.isArray(t),a=i?[t]:t,l=r.length<2;return u=t=>{let n=!1;const u=[];let h=0,f=e;const d=()=>{if(h)return;f();const n=r(i?u[0]:u,t);l?t(n):f=s(n)?n:e},p=a.map(((t,e)=>c(t,(t=>{u[e]=t,h&=~(1<<e),n&&d()}),(()=>{h|=1<<e}))));return n=!0,d(),function(){o(p),f()}},{subscribe:xt(n,u).subscribe};var u}var Rt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Tt(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})})),e}var Pt={exports:{}};(function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function i(t,e,r){if(i.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer}catch(t){}function s(t,e){var n=t.charCodeAt(e);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+t)}function a(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function l(t,e,n,i){for(var o=0,s=0,a=Math.min(t.length,n),l=e;l<a;l++){var u=t.charCodeAt(l)-48;o*=i,s=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&s<i,"Invalid character"),o+=s}return o}function u(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,e){return t.cmp(e)>0?t:e},i.min=function(t,e){return t.cmp(e)<0?t:e},i.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},i.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},i.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=a(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=a(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},i.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,c=r;c<a;c+=n)u=l(t,c,c+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var h=1;for(u=l(t,c,t.length,e),c=0;c<s;c++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype._move=function(t){u(t,this)},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(t){i.prototype.inspect=c}else i.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function p(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,l=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var c=l>>>26,h=67108863&l,f=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=f;d++){var p=u-d|0;c+=(s=(i=0|t.words[p])*(o=0|e.words[d])+h)/67108864|0,h=67108863&s}r.words[u]=0|h,l=0|c}return 0!==l?r.words[u]=0|l:r.length--,r._strip()}i.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],l=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),n=0!==o||s!==this.length-1?h[6-l.length]+l+n:l+n}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=f[t],c=d[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modrn(c).toString(t);n=(p=p.idivn(c)).isZero()?m+n:h[u-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),i.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},i.prototype.toArrayLike=function(t,e,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},i.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},i.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},i.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},i.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},i.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},i.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var m=function(t,e,r){var n,i,o,s=t.words,a=e.words,l=r.words,u=0,c=0|s[0],h=8191&c,f=c>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,b=0|s[3],w=8191&b,_=b>>>13,E=0|s[4],M=8191&E,A=E>>>13,I=0|s[5],S=8191&I,k=I>>>13,x=0|s[6],N=8191&x,R=x>>>13,T=0|s[7],P=8191&T,O=T>>>13,C=0|s[8],$=8191&C,F=C>>>13,L=0|s[9],B=8191&L,D=L>>>13,U=0|a[0],q=8191&U,z=U>>>13,j=0|a[1],G=8191&j,H=j>>>13,W=0|a[2],V=8191&W,J=W>>>13,K=0|a[3],X=8191&K,Z=K>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],lt=8191&at,ut=at>>>13,ct=0|a[8],ht=8191&ct,ft=ct>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(n=Math.imul(h,q))|0)+((8191&(i=(i=Math.imul(h,z))+Math.imul(f,q)|0))<<13)|0;u=((o=Math.imul(f,z))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,q),i=(i=Math.imul(p,z))+Math.imul(m,q)|0,o=Math.imul(m,z);var vt=(u+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(f,G)|0))<<13)|0;u=((o=o+Math.imul(f,H)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,q),i=(i=Math.imul(v,z))+Math.imul(y,q)|0,o=Math.imul(y,z),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,H)|0;var yt=(u+(n=n+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(f,V)|0))<<13)|0;u=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,q),i=(i=Math.imul(w,z))+Math.imul(_,q)|0,o=Math.imul(_,z),n=n+Math.imul(v,G)|0,i=(i=i+Math.imul(v,H)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,H)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,J)|0;var bt=(u+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(f,X)|0))<<13)|0;u=((o=o+Math.imul(f,Z)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(M,q),i=(i=Math.imul(M,z))+Math.imul(A,q)|0,o=Math.imul(A,z),n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,H)|0,n=n+Math.imul(v,V)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,Z)|0;var wt=(u+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,Q)|0))<<13)|0;u=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(S,q),i=(i=Math.imul(S,z))+Math.imul(k,q)|0,o=Math.imul(k,z),n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,H)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,H)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(v,X)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var _t=(u+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;u=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(N,q),i=(i=Math.imul(N,z))+Math.imul(R,q)|0,o=Math.imul(R,z),n=n+Math.imul(S,G)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,H)|0,n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,J)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,Z)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,Z)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var Et=(u+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,st)|0)+Math.imul(f,ot)|0))<<13)|0;u=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(P,q),i=(i=Math.imul(P,z))+Math.imul(O,q)|0,o=Math.imul(O,z),n=n+Math.imul(N,G)|0,i=(i=i+Math.imul(N,H)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,H)|0,n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(k,V)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,Z)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var Mt=(u+(n=n+Math.imul(h,lt)|0)|0)+((8191&(i=(i=i+Math.imul(h,ut)|0)+Math.imul(f,lt)|0))<<13)|0;u=((o=o+Math.imul(f,ut)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul($,q),i=(i=Math.imul($,z))+Math.imul(F,q)|0,o=Math.imul(F,z),n=n+Math.imul(P,G)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,H)|0,n=n+Math.imul(N,V)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(R,V)|0,o=o+Math.imul(R,J)|0,n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,Z)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(p,lt)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(m,lt)|0,o=o+Math.imul(m,ut)|0;var At=(u+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;u=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,q),i=(i=Math.imul(B,z))+Math.imul(D,q)|0,o=Math.imul(D,z),n=n+Math.imul($,G)|0,i=(i=i+Math.imul($,H)|0)+Math.imul(F,G)|0,o=o+Math.imul(F,H)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,J)|0,n=n+Math.imul(N,X)|0,i=(i=i+Math.imul(N,Z)|0)+Math.imul(R,X)|0,o=o+Math.imul(R,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,n=n+Math.imul(v,lt)|0,i=(i=i+Math.imul(v,ut)|0)+Math.imul(y,lt)|0,o=o+Math.imul(y,ut)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,ft)|0;var It=(u+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,pt)|0))<<13)|0;u=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(B,G),i=(i=Math.imul(B,H))+Math.imul(D,G)|0,o=Math.imul(D,H),n=n+Math.imul($,V)|0,i=(i=i+Math.imul($,J)|0)+Math.imul(F,V)|0,o=o+Math.imul(F,J)|0,n=n+Math.imul(P,X)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,Z)|0,n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(w,lt)|0,i=(i=i+Math.imul(w,ut)|0)+Math.imul(_,lt)|0,o=o+Math.imul(_,ut)|0,n=n+Math.imul(v,ht)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,ft)|0;var St=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(B,V),i=(i=Math.imul(B,J))+Math.imul(D,V)|0,o=Math.imul(D,J),n=n+Math.imul($,X)|0,i=(i=i+Math.imul($,Z)|0)+Math.imul(F,X)|0,o=o+Math.imul(F,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(N,rt)|0,i=(i=i+Math.imul(N,nt)|0)+Math.imul(R,rt)|0,o=o+Math.imul(R,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,n=n+Math.imul(M,lt)|0,i=(i=i+Math.imul(M,ut)|0)+Math.imul(A,lt)|0,o=o+Math.imul(A,ut)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,ft)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,ft)|0;var kt=(u+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,X),i=(i=Math.imul(B,Z))+Math.imul(D,X)|0,o=Math.imul(D,Z),n=n+Math.imul($,Q)|0,i=(i=i+Math.imul($,tt)|0)+Math.imul(F,Q)|0,o=o+Math.imul(F,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,st)|0)+Math.imul(R,ot)|0,o=o+Math.imul(R,st)|0,n=n+Math.imul(S,lt)|0,i=(i=i+Math.imul(S,ut)|0)+Math.imul(k,lt)|0,o=o+Math.imul(k,ut)|0,n=n+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(A,ht)|0,o=o+Math.imul(A,ft)|0;var xt=(u+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(B,Q),i=(i=Math.imul(B,tt))+Math.imul(D,Q)|0,o=Math.imul(D,tt),n=n+Math.imul($,rt)|0,i=(i=i+Math.imul($,nt)|0)+Math.imul(F,rt)|0,o=o+Math.imul(F,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,n=n+Math.imul(N,lt)|0,i=(i=i+Math.imul(N,ut)|0)+Math.imul(R,lt)|0,o=o+Math.imul(R,ut)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(k,ht)|0,o=o+Math.imul(k,ft)|0;var Nt=(u+(n=n+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(A,pt)|0))<<13)|0;u=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(B,rt),i=(i=Math.imul(B,nt))+Math.imul(D,rt)|0,o=Math.imul(D,nt),n=n+Math.imul($,ot)|0,i=(i=i+Math.imul($,st)|0)+Math.imul(F,ot)|0,o=o+Math.imul(F,st)|0,n=n+Math.imul(P,lt)|0,i=(i=i+Math.imul(P,ut)|0)+Math.imul(O,lt)|0,o=o+Math.imul(O,ut)|0,n=n+Math.imul(N,ht)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(R,ht)|0,o=o+Math.imul(R,ft)|0;var Rt=(u+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(k,pt)|0))<<13)|0;u=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(B,ot),i=(i=Math.imul(B,st))+Math.imul(D,ot)|0,o=Math.imul(D,st),n=n+Math.imul($,lt)|0,i=(i=i+Math.imul($,ut)|0)+Math.imul(F,lt)|0,o=o+Math.imul(F,ut)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,ft)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,ft)|0;var Tt=(u+(n=n+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,mt)|0)+Math.imul(R,pt)|0))<<13)|0;u=((o=o+Math.imul(R,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(B,lt),i=(i=Math.imul(B,ut))+Math.imul(D,lt)|0,o=Math.imul(D,ut),n=n+Math.imul($,ht)|0,i=(i=i+Math.imul($,ft)|0)+Math.imul(F,ht)|0,o=o+Math.imul(F,ft)|0;var Pt=(u+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(B,ht),i=(i=Math.imul(B,ft))+Math.imul(D,ht)|0,o=Math.imul(D,ft);var Ot=(u+(n=n+Math.imul($,pt)|0)|0)+((8191&(i=(i=i+Math.imul($,mt)|0)+Math.imul(F,pt)|0))<<13)|0;u=((o=o+Math.imul(F,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Ct=(u+(n=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,mt))+Math.imul(D,pt)|0))<<13)|0;return u=((o=Math.imul(D,mt))+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,l[0]=gt,l[1]=vt,l[2]=yt,l[3]=bt,l[4]=wt,l[5]=_t,l[6]=Et,l[7]=Mt,l[8]=At,l[9]=It,l[10]=St,l[11]=kt,l[12]=xt,l[13]=Nt,l[14]=Rt,l[15]=Tt,l[16]=Pt,l[17]=Ot,l[18]=Ct,0!==u&&(l[19]=u,r.length++),r};function g(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,l=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=l;u++){var c=o-u,h=(0|t.words[c])*(0|e.words[u]),f=67108863&h;a=67108863&(f=f+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function v(t,e,r){return g(t,e,r)}Math.imul||(m=p),i.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?m(this,t,e):r<63?p(this,t,e):r<1024?g(this,t,e):v(this,t,e)},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.mulf=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),v(this,t,e)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"==typeof t),r(t<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=s>>>26,this.words[i]=67108863&s}return 0!==n&&(this.words[i]=n,this.length++),e?this.ineg():this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new i(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var o=r.sqr();n<e.length;n++,o=o.sqr())0!==e[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,l=(0|this.words[e])-a<<n;this.words[e]=l|s,s=a>>>26-n}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},i.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,l=n;if(i-=s,i=Math.max(0,i),l){for(var u=0;u<s;u++)l.words[u]=this.words[u];l.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=i);u--){var h=0|this.words[u];this.words[u]=c<<26-o|h>>>o,c=h&a}return l&&0!==c&&(l.words[l.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n||!(this.words[n]&i))},i.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,n){var i,o,s=t.length+n;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var l=(0|t.words[i])*e;a=((o-=67108863&l)>>26)-(l/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},i.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),o=t,s=0|o.words[o.length-1];0!=(r=26-this._countBits(s))&&(o=o.ushln(r),n.iushln(r),s=0|o.words[o.length-1]);var a,l=n.length-o.length;if("mod"!==e){(a=new i(null)).length=l+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var c=n.clone()._ishlnsubmul(o,1,l);0===c.negative&&(n=c,a&&(a.words[l]=1));for(var h=l-1;h>=0;h--){var f=67108864*(0|n.words[o.length+h])+(0|n.words[o.length+h-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(o,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(o,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=f)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(o=a.div.neg()),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(o=a.div.neg()),{div:o,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modrn(t.words[0]))}:this._wordDiv(t,e);var o,s,a},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%t;return e?-i:i},i.prototype.modn=function(t){return this.modrn(t)},i.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/t|0,n=o%t}return this._strip(),e?this.ineg():this},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new i(1),s=new i(0),a=new i(0),l=new i(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var c=n.clone(),h=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(c),s.isub(h)),o.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(c),l.isub(h)),a.iushrn(1),l.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a),s.isub(l)):(n.isub(e),a.isub(o),l.isub(s))}return{a:a,b:l,gcd:n.iushln(u)}},i.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,s=new i(1),a=new i(0),l=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,c=1;0==(e.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(l),s.iushrn(1);for(var h=0,f=1;0==(n.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(n.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a)):(n.isub(e),a.isub(s))}return(o=0===e.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(t),o},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new A(t)},i.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function I(t){A.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},n(w,b),w.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},w.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(_,b),n(E,b),n(M,b),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new w;else if("p224"===t)e=new _;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return y[t]=e,e},A.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},A.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},A.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(u(t,t.umod(this.m)._forceRed(this)),t)},A.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},A.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},A.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},A.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},A.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},A.prototype.isqr=function(t){return this.imul(t,t.clone())},A.prototype.sqr=function(t){return this.mul(t,t)},A.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new i(1).toRed(this),l=a.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);0!==this.pow(c,u).cmp(l);)c.redIAdd(l);for(var h=this.pow(c,o),f=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();r(g<p);var v=this.pow(h,new i(1).iushln(p-g-1));f=f.redMul(v),h=v.redSqr(),d=d.redMul(h),p=g}return f},A.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},A.prototype.pow=function(t,e){if(e.isZero())return new i(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var o=r[0],s=0,a=0,l=e.bitLength()%26;for(0===l&&(l=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],c=l-1;c>=0;c--){var h=u>>c&1;o!==r[0]&&(o=this.sqr(o)),0!==h||0!==s?(s<<=1,s|=h,(4==++a||0===n&&0===c)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}l=26}return o},A.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},A.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new I(t)},n(I,A),I.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},I.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},I.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},I.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new i(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},I.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}})(Pt,Rt);var Ot=Pt.exports;let Ct=!1,$t=!1;const Ft={debug:1,default:2,info:2,warning:3,error:4,off:5};let Lt=Ft.default,Bt=null;const Dt=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var Ut,qt;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Ut||(Ut={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(qt||(qt={}));const zt="0123456789abcdef";class jt{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Ft[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Lt>Ft[r]||console.log.apply(console,e)}debug(...t){this._log(jt.levels.DEBUG,t)}info(...t){this._log(jt.levels.INFO,t)}warn(...t){this._log(jt.levels.WARNING,t)}makeError(t,e,r){if($t)return this.makeError("censored error",e,{});e||(e=jt.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=zt[e[t]>>4],r+=zt[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let o="";switch(e){case qt.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case qt.CALL_EXCEPTION:case qt.INSUFFICIENT_FUNDS:case qt.MISSING_NEW:case qt.NONCE_EXPIRED:case qt.REPLACEMENT_UNDERPRICED:case qt.TRANSACTION_REPLACED:case qt.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,jt.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){Dt&&this.throwError("platform missing String.prototype.normalize",jt.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Dt})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,jt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,jt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,jt.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,jt.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",jt.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",jt.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",jt.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Bt||(Bt=new jt("logger/5.6.0")),Bt}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",jt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Ct){if(!t)return;this.globalLogger().throwError("error censorship permanent",jt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}$t=!!t,Ct=!!e}static setLogLevel(t){const e=Ft[t.toLowerCase()];null!=e?Lt=e:jt.globalLogger().warn("invalid log level - "+t)}static from(t){return new jt(t)}}jt.errors=qt,jt.levels=Ut;const Gt=new jt("bytes/5.6.1");function Ht(t){return!!t.toHexString}function Wt(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Wt(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Vt(t){return Qt(t)&&!(t.length%2)||Kt(t)}function Jt(t){return"number"==typeof t&&t==t&&t%1==0}function Kt(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!Jt(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Jt(r)||r<0||r>=256)return!1}return!0}function Xt(t,e){if(e||(e={}),"number"==typeof t){Gt.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Wt(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Ht(t)&&(t=t.toHexString()),Qt(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":Gt.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return Wt(new Uint8Array(n))}return Kt(t)?Wt(new Uint8Array(t)):Gt.throwArgumentError("invalid arrayify value","value",t)}function Zt(t){const e=t.map((t=>Xt(t))),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);return e.reduce(((t,e)=>(n.set(e,t),t+e.length)),0),Wt(n)}function Yt(t){let e=Xt(t);if(0===e.length)return e;let r=0;for(;r<e.length&&0===e[r];)r++;return r&&(e=e.slice(r)),e}function Qt(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const te="0123456789abcdef";function ee(t,e){if(e||(e={}),"number"==typeof t){Gt.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=te[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Ht(t))return t.toHexString();if(Qt(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Gt.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Kt(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=te[(240&n)>>4]+te[15&n]}return e}return Gt.throwArgumentError("invalid hexlify value","value",t)}function re(t){if("string"!=typeof t)t=ee(t);else if(!Qt(t)||t.length%2)return null;return(t.length-2)/2}function ne(t,e,r){return"string"!=typeof t?t=ee(t):(!Qt(t)||t.length%2)&&Gt.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function ie(t){let e="0x";return t.forEach((t=>{e+=ee(t).substring(2)})),e}function oe(t){const e=function(t){"string"!=typeof t&&(t=ee(t));Qt(t)||Gt.throwArgumentError("invalid hex string","value",t);t=t.substring(2);let e=0;for(;e<t.length&&"0"===t[e];)e++;return"0x"+t.substring(e)}(ee(t,{hexPad:"left"}));return"0x"===e?"0x0":e}function se(t,e){for("string"!=typeof t?t=ee(t):Qt(t)||Gt.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Gt.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function ae(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Vt(t)){let r=Xt(t);64===r.length?(e.v=27+(r[32]>>7),r[32]&=127,e.r=ee(r.slice(0,32)),e.s=ee(r.slice(32,64))):65===r.length?(e.r=ee(r.slice(0,32)),e.s=ee(r.slice(32,64)),e.v=r[64]):Gt.throwArgumentError("invalid signature string","signature",t),e.v<27&&(0===e.v||1===e.v?e.v+=27:Gt.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=ee(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){const r=function(t,e){(t=Xt(t)).length>e&&Gt.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Wt(r)}(Xt(e._vs),32);e._vs=ee(r);const n=r[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=n:e.recoveryParam!==n&&Gt.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const i=ee(r);null==e.s?e.s=i:e.s!==i&&Gt.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==e.recoveryParam)null==e.v?Gt.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(null==e.v)e.v=27+e.recoveryParam;else{const r=0===e.v||1===e.v?e.v:1-e.v%2;e.recoveryParam!==r&&Gt.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=e.r&&Qt(e.r)?e.r=se(e.r,32):Gt.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&Qt(e.s)?e.s=se(e.s,32):Gt.throwArgumentError("signature missing or invalid s","signature",t);const r=Xt(e.s);r[0]>=128&&Gt.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=ee(r);e._vs&&(Qt(e._vs)||Gt.throwArgumentError("signature invalid _vs","signature",t),e._vs=se(e._vs,32)),null==e._vs?e._vs=n:e._vs!==n&&Gt.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}var le=Ot.BN;const ue=new jt("bignumber/5.6.2"),ce={},he=9007199254740991;let fe=!1;class de{constructor(t,e){t!==ce&&ue.throwError("cannot call constructor directly; use BigNumber.from",jt.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return me(ge(this).fromTwos(t))}toTwos(t){return me(ge(this).toTwos(t))}abs(){return"-"===this._hex[0]?de.from(this._hex.substring(1)):this}add(t){return me(ge(this).add(ge(t)))}sub(t){return me(ge(this).sub(ge(t)))}div(t){return de.from(t).isZero()&&ve("division-by-zero","div"),me(ge(this).div(ge(t)))}mul(t){return me(ge(this).mul(ge(t)))}mod(t){const e=ge(t);return e.isNeg()&&ve("division-by-zero","mod"),me(ge(this).umod(e))}pow(t){const e=ge(t);return e.isNeg()&&ve("negative-power","pow"),me(ge(this).pow(e))}and(t){const e=ge(t);return(this.isNegative()||e.isNeg())&&ve("unbound-bitwise-result","and"),me(ge(this).and(e))}or(t){const e=ge(t);return(this.isNegative()||e.isNeg())&&ve("unbound-bitwise-result","or"),me(ge(this).or(e))}xor(t){const e=ge(t);return(this.isNegative()||e.isNeg())&&ve("unbound-bitwise-result","xor"),me(ge(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&ve("negative-width","mask"),me(ge(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&ve("negative-width","shl"),me(ge(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&ve("negative-width","shr"),me(ge(this).shrn(t))}eq(t){return ge(this).eq(ge(t))}lt(t){return ge(this).lt(ge(t))}lte(t){return ge(this).lte(ge(t))}gt(t){return ge(this).gt(ge(t))}gte(t){return ge(this).gte(ge(t))}isNegative(){return"-"===this._hex[0]}isZero(){return ge(this).isZero()}toNumber(){try{return ge(this).toNumber()}catch(t){ve("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return ue.throwError("this platform does not support BigInt",jt.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?fe||(fe=!0,ue.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?ue.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",jt.errors.UNEXPECTED_ARGUMENT,{}):ue.throwError("BigNumber.toString does not accept parameters",jt.errors.UNEXPECTED_ARGUMENT,{})),ge(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof de)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new de(ce,pe(t)):t.match(/^-?[0-9]+$/)?new de(ce,pe(new le(t))):ue.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&ve("underflow","BigNumber.from",t),(t>=he||t<=-he)&&ve("overflow","BigNumber.from",t),de.from(String(t));const e=t;if("bigint"==typeof e)return de.from(e.toString());if(Kt(e))return de.from(ee(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return de.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(Qt(t)||"-"===t[0]&&Qt(t.substring(1))))return de.from(t)}return ue.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function pe(t){if("string"!=typeof t)return pe(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&ue.throwArgumentError("invalid hex","value",t),"0x00"===(t=pe(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function me(t){return de.from(pe(t))}function ge(t){const e=de.from(t).toHexString();return"-"===e[0]?new le("-"+e.substring(3),16):new le(e.substring(2),16)}function ve(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),ue.throwError(t,jt.errors.NUMERIC_FAULT,n)}var ye=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};const be=new jt("properties/5.6.0");function we(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function _e(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||"object"!=typeof t.prototype)break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Ee(t){return ye(this,void 0,void 0,(function*(){const e=Object.keys(t).map((e=>{const r=t[e];return Promise.resolve(r).then((t=>({key:e,value:t})))}));return(yield Promise.all(e)).reduce(((t,e)=>(t[e.key]=e.value,t)),{})}))}function Me(t){const e={};for(const r in t)e[r]=t[r];return e}const Ae={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Ie(t){if(null==t||Ae[typeof t])return!0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch(t){continue}if(!Ie(n))return!1}return!0}return be.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function Se(t){if(Ie(t))return t;if(Array.isArray(t))return Object.freeze(t.map((t=>ke(t))));if("object"==typeof t){const e={};for(const r in t){const n=t[r];void 0!==n&&we(e,r,ke(n))}return e}return be.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function ke(t){return Se(t)}class xe{constructor(t){for(const e in t)this[e]=ke(t[e])}}const Ne="abi/5.6.4",Re=new jt(Ne),Te={};let Pe={calldata:!0,memory:!0,storage:!0},Oe={calldata:!0,memory:!0};function Ce(t,e){if("bytes"===t||"string"===t){if(Pe[e])return!0}else if("address"===t){if("payable"===e)return!0}else if((t.indexOf("[")>=0||"tuple"===t)&&Oe[e])return!0;return(Pe[e]||"payable"===e)&&Re.throwArgumentError("invalid modifier","name",e),!1}function $e(t,e){for(let r in e)we(t,r,e[r])}const Fe=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Le=new RegExp(/^(.*)\[([0-9]*)\]$/);class Be{constructor(t,e){t!==Te&&Re.throwError("use fromString",jt.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),$e(this,e);let r=this.type.match(Le);$e(this,r?{arrayLength:parseInt(r[2]||"-1"),arrayChildren:Be.fromObject({type:r[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(t){if(t||(t=Fe.sighash),Fe[t]||Re.throwArgumentError("invalid format type","format",t),t===Fe.json){let e={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(e.indexed=this.indexed),this.components&&(e.components=this.components.map((e=>JSON.parse(e.format(t))))),JSON.stringify(e)}let e="";return"array"===this.baseType?(e+=this.arrayChildren.format(t),e+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(t!==Fe.sighash&&(e+=this.type),e+="("+this.components.map((e=>e.format(t))).join(t===Fe.full?", ":",")+")"):e+=this.type,t!==Fe.sighash&&(!0===this.indexed&&(e+=" indexed"),t===Fe.full&&this.name&&(e+=" "+this.name)),e}static from(t,e){return"string"==typeof t?Be.fromString(t,e):Be.fromObject(t)}static fromObject(t){return Be.isParamType(t)?t:new Be(Te,{name:t.name||null,type:Ke(t.type),indexed:null==t.indexed?null:!!t.indexed,components:t.components?t.components.map(Be.fromObject):null})}static fromString(t,e){return r=function(t,e){let r=t;function n(e){Re.throwArgumentError(`unexpected character at position ${e}`,"param",t)}function i(t){let r={type:"",name:"",parent:t,state:{allowType:!0}};return e&&(r.indexed=!1),r}t=t.replace(/\s/g," ");let o={type:"",name:"",state:{allowType:!0}},s=o;for(let r=0;r<t.length;r++){let o=t[r];switch(o){case"(":s.state.allowType&&""===s.type?s.type="tuple":s.state.allowParams||n(r),s.state.allowType=!1,s.type=Ke(s.type),s.components=[i(s)],s=s.components[0];break;case")":delete s.state,"indexed"===s.name&&(e||n(r),s.indexed=!0,s.name=""),Ce(s.type,s.name)&&(s.name=""),s.type=Ke(s.type);let t=s;s=s.parent,s||n(r),delete t.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,"indexed"===s.name&&(e||n(r),s.indexed=!0,s.name=""),Ce(s.type,s.name)&&(s.name=""),s.type=Ke(s.type);let a=i(s.parent);s.parent.components.push(a),delete s.parent,s=a;break;case" ":s.state.allowType&&""!==s.type&&(s.type=Ke(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&""!==s.name&&("indexed"===s.name?(e||n(r),s.indexed&&n(r),s.indexed=!0,s.name=""):Ce(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(r),s.type+=o,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(r),s.type+=o,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=o,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=o,delete s.state.allowArray):s.state.readArray?s.type+=o:n(r)}}return s.parent&&Re.throwArgumentError("unexpected eof","param",t),delete o.state,"indexed"===s.name?(e||n(r.length-7),s.indexed&&n(r.length-7),s.indexed=!0,s.name=""):Ce(s.type,s.name)&&(s.name=""),o.type=Ke(o.type),o}(t,!!e),Be.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components});var r}static isParamType(t){return!(null==t||!t._isParamType)}}function De(t,e){return function(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let o=t[i];","===o&&0===n?(e.push(r),r=""):(r+=o,"("===o?n++:")"===o&&(n--,-1===n&&Re.throwArgumentError("unbalanced parenthesis","value",t)))}r&&e.push(r);return e}(t).map((t=>Be.fromString(t,e)))}class Ue{constructor(t,e){t!==Te&&Re.throwError("use a static from method",jt.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),$e(this,e),this._isFragment=!0,Object.freeze(this)}static from(t){return Ue.isFragment(t)?t:"string"==typeof t?Ue.fromString(t):Ue.fromObject(t)}static fromObject(t){if(Ue.isFragment(t))return t;switch(t.type){case"function":return We.fromObject(t);case"event":return qe.fromObject(t);case"constructor":return He.fromObject(t);case"error":return Je.fromObject(t);case"fallback":case"receive":return null}return Re.throwArgumentError("invalid fragment object","value",t)}static fromString(t){return"event"===(t=(t=(t=t.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?qe.fromString(t.substring(5).trim()):"function"===t.split(" ")[0]?We.fromString(t.substring(8).trim()):"constructor"===t.split("(")[0].trim()?He.fromString(t.trim()):"error"===t.split(" ")[0]?Je.fromString(t.substring(5).trim()):Re.throwArgumentError("unsupported fragment","value",t)}static isFragment(t){return!(!t||!t._isFragment)}}class qe extends Ue{format(t){if(t||(t=Fe.sighash),Fe[t]||Re.throwArgumentError("invalid format type","format",t),t===Fe.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==Fe.sighash&&(e+="event "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===Fe.full?", ":",")+") ",t!==Fe.sighash&&this.anonymous&&(e+="anonymous "),e.trim()}static from(t){return"string"==typeof t?qe.fromString(t):qe.fromObject(t)}static fromObject(t){if(qe.isEventFragment(t))return t;"event"!==t.type&&Re.throwArgumentError("invalid event object","value",t);const e={name:Ze(t.name),anonymous:t.anonymous,inputs:t.inputs?t.inputs.map(Be.fromObject):[],type:"event"};return new qe(Te,e)}static fromString(t){let e=t.match(Ye);e||Re.throwArgumentError("invalid event string","value",t);let r=!1;return e[3].split(" ").forEach((t=>{switch(t.trim()){case"anonymous":r=!0;break;case"":break;default:Re.warn("unknown modifier: "+t)}})),qe.fromObject({name:e[1].trim(),anonymous:r,inputs:De(e[2],!0),type:"event"})}static isEventFragment(t){return t&&t._isFragment&&"event"===t.type}}function ze(t,e){e.gas=null;let r=t.split("@");return 1!==r.length?(r.length>2&&Re.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Re.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=de.from(r[1]),r[0]):t}function je(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach((t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}}))}function Ge(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return null!=t.stateMutability?(e.stateMutability=t.stateMutability,e.constant="view"===e.stateMutability||"pure"===e.stateMutability,null!=t.constant&&!!t.constant!==e.constant&&Re.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable="payable"===e.stateMutability,null!=t.payable&&!!t.payable!==e.payable&&Re.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):null!=t.payable?(e.payable=!!t.payable,null!=t.constant||e.payable||"constructor"===t.type||Re.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Re.throwArgumentError("cannot have constant payable function","value",t)):null!=t.constant?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):"constructor"!==t.type&&Re.throwArgumentError("unable to determine stateMutability","value",t),e}class He extends Ue{format(t){if(t||(t=Fe.sighash),Fe[t]||Re.throwArgumentError("invalid format type","format",t),t===Fe.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});t===Fe.sighash&&Re.throwError("cannot format a constructor for sighash",jt.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let e="constructor("+this.inputs.map((e=>e.format(t))).join(t===Fe.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "),e.trim()}static from(t){return"string"==typeof t?He.fromString(t):He.fromObject(t)}static fromObject(t){if(He.isConstructorFragment(t))return t;"constructor"!==t.type&&Re.throwArgumentError("invalid constructor object","value",t);let e=Ge(t);e.constant&&Re.throwArgumentError("constructor cannot be constant","value",t);const r={name:null,type:t.type,inputs:t.inputs?t.inputs.map(Be.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?de.from(t.gas):null};return new He(Te,r)}static fromString(t){let e={type:"constructor"},r=(t=ze(t,e)).match(Ye);return r&&"constructor"===r[1].trim()||Re.throwArgumentError("invalid constructor string","value",t),e.inputs=De(r[2].trim(),!1),je(r[3].trim(),e),He.fromObject(e)}static isConstructorFragment(t){return t&&t._isFragment&&"constructor"===t.type}}class We extends He{format(t){if(t||(t=Fe.sighash),Fe[t]||Re.throwArgumentError("invalid format type","format",t),t===Fe.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t)))),outputs:this.outputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==Fe.sighash&&(e+="function "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===Fe.full?", ":",")+") ",t!==Fe.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "):this.constant&&(e+="view "),this.outputs&&this.outputs.length&&(e+="returns ("+this.outputs.map((e=>e.format(t))).join(", ")+") "),null!=this.gas&&(e+="@"+this.gas.toString()+" ")),e.trim()}static from(t){return"string"==typeof t?We.fromString(t):We.fromObject(t)}static fromObject(t){if(We.isFunctionFragment(t))return t;"function"!==t.type&&Re.throwArgumentError("invalid function object","value",t);let e=Ge(t);const r={type:t.type,name:Ze(t.name),constant:e.constant,inputs:t.inputs?t.inputs.map(Be.fromObject):[],outputs:t.outputs?t.outputs.map(Be.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?de.from(t.gas):null};return new We(Te,r)}static fromString(t){let e={type:"function"},r=(t=ze(t,e)).split(" returns ");r.length>2&&Re.throwArgumentError("invalid function string","value",t);let n=r[0].match(Ye);if(n||Re.throwArgumentError("invalid function signature","value",t),e.name=n[1].trim(),e.name&&Ze(e.name),e.inputs=De(n[2],!1),je(n[3].trim(),e),r.length>1){let n=r[1].match(Ye);""==n[1].trim()&&""==n[3].trim()||Re.throwArgumentError("unexpected tokens","value",t),e.outputs=De(n[2],!1)}else e.outputs=[];return We.fromObject(e)}static isFunctionFragment(t){return t&&t._isFragment&&"function"===t.type}}function Ve(t){const e=t.format();return"Error(string)"!==e&&"Panic(uint256)"!==e||Re.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class Je extends Ue{format(t){if(t||(t=Fe.sighash),Fe[t]||Re.throwArgumentError("invalid format type","format",t),t===Fe.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==Fe.sighash&&(e+="error "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===Fe.full?", ":",")+") ",e.trim()}static from(t){return"string"==typeof t?Je.fromString(t):Je.fromObject(t)}static fromObject(t){if(Je.isErrorFragment(t))return t;"error"!==t.type&&Re.throwArgumentError("invalid error object","value",t);const e={type:t.type,name:Ze(t.name),inputs:t.inputs?t.inputs.map(Be.fromObject):[]};return Ve(new Je(Te,e))}static fromString(t){let e={type:"error"},r=t.match(Ye);return r||Re.throwArgumentError("invalid error signature","value",t),e.name=r[1].trim(),e.name&&Ze(e.name),e.inputs=De(r[2],!1),Ve(Je.fromObject(e))}static isErrorFragment(t){return t&&t._isFragment&&"error"===t.type}}function Ke(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const Xe=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Ze(t){return t&&t.match(Xe)||Re.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const Ye=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");const Qe=new jt(Ne);class tr{constructor(t,e,r,n){this.name=t,this.type=e,this.localName=r,this.dynamic=n}_throwError(t,e){Qe.throwArgumentError(t,this.localName,e)}}class er{constructor(t){we(this,"wordSize",t||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(t)}get data(){return ie(this._data)}get length(){return this._dataLength}_writeData(t){return this._data.push(t),this._dataLength+=t.length,t.length}appendWriter(t){return this._writeData(Zt(t._data))}writeBytes(t){let e=Xt(t);const r=e.length%this.wordSize;return r&&(e=Zt([e,this._padding.slice(r)])),this._writeData(e)}_getValue(t){let e=Xt(de.from(t));return e.length>this.wordSize&&Qe.throwError("value out-of-bounds",jt.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:e.length}),e.length%this.wordSize&&(e=Zt([this._padding.slice(e.length%this.wordSize),e])),e}writeValue(t){return this._writeData(this._getValue(t))}writeUpdatableValue(){const t=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,e=>{this._data[t]=this._getValue(e)}}}class rr{constructor(t,e,r,n){we(this,"_data",Xt(t)),we(this,"wordSize",e||32),we(this,"_coerceFunc",r),we(this,"allowLoose",n),this._offset=0}get data(){return ee(this._data)}get consumed(){return this._offset}static coerce(t,e){let r=t.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(e=e.toNumber()),e}coerce(t,e){return this._coerceFunc?this._coerceFunc(t,e):rr.coerce(t,e)}_peekBytes(t,e,r){let n=Math.ceil(e/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+e<=this._data.length?n=e:Qe.throwError("data out-of-bounds",jt.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(t){return new rr(this._data.slice(this._offset+t),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(t,e){let r=this._peekBytes(0,t,!!e);return this._offset+=r.length,r.slice(0,t)}readValue(){return de.from(this.readBytes(this.wordSize))}}var nr={exports:{}};
/**
     * [js-sha3]{@link https://github.com/emn178/js-sha3}
     *
     * @version 0.8.0
     * @author Chen, Yi-Cyuan [emn178@gmail.com]
     * @copyright Chen, Yi-Cyuan 2015-2018
     * @license MIT
     */!function(t){!function(){var e="input is invalid type",r="object"==typeof window,n=r?window:{};n.JS_SHA3_NO_WINDOW&&(r=!1);var i=!r&&"object"==typeof self;!n.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?n=Rt:i&&(n=self);var o=!n.JS_SHA3_NO_COMMON_JS&&t.exports,s=!n.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,a="0123456789abcdef".split(""),l=[4,1024,262144,67108864],u=[0,8,16,24],c=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],h=[224,256,384,512],f=[128,256],d=["hex","buffer","arrayBuffer","array","digest"],p={128:168,256:136};!n.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!s||!n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var m=function(t,e,r){return function(n){return new R(t,e,t).update(n)[r]()}},g=function(t,e,r){return function(n,i){return new R(t,e,i).update(n)[r]()}},v=function(t,e,r){return function(e,n,i,o){return E["cshake"+t].update(e,n,i,o)[r]()}},y=function(t,e,r){return function(e,n,i,o){return E["kmac"+t].update(e,n,i,o)[r]()}},b=function(t,e,r,n){for(var i=0;i<d.length;++i){var o=d[i];t[o]=e(r,n,o)}return t},w=function(t,e){var r=m(t,e,"hex");return r.create=function(){return new R(t,e,t)},r.update=function(t){return r.create().update(t)},b(r,m,t,e)},_=[{name:"keccak",padding:[1,256,65536,16777216],bits:h,createMethod:w},{name:"sha3",padding:[6,1536,393216,100663296],bits:h,createMethod:w},{name:"shake",padding:[31,7936,2031616,520093696],bits:f,createMethod:function(t,e){var r=g(t,e,"hex");return r.create=function(r){return new R(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},b(r,g,t,e)}},{name:"cshake",padding:l,bits:f,createMethod:function(t,e){var r=p[t],n=v(t,0,"hex");return n.create=function(n,i,o){return i||o?new R(t,e,n).bytepad([i,o],r):E["shake"+t].create(n)},n.update=function(t,e,r,i){return n.create(e,r,i).update(t)},b(n,v,t,e)}},{name:"kmac",padding:l,bits:f,createMethod:function(t,e){var r=p[t],n=y(t,0,"hex");return n.create=function(n,i,o){return new T(t,e,i).bytepad(["KMAC",o],r).bytepad([n],r)},n.update=function(t,e,r,i){return n.create(t,r,i).update(e)},b(n,y,t,e)}}],E={},M=[],A=0;A<_.length;++A)for(var I=_[A],S=I.bits,k=0;k<S.length;++k){var x=I.name+"_"+S[k];if(M.push(x),E[x]=I.createMethod(S[k],I.padding),"sha3"!==I.name){var N=I.name+S[k];M.push(N),E[N]=E[x]}}function R(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function T(t,e,r){R.call(this,t,e,r)}R.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var r,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(e);if(null===t)throw new Error(e);if(s&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||s&&ArrayBuffer.isView(t)))throw new Error(e);r=!0}for(var i,o,a=this.blocks,l=this.byteCount,c=t.length,h=this.blockCount,f=0,d=this.s;f<c;){if(this.reset)for(this.reset=!1,a[0]=this.block,i=1;i<h+1;++i)a[i]=0;if(r)for(i=this.start;f<c&&i<l;++f)a[i>>2]|=t[f]<<u[3&i++];else for(i=this.start;f<c&&i<l;++f)(o=t.charCodeAt(f))<128?a[i>>2]|=o<<u[3&i++]:o<2048?(a[i>>2]|=(192|o>>6)<<u[3&i++],a[i>>2]|=(128|63&o)<<u[3&i++]):o<55296||o>=57344?(a[i>>2]|=(224|o>>12)<<u[3&i++],a[i>>2]|=(128|o>>6&63)<<u[3&i++],a[i>>2]|=(128|63&o)<<u[3&i++]):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++f)),a[i>>2]|=(240|o>>18)<<u[3&i++],a[i>>2]|=(128|o>>12&63)<<u[3&i++],a[i>>2]|=(128|o>>6&63)<<u[3&i++],a[i>>2]|=(128|63&o)<<u[3&i++]);if(this.lastByteIndex=i,i>=l){for(this.start=i-l,this.block=a[h],i=0;i<h;++i)d[i]^=a[i];P(d),this.reset=!0}else this.start=i}return this},R.prototype.encode=function(t,e){var r=255&t,n=1,i=[r];for(r=255&(t>>=8);r>0;)i.unshift(r),r=255&(t>>=8),++n;return e?i.push(n):i.unshift(n),this.update(i),i.length},R.prototype.encodeString=function(t){var r,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(e);if(null===t)throw new Error(e);if(s&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||s&&ArrayBuffer.isView(t)))throw new Error(e);r=!0}var i=0,o=t.length;if(r)i=o;else for(var a=0;a<t.length;++a){var l=t.charCodeAt(a);l<128?i+=1:l<2048?i+=2:l<55296||l>=57344?i+=3:(l=65536+((1023&l)<<10|1023&t.charCodeAt(++a)),i+=4)}return i+=this.encode(8*i),this.update(t),i},R.prototype.bytepad=function(t,e){for(var r=this.encode(e),n=0;n<t.length;++n)r+=this.encodeString(t[n]);var i=e-r%e,o=[];return o.length=i,this.update(o),this},R.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,n=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)n[e]^=t[e];P(n)}},R.prototype.toString=R.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,l="";s<n;){for(o=0;o<e&&s<n;++o,++s)t=r[o],l+=a[t>>4&15]+a[15&t]+a[t>>12&15]+a[t>>8&15]+a[t>>20&15]+a[t>>16&15]+a[t>>28&15]+a[t>>24&15];s%e==0&&(P(r),o=0)}return i&&(t=r[o],l+=a[t>>4&15]+a[15&t],i>1&&(l+=a[t>>12&15]+a[t>>8&15]),i>2&&(l+=a[t>>20&15]+a[t>>16&15])),l},R.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;t=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var l=new Uint32Array(t);s<n;){for(o=0;o<e&&s<n;++o,++s)l[s]=r[o];s%e==0&&P(r)}return i&&(l[o]=r[o],t=t.slice(0,a)),t},R.prototype.buffer=R.prototype.arrayBuffer,R.prototype.digest=R.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,l=[];a<i;){for(s=0;s<r&&a<i;++s,++a)t=a<<2,e=n[s],l[t]=255&e,l[t+1]=e>>8&255,l[t+2]=e>>16&255,l[t+3]=e>>24&255;a%r==0&&P(n)}return o&&(t=a<<2,e=n[s],l[t]=255&e,o>1&&(l[t+1]=e>>8&255),o>2&&(l[t+2]=e>>16&255)),l},T.prototype=new R,T.prototype.finalize=function(){return this.encode(this.outputBits,!0),R.prototype.finalize.call(this)};var P=function(t){var e,r,n,i,o,s,a,l,u,h,f,d,p,m,g,v,y,b,w,_,E,M,A,I,S,k,x,N,R,T,P,O,C,$,F,L,B,D,U,q,z,j,G,H,W,V,J,K,X,Z,Y,Q,tt,et,rt,nt,it,ot,st,at,lt,ut,ct;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],o=t[1]^t[11]^t[21]^t[31]^t[41],s=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],l=t[4]^t[14]^t[24]^t[34]^t[44],u=t[5]^t[15]^t[25]^t[35]^t[45],h=t[6]^t[16]^t[26]^t[36]^t[46],f=t[7]^t[17]^t[27]^t[37]^t[47],e=(d=t[8]^t[18]^t[28]^t[38]^t[48])^(s<<1|a>>>31),r=(p=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|s>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(l<<1|u>>>31),r=o^(u<<1|l>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=s^(h<<1|f>>>31),r=a^(f<<1|h>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=l^(d<<1|p>>>31),r=u^(p<<1|d>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=h^(i<<1|o>>>31),r=f^(o<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,m=t[0],g=t[1],V=t[11]<<4|t[10]>>>28,J=t[10]<<4|t[11]>>>28,N=t[20]<<3|t[21]>>>29,R=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,lt=t[30]<<9|t[31]>>>23,j=t[40]<<18|t[41]>>>14,G=t[41]<<18|t[40]>>>14,$=t[2]<<1|t[3]>>>31,F=t[3]<<1|t[2]>>>31,v=t[13]<<12|t[12]>>>20,y=t[12]<<12|t[13]>>>20,K=t[22]<<10|t[23]>>>22,X=t[23]<<10|t[22]>>>22,T=t[33]<<13|t[32]>>>19,P=t[32]<<13|t[33]>>>19,ut=t[42]<<2|t[43]>>>30,ct=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,L=t[14]<<6|t[15]>>>26,B=t[15]<<6|t[14]>>>26,b=t[25]<<11|t[24]>>>21,w=t[24]<<11|t[25]>>>21,Z=t[34]<<15|t[35]>>>17,Y=t[35]<<15|t[34]>>>17,O=t[45]<<29|t[44]>>>3,C=t[44]<<29|t[45]>>>3,I=t[6]<<28|t[7]>>>4,S=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,D=t[26]<<25|t[27]>>>7,U=t[27]<<25|t[26]>>>7,_=t[36]<<21|t[37]>>>11,E=t[37]<<21|t[36]>>>11,Q=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,H=t[8]<<27|t[9]>>>5,W=t[9]<<27|t[8]>>>5,k=t[18]<<20|t[19]>>>12,x=t[19]<<20|t[18]>>>12,ot=t[29]<<7|t[28]>>>25,st=t[28]<<7|t[29]>>>25,q=t[38]<<8|t[39]>>>24,z=t[39]<<8|t[38]>>>24,M=t[48]<<14|t[49]>>>18,A=t[49]<<14|t[48]>>>18,t[0]=m^~v&b,t[1]=g^~y&w,t[10]=I^~k&N,t[11]=S^~x&R,t[20]=$^~L&D,t[21]=F^~B&U,t[30]=H^~V&K,t[31]=W^~J&X,t[40]=et^~nt&ot,t[41]=rt^~it&st,t[2]=v^~b&_,t[3]=y^~w&E,t[12]=k^~N&T,t[13]=x^~R&P,t[22]=L^~D&q,t[23]=B^~U&z,t[32]=V^~K&Z,t[33]=J^~X&Y,t[42]=nt^~ot&at,t[43]=it^~st&lt,t[4]=b^~_&M,t[5]=w^~E&A,t[14]=N^~T&O,t[15]=R^~P&C,t[24]=D^~q&j,t[25]=U^~z&G,t[34]=K^~Z&Q,t[35]=X^~Y&tt,t[44]=ot^~at&ut,t[45]=st^~lt&ct,t[6]=_^~M&m,t[7]=E^~A&g,t[16]=T^~O&I,t[17]=P^~C&S,t[26]=q^~j&$,t[27]=z^~G&F,t[36]=Z^~Q&H,t[37]=Y^~tt&W,t[46]=at^~ut&et,t[47]=lt^~ct&rt,t[8]=M^~m&v,t[9]=A^~g&y,t[18]=O^~I&k,t[19]=C^~S&x,t[28]=j^~$&L,t[29]=G^~F&B,t[38]=Q^~H&V,t[39]=tt^~W&J,t[48]=ut^~et&nt,t[49]=ct^~rt&it,t[0]^=c[n],t[1]^=c[n+1]};if(o)t.exports=E;else for(A=0;A<M.length;++A)n[M[A]]=E[M[A]]}()}(nr);var ir=nr.exports;function or(t){return"0x"+ir.keccak_256(Xt(t))}const sr=new jt("rlp/5.6.1");function ar(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function lr(t,e,r){let n=0;for(let i=0;i<r;i++)n=256*n+t[e+i];return n}function ur(t){if(Array.isArray(t)){let e=[];if(t.forEach((function(t){e=e.concat(ur(t))})),e.length<=55)return e.unshift(192+e.length),e;const r=ar(e.length);return r.unshift(247+r.length),r.concat(e)}Vt(t)||sr.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Xt(t));if(1===e.length&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=ar(e.length);return r.unshift(183+r.length),r.concat(e)}function cr(t){return ee(ur(t))}function hr(t,e,r,n){const i=[];for(;r<e+1+n;){const o=fr(t,r);i.push(o.result),(r+=o.consumed)>e+1+n&&sr.throwError("child data too short",jt.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function fr(t,e){if(0===t.length&&sr.throwError("data too short",jt.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&sr.throwError("data short segment too short",jt.errors.BUFFER_OVERRUN,{});const n=lr(t,e+1,r);return e+1+r+n>t.length&&sr.throwError("data long segment too short",jt.errors.BUFFER_OVERRUN,{}),hr(t,e,e+1+r,r+n)}if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&sr.throwError("data array too short",jt.errors.BUFFER_OVERRUN,{}),hr(t,e,e+1,r)}if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&sr.throwError("data array too short",jt.errors.BUFFER_OVERRUN,{});const n=lr(t,e+1,r);e+1+r+n>t.length&&sr.throwError("data array too short",jt.errors.BUFFER_OVERRUN,{});return{consumed:1+r+n,result:ee(t.slice(e+1+r,e+1+r+n))}}if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&sr.throwError("data too short",jt.errors.BUFFER_OVERRUN,{});return{consumed:1+r,result:ee(t.slice(e+1,e+1+r))}}return{consumed:1,result:ee(t[e])}}function dr(t){const e=Xt(t),r=fr(e,0);return r.consumed!==e.length&&sr.throwArgumentError("invalid rlp data","data",t),r.result}const pr=new jt("address/5.6.1");function mr(t){Qt(t,20)||pr.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const n=Xt(or(r));for(let t=0;t<40;t+=2)n[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&n[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const gr={};for(let t=0;t<10;t++)gr[String(t)]=String(t);for(let t=0;t<26;t++)gr[String.fromCharCode(65+t)]=String(10+t);const vr=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function yr(t){let e=null;if("string"!=typeof t&&pr.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=mr(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&pr.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==function(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>gr[t])).join("");for(;e.length>=vr;){let t=e.substring(0,vr);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}(t)&&pr.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new le(r,36).toString(16);e.length<40;)e="0"+e;e=mr("0x"+e)}else pr.throwArgumentError("invalid address","address",t);var r;return e}function br(t){let e=null;try{e=yr(t.from)}catch(e){pr.throwArgumentError("missing from address","transaction",t)}return yr(ne(or(cr([e,Yt(Xt(de.from(t.nonce).toHexString()))])),12))}class wr extends tr{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){try{e=yr(e)}catch(t){this._throwError(t.message,e)}return t.writeValue(e)}decode(t){return yr(se(t.readValue().toHexString(),20))}}class _r extends tr{constructor(t){super(t.name,t.type,void 0,t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}const Er=new jt(Ne);function Mr(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let t={};n=e.map((e=>{const n=e.localName;return n||Er.throwError("cannot encode object for signature with missing names",jt.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),t[n]&&Er.throwError("cannot encode object for signature with duplicate names",jt.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),t[n]=!0,r[n]}))}else Er.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&Er.throwArgumentError("types/value length mismatch","tuple",r);let i=new er(t.wordSize),o=new er(t.wordSize),s=[];e.forEach(((t,e)=>{let r=n[e];if(t.dynamic){let e=o.length;t.encode(o,r);let n=i.writeUpdatableValue();s.push((t=>{n(t+e)}))}else t.encode(i,r)})),s.forEach((t=>{t(i.length)}));let a=t.appendWriter(i);return a+=t.appendWriter(o),a}function Ar(t,e){let r=[],n=t.subReader(0);e.forEach((e=>{let i=null;if(e.dynamic){let r=t.readValue(),o=n.subReader(r.toNumber());try{i=e.decode(o)}catch(t){if(t.code===jt.errors.BUFFER_OVERRUN)throw t;i=t,i.baseType=e.name,i.name=e.localName,i.type=e.type}}else try{i=e.decode(t)}catch(t){if(t.code===jt.errors.BUFFER_OVERRUN)throw t;i=t,i.baseType=e.name,i.name=e.localName,i.type=e.type}null!=i&&r.push(i)}));const i=e.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});e.forEach(((t,e)=>{let n=t.localName;if(!n||1!==i[n])return;if("length"===n&&(n="_length"),null!=r[n])return;const o=r[e];o instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:()=>{throw o}}):r[n]=o}));for(let t=0;t<r.length;t++){const e=r[t];e instanceof Error&&Object.defineProperty(r,t,{enumerable:!0,get:()=>{throw e}})}return Object.freeze(r)}class Ir extends tr{constructor(t,e,r){super("array",t.type+"["+(e>=0?e:"")+"]",r,-1===e||t.dynamic),this.coder=t,this.length=e}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let r=0;r<this.length;r++)e.push(t);return e}encode(t,e){Array.isArray(e)||this._throwError("expected array value",e);let r=this.length;-1===r&&(r=e.length,t.writeValue(e.length)),Er.checkArgumentCount(e.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let t=0;t<e.length;t++)n.push(this.coder);return Mr(t,n,e)}decode(t){let e=this.length;-1===e&&(e=t.readValue().toNumber(),32*e>t._data.length&&Er.throwError("insufficient data length",jt.errors.BUFFER_OVERRUN,{length:t._data.length,count:e}));let r=[];for(let t=0;t<e;t++)r.push(new _r(this.coder));return t.coerce(this.name,Ar(t,r))}}class Sr extends tr{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){return t.writeValue(e?1:0)}decode(t){return t.coerce(this.type,!t.readValue().isZero())}}class kr extends tr{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=Xt(e);let r=t.writeValue(e.length);return r+=t.writeBytes(e),r}decode(t){return t.readBytes(t.readValue().toNumber(),!0)}}class xr extends kr{constructor(t){super("bytes",t)}decode(t){return t.coerce(this.name,ee(super.decode(t)))}}class Nr extends tr{constructor(t,e){let r="bytes"+String(t);super(r,r,e,!1),this.size=t}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(t,e){let r=Xt(e);return r.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(r)}decode(t){return t.coerce(this.name,ee(t.readBytes(this.size)))}}class Rr extends tr{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return null!=e&&this._throwError("not null",e),t.writeBytes([])}decode(t){return t.readBytes(0),t.coerce(this.name,null)}}const Tr=de.from(-1),Pr=de.from(0),Or=de.from(1),Cr=de.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class $r extends tr{constructor(t,e,r){const n=(e?"int":"uint")+8*t;super(n,n,r,!1),this.size=t,this.signed=e}defaultValue(){return 0}encode(t,e){let r=de.from(e),n=Cr.mask(8*t.wordSize);if(this.signed){let t=n.mask(8*this.size-1);(r.gt(t)||r.lt(t.add(Or).mul(Tr)))&&this._throwError("value out-of-bounds",e)}else(r.lt(Pr)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",e);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*t.wordSize)),t.writeValue(r)}decode(t){let e=t.readValue().mask(8*this.size);return this.signed&&(e=e.fromTwos(8*this.size)),t.coerce(this.name,e)}}const Fr=new jt("strings/5.6.1");var Lr,Br;function Dr(t,e,r,n,i){if(t===Br.BAD_PREFIX||t===Br.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6==2;n++)t++;return t}return t===Br.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(Lr||(Lr={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(Br||(Br={}));const Ur=Object.freeze({error:function(t,e,r,n,i){return Fr.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:Dr,replace:function(t,e,r,n,i){return t===Br.OVERLONG?(n.push(i),0):(n.push(65533),Dr(t,e,r))}});function qr(t,e){null==e&&(e=Ur.error),t=Xt(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7==0){r.push(i);continue}let o=null,s=null;if(192==(224&i))o=1,s=127;else if(224==(240&i))o=2,s=2047;else{if(240!=(248&i)){n+=e(128==(192&i)?Br.UNEXPECTED_CONTINUE:Br.BAD_PREFIX,n-1,t,r);continue}o=3,s=65535}if(n-1+o>=t.length){n+=e(Br.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-o-1)-1;for(let i=0;i<o;i++){let i=t[n];if(128!=(192&i)){n+=e(Br.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|63&i,n++}null!==a&&(a>1114111?n+=e(Br.OUT_OF_RANGE,n-1-o,t,r,a):a>=55296&&a<=57343?n+=e(Br.UTF16_SURROGATE,n-1-o,t,r,a):a<=s?n+=e(Br.OVERLONG,n-1-o,t,r,a):r.push(a))}return r}function zr(t,e=Lr.current){e!=Lr.current&&(Fr.checkNormalize(),t=t.normalize(e));let r=[];for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){e++;const i=t.charCodeAt(e);if(e>=t.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&n)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return Xt(r)}function jr(t){return t.map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}function Gr(t,e){return jr(qr(t,e))}function Hr(t,e=Lr.current){return qr(zr(t,e))}function Wr(t,e){e||(e=function(t){return[parseInt(t,16)]});let r=0,n={};return t.split(",").forEach((t=>{let i=t.split(":");r+=parseInt(i[0],16),n[r]=e(i[1])})),n}function Vr(t){let e=0;return t.split(",").map((t=>{let r=t.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let n=e+parseInt(r[0],16);return e=parseInt(r[1],16),{l:n,h:e}}))}function Jr(t,e){let r=0;for(let n=0;n<e.length;n++){let i=e[n];if(r+=i.l,t>=r&&t<=r+i.h&&(t-r)%(i.d||1)==0){if(i.e&&-1!==i.e.indexOf(t-r))continue;return i}}return null}const Kr=Vr("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Xr="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((t=>parseInt(t,16))),Zr=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Yr=Wr("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Qr=Wr("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),tn=Wr("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(t){if(t.length%4!=0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e})),en=Vr("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function rn(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();let e=Hr(t);var r;r=e.map((t=>{if(Xr.indexOf(t)>=0)return[];if(t>=65024&&t<=65039)return[];let e=function(t){let e=Jr(t,Zr);if(e)return[t+e.s];let r=Yr[t];if(r)return r;let n=Qr[t];return n?[t+n[0]]:tn[t]||null}(t);return e||[t]})),e=r.reduce(((t,e)=>(e.forEach((e=>{t.push(e)})),t)),[]),e=Hr(jr(e),Lr.NFKC),e.forEach((t=>{if(Jr(t,en))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),e.forEach((t=>{if(Jr(t,Kr))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));let n=jr(e);if("-"===n.substring(0,1)||"--"===n.substring(2,4)||"-"===n.substring(n.length-1))throw new Error("invalid hyphen");if(n.length>63)throw new Error("too long");return n}class nn extends kr{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,zr(e))}decode(t){return Gr(super.decode(t))}}class on extends tr{constructor(t,e){let r=!1;const n=[];t.forEach((t=>{t.dynamic&&(r=!0),n.push(t.type)}));super("tuple","tuple("+n.join(",")+")",e,r),this.coders=t}defaultValue(){const t=[];this.coders.forEach((e=>{t.push(e.defaultValue())}));const e=this.coders.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});return this.coders.forEach(((r,n)=>{let i=r.localName;i&&1===e[i]&&("length"===i&&(i="_length"),null==t[i]&&(t[i]=t[n]))})),Object.freeze(t)}encode(t,e){return Mr(t,this.coders,e)}decode(t){return t.coerce(this.name,Ar(t,this.coders))}}const sn=new jt(Ne),an=new RegExp(/^bytes([0-9]*)$/),ln=new RegExp(/^(u?int)([0-9]*)$/);const un=new class{constructor(t){we(this,"coerceFunc",t||null)}_getCoder(t){switch(t.baseType){case"address":return new wr(t.name);case"bool":return new Sr(t.name);case"string":return new nn(t.name);case"bytes":return new xr(t.name);case"array":return new Ir(this._getCoder(t.arrayChildren),t.arrayLength,t.name);case"tuple":return new on((t.components||[]).map((t=>this._getCoder(t))),t.name);case"":return new Rr(t.name)}let e=t.type.match(ln);if(e){let r=parseInt(e[2]||"256");return(0===r||r>256||r%8!=0)&&sn.throwArgumentError("invalid "+e[1]+" bit length","param",t),new $r(r/8,"int"===e[1],t.name)}if(e=t.type.match(an),e){let r=parseInt(e[1]);return(0===r||r>32)&&sn.throwArgumentError("invalid bytes length","param",t),new Nr(r,t.name)}return sn.throwArgumentError("invalid type","type",t.type)}_getWordSize(){return 32}_getReader(t,e){return new rr(t,this._getWordSize(),this.coerceFunc,e)}_getWriter(){return new er(this._getWordSize())}getDefaultValue(t){const e=t.map((t=>this._getCoder(Be.from(t))));return new on(e,"_").defaultValue()}encode(t,e){t.length!==e.length&&sn.throwError("types/values length mismatch",jt.errors.INVALID_ARGUMENT,{count:{types:t.length,values:e.length},value:{types:t,values:e}});const r=t.map((t=>this._getCoder(Be.from(t)))),n=new on(r,"_"),i=this._getWriter();return n.encode(i,e),i.data}decode(t,e,r){const n=t.map((t=>this._getCoder(Be.from(t))));return new on(n,"_").decode(this._getReader(Xt(e),r))}};function cn(t){return or(zr(t))}const hn="hash/5.6.1",fn=new jt(hn),dn=new Uint8Array(32);dn.fill(0);const pn=new RegExp("^((.*)\\.)?([^.]+)$");function mn(t){"string"!=typeof t&&fn.throwArgumentError("invalid ENS name; not a string","name",t);let e=t,r=dn;for(;e.length;){const n=e.match(pn);null!=n&&""!==n[2]||fn.throwArgumentError("invalid ENS address; missing component","name",t);r=or(Zt([r,or(zr(rn(n[3])))])),e=n[2]||""}return ee(r)}function gn(t){return ee(Zt(t.split(".").map((t=>{const e=zr("_"+rn(t));return e[0]=e.length-1,e}))))+"00"}var vn=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};const yn=new jt(hn),bn=new Uint8Array(32);bn.fill(0);const wn=de.from(-1),_n=de.from(0),En=de.from(1),Mn=de.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const An=se(En.toHexString(),32),In=se(_n.toHexString(),32),Sn={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},kn=["name","version","chainId","verifyingContract","salt"];function xn(t){return function(e){return"string"!=typeof e&&yn.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Nn={name:xn("name"),version:xn("version"),chainId:function(t){try{return de.from(t).toString()}catch(t){}return yn.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return yr(t).toLowerCase()}catch(t){}return yn.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Xt(t);if(32!==e.length)throw new Error("bad length");return ee(e)}catch(t){}return yn.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function Rn(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=""===e[1],n=parseInt(e[2]||"256");(n%8!=0||n>256||e[2]&&e[2]!==String(n))&&yn.throwArgumentError("invalid numeric width","type",t);const i=Mn.mask(r?n-1:n),o=r?i.add(En).mul(wn):_n;return function(e){const r=de.from(e);return(r.lt(o)||r.gt(i))&&yn.throwArgumentError(`value out-of-bounds for ${t}`,"value",e),se(r.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(0===r||r>32||e[1]!==String(r))&&yn.throwArgumentError("invalid bytes width","type",t),function(e){return Xt(e).length!==r&&yn.throwArgumentError(`invalid length for ${t}`,"value",e),function(t){const e=Xt(t),r=e.length%32;return r?ie([e,bn.slice(r)]):ee(e)}(e)}}}switch(t){case"address":return function(t){return se(yr(t),32)};case"bool":return function(t){return t?An:In};case"bytes":return function(t){return or(t)};case"string":return function(t){return cn(t)}}return null}function Tn(t,e){return`${t}(${e.map((({name:t,type:e})=>e+" "+t)).join(",")})`}class Pn{constructor(t){we(this,"types",Object.freeze(ke(t))),we(this,"_encoderCache",{}),we(this,"_types",{});const e={},r={},n={};Object.keys(t).forEach((t=>{e[t]={},r[t]=[],n[t]={}}));for(const n in t){const i={};t[n].forEach((o=>{i[o.name]&&yn.throwArgumentError(`duplicate variable name ${JSON.stringify(o.name)} in ${JSON.stringify(n)}`,"types",t),i[o.name]=!0;const s=o.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===n&&yn.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",t);Rn(s)||(r[s]||yn.throwArgumentError(`unknown type ${JSON.stringify(s)}`,"types",t),r[s].push(n),e[n][s]=!0)}))}const i=Object.keys(r).filter((t=>0===r[t].length));0===i.length?yn.throwArgumentError("missing primary type","types",t):i.length>1&&yn.throwArgumentError(`ambiguous primary types or unused types: ${i.map((t=>JSON.stringify(t))).join(", ")}`,"types",t),we(this,"primaryType",i[0]),function i(o,s){s[o]&&yn.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",t),s[o]=!0,Object.keys(e[o]).forEach((t=>{r[t]&&(i(t,s),Object.keys(s).forEach((e=>{n[e][t]=!0})))})),delete s[o]}(this.primaryType,{});for(const e in n){const r=Object.keys(n[e]);r.sort(),this._types[e]=Tn(e,t[e])+r.map((e=>Tn(e,t[e]))).join("")}}getEncoder(t){let e=this._encoderCache[t];return e||(e=this._encoderCache[t]=this._getEncoder(t)),e}_getEncoder(t){{const e=Rn(t);if(e)return e}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const t=e[1],r=this.getEncoder(t),n=parseInt(e[3]);return e=>{n>=0&&e.length!==n&&yn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);let i=e.map(r);return this._types[t]&&(i=i.map(or)),or(ie(i))}}const r=this.types[t];if(r){const e=cn(this._types[t]);return t=>{const n=r.map((({name:e,type:r})=>{const n=this.getEncoder(r)(t[e]);return this._types[r]?or(n):n}));return n.unshift(e),ie(n)}}return yn.throwArgumentError(`unknown type: ${t}`,"type",t)}encodeType(t){const e=this._types[t];return e||yn.throwArgumentError(`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return or(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,r){if(Rn(t))return r(t,e);const n=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const t=n[1],i=parseInt(n[3]);return i>=0&&e.length!==i&&yn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e),e.map((e=>this._visit(t,e,r)))}const i=this.types[t];return i?i.reduce(((t,{name:n,type:i})=>(t[n]=this._visit(i,e[n],r),t)),{}):yn.throwArgumentError(`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new Pn(t)}static getPrimaryType(t){return Pn.from(t).primaryType}static hashStruct(t,e,r){return Pn.from(e).hashStruct(t,r)}static hashDomain(t){const e=[];for(const r in t){const n=Sn[r];n||yn.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",t),e.push({name:r,type:n})}return e.sort(((t,e)=>kn.indexOf(t.name)-kn.indexOf(e.name))),Pn.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,r){return ie(["0x1901",Pn.hashDomain(t),Pn.from(e).hash(r)])}static hash(t,e,r){return or(Pn.encode(t,e,r))}static resolveNames(t,e,r,n){return vn(this,void 0,void 0,(function*(){t=Me(t);const i={};t.verifyingContract&&!Qt(t.verifyingContract,20)&&(i[t.verifyingContract]="0x");const o=Pn.from(e);o.visit(r,((t,e)=>("address"!==t||Qt(e,20)||(i[e]="0x"),e)));for(const t in i)i[t]=yield n(t);return t.verifyingContract&&i[t.verifyingContract]&&(t.verifyingContract=i[t.verifyingContract]),r=o.visit(r,((t,e)=>"address"===t&&i[e]?i[e]:e)),{domain:t,value:r}}))}static getPayload(t,e,r){Pn.hashDomain(t);const n={},i=[];kn.forEach((e=>{const r=t[e];null!=r&&(n[e]=Nn[e](r),i.push({name:e,type:Sn[e]}))}));const o=Pn.from(e),s=Me(e);return s.EIP712Domain?yn.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",e):s.EIP712Domain=i,o.encode(r),{types:s,domain:n,primaryType:o.primaryType,message:o.visit(r,((t,e)=>{if(t.match(/^bytes(\d*)/))return ee(Xt(e));if(t.match(/^u?int/))return de.from(e).toString();switch(t){case"address":return e.toLowerCase();case"bool":return!!e;case"string":return"string"!=typeof e&&yn.throwArgumentError("invalid string","value",e),e}return yn.throwArgumentError("unsupported type","type",t)}))}}}const On=new jt(Ne);class Cn extends xe{}class $n extends xe{}class Fn extends xe{}class Ln extends xe{static isIndexed(t){return!(!t||!t._isIndexed)}}const Bn={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Dn(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class Un{constructor(t){let e=[];e="string"==typeof t?JSON.parse(t):t,we(this,"fragments",e.map((t=>Ue.from(t))).filter((t=>null!=t))),we(this,"_abiCoder",_e(new.target,"getAbiCoder")()),we(this,"functions",{}),we(this,"errors",{}),we(this,"events",{}),we(this,"structs",{}),this.fragments.forEach((t=>{let e=null;switch(t.type){case"constructor":return this.deploy?void On.warn("duplicate definition - constructor"):void we(this,"deploy",t);case"function":e=this.functions;break;case"event":e=this.events;break;case"error":e=this.errors;break;default:return}let r=t.format();e[r]?On.warn("duplicate definition - "+r):e[r]=t})),this.deploy||we(this,"deploy",He.from({payable:!1,type:"constructor"})),we(this,"_isInterface",!0)}format(t){t||(t=Fe.full),t===Fe.sighash&&On.throwArgumentError("interface does not support formatting sighash","format",t);const e=this.fragments.map((e=>e.format(t)));return t===Fe.json?JSON.stringify(e.map((t=>JSON.parse(t)))):e}static getAbiCoder(){return un}static getAddress(t){return yr(t)}static getSighash(t){return ne(cn(t.format()),0,4)}static getEventTopic(t){return cn(t.format())}getFunction(t){if(Qt(t)){for(const e in this.functions)if(t===this.getSighash(e))return this.functions[e];On.throwArgumentError("no matching function","sighash",t)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.functions).filter((t=>t.split("(")[0]===e));return 0===r.length?On.throwArgumentError("no matching function","name",e):r.length>1&&On.throwArgumentError("multiple matching functions","name",e),this.functions[r[0]]}const e=this.functions[We.fromString(t).format()];return e||On.throwArgumentError("no matching function","signature",t),e}getEvent(t){if(Qt(t)){const e=t.toLowerCase();for(const t in this.events)if(e===this.getEventTopic(t))return this.events[t];On.throwArgumentError("no matching event","topichash",e)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.events).filter((t=>t.split("(")[0]===e));return 0===r.length?On.throwArgumentError("no matching event","name",e):r.length>1&&On.throwArgumentError("multiple matching events","name",e),this.events[r[0]]}const e=this.events[qe.fromString(t).format()];return e||On.throwArgumentError("no matching event","signature",t),e}getError(t){if(Qt(t)){const e=_e(this.constructor,"getSighash");for(const r in this.errors){if(t===e(this.errors[r]))return this.errors[r]}On.throwArgumentError("no matching error","sighash",t)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.errors).filter((t=>t.split("(")[0]===e));return 0===r.length?On.throwArgumentError("no matching error","name",e):r.length>1&&On.throwArgumentError("multiple matching errors","name",e),this.errors[r[0]]}const e=this.errors[We.fromString(t).format()];return e||On.throwArgumentError("no matching error","signature",t),e}getSighash(t){if("string"==typeof t)try{t=this.getFunction(t)}catch(e){try{t=this.getError(t)}catch(t){throw e}}return _e(this.constructor,"getSighash")(t)}getEventTopic(t){return"string"==typeof t&&(t=this.getEvent(t)),_e(this.constructor,"getEventTopic")(t)}_decodeParams(t,e){return this._abiCoder.decode(t,e)}_encodeParams(t,e){return this._abiCoder.encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){"string"==typeof t&&(t=this.getError(t));const r=Xt(e);return ee(r.slice(0,4))!==this.getSighash(t)&&On.throwArgumentError(`data signature does not match error ${t.name}.`,"data",ee(r)),this._decodeParams(t.inputs,r.slice(4))}encodeErrorResult(t,e){return"string"==typeof t&&(t=this.getError(t)),ee(Zt([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}decodeFunctionData(t,e){"string"==typeof t&&(t=this.getFunction(t));const r=Xt(e);return ee(r.slice(0,4))!==this.getSighash(t)&&On.throwArgumentError(`data signature does not match function ${t.name}.`,"data",ee(r)),this._decodeParams(t.inputs,r.slice(4))}encodeFunctionData(t,e){return"string"==typeof t&&(t=this.getFunction(t)),ee(Zt([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}decodeFunctionResult(t,e){"string"==typeof t&&(t=this.getFunction(t));let r=Xt(e),n=null,i="",o=null,s=null,a=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(t.outputs,r)}catch(t){}break;case 4:{const t=ee(r.slice(0,4)),e=Bn[t];if(e)o=this._abiCoder.decode(e.inputs,r.slice(4)),s=e.name,a=e.signature,e.reason&&(n=o[0]),"Error"===s?i=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:"Panic"===s&&(i=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const e=this.getError(t);o=this._abiCoder.decode(e.inputs,r.slice(4)),s=e.name,a=e.format()}catch(t){}break}}return On.throwError("call revert exception"+i,jt.errors.CALL_EXCEPTION,{method:t.format(),data:ee(e),errorArgs:o,errorName:s,errorSignature:a,reason:n})}encodeFunctionResult(t,e){return"string"==typeof t&&(t=this.getFunction(t)),ee(this._abiCoder.encode(t.outputs,e||[]))}encodeFilterTopics(t,e){"string"==typeof t&&(t=this.getEvent(t)),e.length>t.inputs.length&&On.throwError("too many arguments for "+t.format(),jt.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:e});let r=[];t.anonymous||r.push(this.getEventTopic(t));const n=(t,e)=>"string"===t.type?cn(e):"bytes"===t.type?or(ee(e)):("bool"===t.type&&"boolean"==typeof e&&(e=e?"0x01":"0x00"),t.type.match(/^u?int/)&&(e=de.from(e).toHexString()),"address"===t.type&&this._abiCoder.encode(["address"],[e]),se(ee(e),32));for(e.forEach(((e,i)=>{let o=t.inputs[i];o.indexed?null==e?r.push(null):"array"===o.baseType||"tuple"===o.baseType?On.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,e):Array.isArray(e)?r.push(e.map((t=>n(o,t)))):r.push(n(o,e)):null!=e&&On.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,e)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(t,e){"string"==typeof t&&(t=this.getEvent(t));const r=[],n=[],i=[];return t.anonymous||r.push(this.getEventTopic(t)),e.length!==t.inputs.length&&On.throwArgumentError("event arguments/values mismatch","values",e),t.inputs.forEach(((t,o)=>{const s=e[o];if(t.indexed)if("string"===t.type)r.push(cn(s));else if("bytes"===t.type)r.push(or(s));else{if("tuple"===t.baseType||"array"===t.baseType)throw new Error("not implemented");r.push(this._abiCoder.encode([t.type],[s]))}else n.push(t),i.push(s)})),{data:this._abiCoder.encode(n,i),topics:r}}decodeEventLog(t,e,r){if("string"==typeof t&&(t=this.getEvent(t)),null!=r&&!t.anonymous){let e=this.getEventTopic(t);Qt(r[0],32)&&r[0].toLowerCase()===e||On.throwError("fragment/topic mismatch",jt.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:e,value:r[0]}),r=r.slice(1)}let n=[],i=[],o=[];t.inputs.forEach(((t,e)=>{t.indexed?"string"===t.type||"bytes"===t.type||"tuple"===t.baseType||"array"===t.baseType?(n.push(Be.fromObject({type:"bytes32",name:t.name})),o.push(!0)):(n.push(t),o.push(!1)):(i.push(t),o.push(!1))}));let s=null!=r?this._abiCoder.decode(n,Zt(r)):null,a=this._abiCoder.decode(i,e,!0),l=[],u=0,c=0;t.inputs.forEach(((t,e)=>{if(t.indexed)if(null==s)l[e]=new Ln({_isIndexed:!0,hash:null});else if(o[e])l[e]=new Ln({_isIndexed:!0,hash:s[c++]});else try{l[e]=s[c++]}catch(t){l[e]=t}else try{l[e]=a[u++]}catch(t){l[e]=t}if(t.name&&null==l[t.name]){const r=l[e];r instanceof Error?Object.defineProperty(l,t.name,{enumerable:!0,get:()=>{throw Dn(`property ${JSON.stringify(t.name)}`,r)}}):l[t.name]=r}}));for(let t=0;t<l.length;t++){const e=l[t];e instanceof Error&&Object.defineProperty(l,t,{enumerable:!0,get:()=>{throw Dn(`index ${t}`,e)}})}return Object.freeze(l)}parseTransaction(t){let e=this.getFunction(t.data.substring(0,10).toLowerCase());return e?new $n({args:this._abiCoder.decode(e.inputs,"0x"+t.data.substring(10)),functionFragment:e,name:e.name,signature:e.format(),sighash:this.getSighash(e),value:de.from(t.value||"0")}):null}parseLog(t){let e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new Cn({eventFragment:e,name:e.name,signature:e.format(),topic:this.getEventTopic(e),args:this.decodeEventLog(e,t.data,t.topics)})}parseError(t){const e=ee(t);let r=this.getError(e.substring(0,10).toLowerCase());return r?new Fn({args:this._abiCoder.decode(r.inputs,"0x"+e.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(t){return!(!t||!t._isInterface)}}var qn=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};const zn=new jt("abstract-provider/5.6.1");class jn extends xe{static isForkEvent(t){return!(!t||!t._isForkEvent)}}class Gn{constructor(){zn.checkAbstract(new.target,Gn),we(this,"_isProvider",!0)}getFeeData(){return qn(this,void 0,void 0,(function*(){const{block:t,gasPrice:e}=yield Ee({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((t=>null))});let r=null,n=null;return t&&t.baseFeePerGas&&(n=de.from("1500000000"),r=t.baseFeePerGas.mul(2).add(n)),{maxFeePerGas:r,maxPriorityFeePerGas:n,gasPrice:e}}))}addListener(t,e){return this.on(t,e)}removeListener(t,e){return this.off(t,e)}static isProvider(t){return!(!t||!t._isProvider)}}var Hn=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};const Wn=new jt("abstract-signer/5.6.2"),Vn=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Jn=[jt.errors.INSUFFICIENT_FUNDS,jt.errors.NONCE_EXPIRED,jt.errors.REPLACEMENT_UNDERPRICED];class Kn{constructor(){Wn.checkAbstract(new.target,Kn),we(this,"_isSigner",!0)}getBalance(t){return Hn(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)}))}getTransactionCount(t){return Hn(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)}))}estimateGas(t){return Hn(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const e=yield Ee(this.checkTransaction(t));return yield this.provider.estimateGas(e)}))}call(t,e){return Hn(this,void 0,void 0,(function*(){this._checkProvider("call");const r=yield Ee(this.checkTransaction(t));return yield this.provider.call(r,e)}))}sendTransaction(t){return Hn(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const e=yield this.populateTransaction(t),r=yield this.signTransaction(e);return yield this.provider.sendTransaction(r)}))}getChainId(){return Hn(this,void 0,void 0,(function*(){this._checkProvider("getChainId");return(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return Hn(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return Hn(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(t){return Hn(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)}))}checkTransaction(t){for(const e in t)-1===Vn.indexOf(e)&&Wn.throwArgumentError("invalid transaction key: "+e,"transaction",t);const e=Me(t);return null==e.from?e.from=this.getAddress():e.from=Promise.all([Promise.resolve(e.from),this.getAddress()]).then((e=>(e[0].toLowerCase()!==e[1].toLowerCase()&&Wn.throwArgumentError("from address mismatch","transaction",t),e[0]))),e}populateTransaction(t){return Hn(this,void 0,void 0,(function*(){const e=yield Ee(this.checkTransaction(t));null!=e.to&&(e.to=Promise.resolve(e.to).then((t=>Hn(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.resolveName(t);return null==e&&Wn.throwArgumentError("provided ENS name resolves to null","tx.to",t),e})))),e.to.catch((t=>{})));const r=null!=e.maxFeePerGas||null!=e.maxPriorityFeePerGas;if(null==e.gasPrice||2!==e.type&&!r?0!==e.type&&1!==e.type||!r||Wn.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t):Wn.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t),2!==e.type&&null!=e.type||null==e.maxFeePerGas||null==e.maxPriorityFeePerGas)if(0===e.type||1===e.type)null==e.gasPrice&&(e.gasPrice=this.getGasPrice());else{const t=yield this.getFeeData();if(null==e.type)if(null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)if(e.type=2,null!=e.gasPrice){const t=e.gasPrice;delete e.gasPrice,e.maxFeePerGas=t,e.maxPriorityFeePerGas=t}else null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas);else null!=t.gasPrice?(r&&Wn.throwError("network does not support EIP-1559",jt.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==e.gasPrice&&(e.gasPrice=t.gasPrice),e.type=0):Wn.throwError("failed to get consistent fee data",jt.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===e.type&&(null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas))}else e.type=2;return null==e.nonce&&(e.nonce=this.getTransactionCount("pending")),null==e.gasLimit&&(e.gasLimit=this.estimateGas(e).catch((t=>{if(Jn.indexOf(t.code)>=0)throw t;return Wn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",jt.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,tx:e})}))),null==e.chainId?e.chainId=this.getChainId():e.chainId=Promise.all([Promise.resolve(e.chainId),this.getChainId()]).then((e=>(0!==e[1]&&e[0]!==e[1]&&Wn.throwArgumentError("chainId address mismatch","transaction",t),e[0]))),yield Ee(e)}))}_checkProvider(t){this.provider||Wn.throwError("missing provider",jt.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!(!t||!t._isSigner)}}class Xn extends Kn{constructor(t,e){super(),we(this,"address",t),we(this,"provider",e||null)}getAddress(){return Promise.resolve(this.address)}_fail(t,e){return Promise.resolve().then((()=>{Wn.throwError(t,jt.errors.UNSUPPORTED_OPERATION,{operation:e})}))}signMessage(t){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(t){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(t,e,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(t){return new Xn(this.address,t)}}var Zn={},Yn={},Qn=ti;function ti(t,e){if(!t)throw new Error(e||"Assertion failed")}ti.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var ei={exports:{}};"function"==typeof Object.create?ei.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:ei.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}};var ri=Qn,ni=ei.exports;function ii(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function oi(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function si(t){return 1===t.length?"0"+t:t}function ai(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}Yn.inherits=ni,Yn.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):ii(t,i)?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},Yn.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=si(t[r].toString(16));return e},Yn.htonl=oi,Yn.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=oi(i)),r+=ai(i.toString(16))}return r},Yn.zero2=si,Yn.zero8=ai,Yn.join32=function(t,e,r,n){var i=r-e;ri(i%4==0);for(var o=new Array(i/4),s=0,a=e;s<o.length;s++,a+=4){var l;l="big"===n?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],o[s]=l>>>0}return o},Yn.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];"big"===e?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},Yn.rotr32=function(t,e){return t>>>e|t<<32-e},Yn.rotl32=function(t,e){return t<<e|t>>>32-e},Yn.sum32=function(t,e){return t+e>>>0},Yn.sum32_3=function(t,e,r){return t+e+r>>>0},Yn.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},Yn.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},Yn.sum64=function(t,e,r,n){var i=t[e],o=n+t[e+1]>>>0,s=(o<n?1:0)+r+i;t[e]=s>>>0,t[e+1]=o},Yn.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},Yn.sum64_lo=function(t,e,r,n){return e+n>>>0},Yn.sum64_4_hi=function(t,e,r,n,i,o,s,a){var l=0,u=e;return l+=(u=u+n>>>0)<e?1:0,l+=(u=u+o>>>0)<o?1:0,t+r+i+s+(l+=(u=u+a>>>0)<a?1:0)>>>0},Yn.sum64_4_lo=function(t,e,r,n,i,o,s,a){return e+n+o+a>>>0},Yn.sum64_5_hi=function(t,e,r,n,i,o,s,a,l,u){var c=0,h=e;return c+=(h=h+n>>>0)<e?1:0,c+=(h=h+o>>>0)<o?1:0,c+=(h=h+a>>>0)<a?1:0,t+r+i+s+l+(c+=(h=h+u>>>0)<u?1:0)>>>0},Yn.sum64_5_lo=function(t,e,r,n,i,o,s,a,l,u){return e+n+o+a+u>>>0},Yn.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},Yn.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},Yn.shr64_hi=function(t,e,r){return t>>>r},Yn.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0};var li={},ui=Yn,ci=Qn;function hi(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}li.BlockHash=hi,hi.prototype.update=function(t,e){if(t=ui.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=ui.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},hi.prototype.digest=function(t){return this.update(this._pad()),ci(null===this.pending),this._digest(t)},hi.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n};var fi={},di={},pi=Yn.rotr32;function mi(t,e,r){return t&e^~t&r}function gi(t,e,r){return t&e^t&r^e&r}function vi(t,e,r){return t^e^r}di.ft_1=function(t,e,r,n){return 0===t?mi(e,r,n):1===t||3===t?vi(e,r,n):2===t?gi(e,r,n):void 0},di.ch32=mi,di.maj32=gi,di.p32=vi,di.s0_256=function(t){return pi(t,2)^pi(t,13)^pi(t,22)},di.s1_256=function(t){return pi(t,6)^pi(t,11)^pi(t,25)},di.g0_256=function(t){return pi(t,7)^pi(t,18)^t>>>3},di.g1_256=function(t){return pi(t,17)^pi(t,19)^t>>>10};var yi=Yn,bi=li,wi=di,_i=yi.rotl32,Ei=yi.sum32,Mi=yi.sum32_5,Ai=wi.ft_1,Ii=bi.BlockHash,Si=[1518500249,1859775393,2400959708,3395469782];function ki(){if(!(this instanceof ki))return new ki;Ii.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}yi.inherits(ki,Ii);var xi=ki;ki.blockSize=512,ki.outSize=160,ki.hmacStrength=80,ki.padLength=64,ki.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=_i(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],l=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),c=Mi(_i(i,5),Ai(u,o,s,a),l,r[n],Si[u]);l=a,a=s,s=_i(o,30),o=i,i=c}this.h[0]=Ei(this.h[0],i),this.h[1]=Ei(this.h[1],o),this.h[2]=Ei(this.h[2],s),this.h[3]=Ei(this.h[3],a),this.h[4]=Ei(this.h[4],l)},ki.prototype._digest=function(t){return"hex"===t?yi.toHex32(this.h,"big"):yi.split32(this.h,"big")};var Ni=Yn,Ri=li,Ti=di,Pi=Qn,Oi=Ni.sum32,Ci=Ni.sum32_4,$i=Ni.sum32_5,Fi=Ti.ch32,Li=Ti.maj32,Bi=Ti.s0_256,Di=Ti.s1_256,Ui=Ti.g0_256,qi=Ti.g1_256,zi=Ri.BlockHash,ji=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Gi(){if(!(this instanceof Gi))return new Gi;zi.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=ji,this.W=new Array(64)}Ni.inherits(Gi,zi);var Hi=Gi;Gi.blockSize=512,Gi.outSize=256,Gi.hmacStrength=192,Gi.padLength=64,Gi.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=Ci(qi(r[n-2]),r[n-7],Ui(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],l=this.h[4],u=this.h[5],c=this.h[6],h=this.h[7];for(Pi(this.k.length===r.length),n=0;n<r.length;n++){var f=$i(h,Di(l),Fi(l,u,c),this.k[n],r[n]),d=Oi(Bi(i),Li(i,o,s));h=c,c=u,u=l,l=Oi(a,f),a=s,s=o,o=i,i=Oi(f,d)}this.h[0]=Oi(this.h[0],i),this.h[1]=Oi(this.h[1],o),this.h[2]=Oi(this.h[2],s),this.h[3]=Oi(this.h[3],a),this.h[4]=Oi(this.h[4],l),this.h[5]=Oi(this.h[5],u),this.h[6]=Oi(this.h[6],c),this.h[7]=Oi(this.h[7],h)},Gi.prototype._digest=function(t){return"hex"===t?Ni.toHex32(this.h,"big"):Ni.split32(this.h,"big")};var Wi=Yn,Vi=Hi;function Ji(){if(!(this instanceof Ji))return new Ji;Vi.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Wi.inherits(Ji,Vi);var Ki=Ji;Ji.blockSize=512,Ji.outSize=224,Ji.hmacStrength=192,Ji.padLength=64,Ji.prototype._digest=function(t){return"hex"===t?Wi.toHex32(this.h.slice(0,7),"big"):Wi.split32(this.h.slice(0,7),"big")};var Xi=Yn,Zi=li,Yi=Qn,Qi=Xi.rotr64_hi,to=Xi.rotr64_lo,eo=Xi.shr64_hi,ro=Xi.shr64_lo,no=Xi.sum64,io=Xi.sum64_hi,oo=Xi.sum64_lo,so=Xi.sum64_4_hi,ao=Xi.sum64_4_lo,lo=Xi.sum64_5_hi,uo=Xi.sum64_5_lo,co=Zi.BlockHash,ho=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function fo(){if(!(this instanceof fo))return new fo;co.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=ho,this.W=new Array(160)}Xi.inherits(fo,co);var po=fo;function mo(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function go(t,e,r,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function vo(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function yo(t,e,r,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function bo(t,e){var r=Qi(t,e,28)^Qi(e,t,2)^Qi(e,t,7);return r<0&&(r+=4294967296),r}function wo(t,e){var r=to(t,e,28)^to(e,t,2)^to(e,t,7);return r<0&&(r+=4294967296),r}function _o(t,e){var r=Qi(t,e,14)^Qi(t,e,18)^Qi(e,t,9);return r<0&&(r+=4294967296),r}function Eo(t,e){var r=to(t,e,14)^to(t,e,18)^to(e,t,9);return r<0&&(r+=4294967296),r}function Mo(t,e){var r=Qi(t,e,1)^Qi(t,e,8)^eo(t,e,7);return r<0&&(r+=4294967296),r}function Ao(t,e){var r=to(t,e,1)^to(t,e,8)^ro(t,e,7);return r<0&&(r+=4294967296),r}function Io(t,e){var r=Qi(t,e,19)^Qi(e,t,29)^eo(t,e,6);return r<0&&(r+=4294967296),r}function So(t,e){var r=to(t,e,19)^to(e,t,29)^ro(t,e,6);return r<0&&(r+=4294967296),r}fo.blockSize=1024,fo.outSize=512,fo.hmacStrength=192,fo.padLength=128,fo.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=Io(r[n-4],r[n-3]),o=So(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],l=Mo(r[n-30],r[n-29]),u=Ao(r[n-30],r[n-29]),c=r[n-32],h=r[n-31];r[n]=so(i,o,s,a,l,u,c,h),r[n+1]=ao(i,o,s,a,l,u,c,h)}},fo.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],a=this.h[4],l=this.h[5],u=this.h[6],c=this.h[7],h=this.h[8],f=this.h[9],d=this.h[10],p=this.h[11],m=this.h[12],g=this.h[13],v=this.h[14],y=this.h[15];Yi(this.k.length===r.length);for(var b=0;b<r.length;b+=2){var w=v,_=y,E=_o(h,f),M=Eo(h,f),A=mo(h,f,d,p,m),I=go(h,f,d,p,m,g),S=this.k[b],k=this.k[b+1],x=r[b],N=r[b+1],R=lo(w,_,E,M,A,I,S,k,x,N),T=uo(w,_,E,M,A,I,S,k,x,N);w=bo(n,i),_=wo(n,i),E=vo(n,i,o,s,a),M=yo(n,i,o,s,a,l);var P=io(w,_,E,M),O=oo(w,_,E,M);v=m,y=g,m=d,g=p,d=h,p=f,h=io(u,c,R,T),f=oo(c,c,R,T),u=a,c=l,a=o,l=s,o=n,s=i,n=io(R,T,P,O),i=oo(R,T,P,O)}no(this.h,0,n,i),no(this.h,2,o,s),no(this.h,4,a,l),no(this.h,6,u,c),no(this.h,8,h,f),no(this.h,10,d,p),no(this.h,12,m,g),no(this.h,14,v,y)},fo.prototype._digest=function(t){return"hex"===t?Xi.toHex32(this.h,"big"):Xi.split32(this.h,"big")};var ko=Yn,xo=po;function No(){if(!(this instanceof No))return new No;xo.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}ko.inherits(No,xo);var Ro=No;No.blockSize=1024,No.outSize=384,No.hmacStrength=192,No.padLength=128,No.prototype._digest=function(t){return"hex"===t?ko.toHex32(this.h.slice(0,12),"big"):ko.split32(this.h.slice(0,12),"big")},fi.sha1=xi,fi.sha224=Ki,fi.sha256=Hi,fi.sha384=Ro,fi.sha512=po;var To={},Po=Yn,Oo=li,Co=Po.rotl32,$o=Po.sum32,Fo=Po.sum32_3,Lo=Po.sum32_4,Bo=Oo.BlockHash;function Do(){if(!(this instanceof Do))return new Do;Bo.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function Uo(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function qo(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function zo(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}Po.inherits(Do,Bo),To.ripemd160=Do,Do.blockSize=512,Do.outSize=160,Do.hmacStrength=192,Do.padLength=64,Do.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],o=this.h[3],s=this.h[4],a=r,l=n,u=i,c=o,h=s,f=0;f<80;f++){var d=$o(Co(Lo(r,Uo(f,n,i,o),t[jo[f]+e],qo(f)),Ho[f]),s);r=s,s=o,o=Co(i,10),i=n,n=d,d=$o(Co(Lo(a,Uo(79-f,l,u,c),t[Go[f]+e],zo(f)),Wo[f]),h),a=h,h=c,c=Co(u,10),u=l,l=d}d=Fo(this.h[1],i,c),this.h[1]=Fo(this.h[2],o,h),this.h[2]=Fo(this.h[3],s,a),this.h[3]=Fo(this.h[4],r,l),this.h[4]=Fo(this.h[0],n,u),this.h[0]=d},Do.prototype._digest=function(t){return"hex"===t?Po.toHex32(this.h,"little"):Po.split32(this.h,"little")};var jo=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Go=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ho=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Wo=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Vo=Yn,Jo=Qn;function Ko(t,e,r){if(!(this instanceof Ko))return new Ko(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Vo.toArray(e,r))}var Xo=Ko;function Zo(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},t(r,r.exports),r.exports}Ko.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),Jo(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},Ko.prototype.update=function(t,e){return this.inner.update(t,e),this},Ko.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},function(t){var e=t;e.utils=Yn,e.common=li,e.sha=fi,e.ripemd=To,e.hmac=Xo,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(Zn);var Yo=Qo;function Qo(t,e){if(!t)throw new Error(e||"Assertion failed")}Qo.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var ts=Zo((function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}})),es=Zo((function(t,e){var r=e;r.assert=Yo,r.toArray=ts.toArray,r.zero2=ts.zero2,r.toHex=ts.toHex,r.encode=ts.encode,r.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,o=t.clone(),s=0;s<n.length;s++){var a,l=o.andln(i-1);o.isOdd()?(a=l>(i>>1)-1?(i>>1)-l:l,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var s,a,l=t.andln(3)+i&3,u=e.andln(3)+o&3;3===l&&(l=-1),3===u&&(u=-1),s=0==(1&l)?0:3!==(n=t.andln(7)+i&7)&&5!==n||2!==u?l:-l,r[0].push(s),a=0==(1&u)?0:3!==(n=e.andln(7)+o&7)&&5!==n||2!==l?u:-u,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new Ot(t,"hex","le")}})),rs=es.getNAF,ns=es.getJSF,is=es.assert;function os(t,e){this.type=t,this.p=new Ot(e.p,16),this.red=e.prime?Ot.red(e.prime):Ot.mont(this.p),this.zero=new Ot(0).toRed(this.red),this.one=new Ot(1).toRed(this.red),this.two=new Ot(2).toRed(this.red),this.n=e.n&&new Ot(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var ss=os;function as(t,e){this.curve=t,this.type=e,this.precomputed=null}os.prototype.point=function(){throw new Error("Not implemented")},os.prototype.validate=function(){throw new Error("Not implemented")},os.prototype._fixedNafMul=function(t,e){is(t.precomputed);var r=t._getDoubles(),n=rs(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var l=o+r.step-1;l>=o;l--)s=(s<<1)+n[l];a.push(s)}for(var u=this.jpoint(null,null,null),c=this.jpoint(null,null,null),h=i;h>0;h--){for(o=0;o<a.length;o++)(s=a[o])===h?c=c.mixedAdd(r.points[o]):s===-h&&(c=c.mixedAdd(r.points[o].neg()));u=u.add(c)}return u.toP()},os.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=rs(e,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var l=0;a>=0&&0===o[a];a--)l++;if(a>=0&&l++,s=s.dblp(l),a<0)break;var u=o[a];is(0!==u),s="affine"===t.type?u>0?s.mixedAdd(i[u-1>>1]):s.mixedAdd(i[-u-1>>1].neg()):u>0?s.add(i[u-1>>1]):s.add(i[-u-1>>1].neg())}return"affine"===t.type?s.toP():s},os.prototype._wnafMulAdd=function(t,e,r,n,i){var o,s,a,l=this._wnafT1,u=this._wnafT2,c=this._wnafT3,h=0;for(o=0;o<n;o++){var f=(a=e[o])._getNAFPoints(t);l[o]=f.wnd,u[o]=f.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===l[d]&&1===l[p]){var m=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(m[1]=e[d].add(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].add(e[p].neg())):(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],v=ns(r[d],r[p]);for(h=Math.max(v[0].length,h),c[d]=new Array(h),c[p]=new Array(h),s=0;s<h;s++){var y=0|v[0][s],b=0|v[1][s];c[d][s]=g[3*(y+1)+(b+1)],c[p][s]=0,u[d]=m}}else c[d]=rs(r[d],l[d],this._bitLength),c[p]=rs(r[p],l[p],this._bitLength),h=Math.max(c[d].length,h),h=Math.max(c[p].length,h)}var w=this.jpoint(null,null,null),_=this._wnafT4;for(o=h;o>=0;o--){for(var E=0;o>=0;){var M=!0;for(s=0;s<n;s++)_[s]=0|c[s][o],0!==_[s]&&(M=!1);if(!M)break;E++,o--}if(o>=0&&E++,w=w.dblp(E),o<0)break;for(s=0;s<n;s++){var A=_[s];0!==A&&(A>0?a=u[s][A-1>>1]:A<0&&(a=u[s][-A-1>>1].neg()),w="affine"===a.type?w.mixedAdd(a):w.add(a))}}for(o=0;o<n;o++)u[o]=null;return i?w:w.toP()},os.BasePoint=as,as.prototype.eq=function(){throw new Error("Not implemented")},as.prototype.validate=function(){return this.curve.validate(this)},os.prototype.decodePoint=function(t,e){t=es.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?is(t[t.length-1]%2==0):7===t[0]&&is(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},as.prototype.encodeCompressed=function(t){return this.encode(t,!0)},as.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},as.prototype.encode=function(t,e){return es.encode(this._encode(e),t)},as.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},as.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},as.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},as.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},as.prototype._getBeta=function(){return null},as.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var ls=Zo((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),us=es.assert;function cs(t){ss.call(this,"short",t),this.a=new Ot(t.a,16).toRed(this.red),this.b=new Ot(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}ls(cs,ss);var hs=cs;function fs(t,e,r,n){ss.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ot(e,16),this.y=new Ot(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function ds(t,e,r,n){ss.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ot(0)):(this.x=new Ot(e,16),this.y=new Ot(r,16),this.z=new Ot(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}cs.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new Ot(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new Ot(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],us(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new Ot(t.a,16),b:new Ot(t.b,16)}})):this._getEndoBasis(r)}}},cs.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:Ot.mont(t),r=new Ot(2).toRed(e).redInvm(),n=r.redNeg(),i=new Ot(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},cs.prototype._getEndoBasis=function(t){for(var e,r,n,i,o,s,a,l,u,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=t,f=this.n.clone(),d=new Ot(1),p=new Ot(0),m=new Ot(0),g=new Ot(1),v=0;0!==h.cmpn(0);){var y=f.div(h);l=f.sub(y.mul(h)),u=m.sub(y.mul(d));var b=g.sub(y.mul(p));if(!n&&l.cmp(c)<0)e=a.neg(),r=d,n=l.neg(),i=u;else if(n&&2==++v)break;a=l,f=h,h=l,m=d,d=u,g=p,p=b}o=l.neg(),s=u;var w=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(w)>=0&&(o=e,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},cs.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),l=i.mul(r.b),u=o.mul(n.b);return{k1:t.sub(s).sub(a),k2:l.add(u).neg()}},cs.prototype.pointFromX=function(t,e){(t=new Ot(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},cs.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},cs.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],l=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),l=l.neg(!0)),n[2*o]=a,n[2*o+1]=l,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),c=0;c<2*o;c++)n[c]=null,i[c]=null;return u},ls(fs,ss.BasePoint),cs.prototype.point=function(t,e,r){return new fs(this,t,e,r)},cs.prototype.pointFromJSON=function(t,e){return fs.fromJSON(this,t,e)},fs.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},fs.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},fs.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},fs.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},fs.prototype.isInfinity=function(){return this.inf},fs.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},fs.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},fs.prototype.getX=function(){return this.x.fromRed()},fs.prototype.getY=function(){return this.y.fromRed()},fs.prototype.mul=function(t){return t=new Ot(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},fs.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},fs.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},fs.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},fs.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},fs.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},ls(ds,ss.BasePoint),cs.prototype.jpoint=function(t,e,r){return new ds(this,t,e,r)},ds.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},ds.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},ds.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),l=o.redSub(s);if(0===a.cmpn(0))return 0!==l.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),h=n.redMul(u),f=l.redSqr().redIAdd(c).redISub(h).redISub(h),d=l.redMul(h.redISub(f)).redISub(o.redMul(c)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(f,d,p)},ds.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),u=l.redMul(s),c=r.redMul(l),h=a.redSqr().redIAdd(u).redISub(c).redISub(c),f=a.redMul(c.redISub(h)).redISub(i.redMul(u)),d=this.z.redMul(s);return this.curve.jpoint(h,f,d)},ds.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,l=a.redSqr().redSqr(),u=s.redAdd(s);for(e=0;e<t;e++){var c=o.redSqr(),h=u.redSqr(),f=h.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(l)),p=o.redMul(h),m=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),v=d.redMul(g);v=v.redIAdd(v).redISub(f);var y=u.redMul(a);e+1<t&&(l=l.redMul(f)),o=m,a=y,u=v}return this.curve.jpoint(o,u.redMul(i),a)},ds.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},ds.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),l=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=l,e=a.redMul(s.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(c).redISub(f);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),m=p.redSqr(),g=f.redIAdd(f);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},ds.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),l=a.redSqr().redISub(s).redISub(s);t=l;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=a.redMul(s.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),m=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(c);var g=h.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=d.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},ds.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),l=e.redAdd(e),u=(l=l.redIAdd(l)).redMul(s),c=a.redSqr().redISub(u.redAdd(u)),h=u.redISub(c),f=s.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=a.redMul(h).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,d,p)},ds.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),l=n.redIAdd(n);l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(l),c=e.redMul(u);c=(c=c.redIAdd(c)).redIAdd(c);var h=this.x.redMul(a).redISub(c);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.y.redMul(u.redMul(l.redISub(u)).redISub(s.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,f,d)},ds.prototype.mul=function(t,e){return t=new Ot(t,e),this.curve._wnafMul(this,t)},ds.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},ds.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},ds.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},ds.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var ps=Zo((function(t,e){var r=e;r.base=ss,r.short=hs,r.mont=null,r.edwards=null})),ms=Zo((function(t,e){var r,n=e,i=es.assert;function o(t){"short"===t.type?this.curve=new ps.short(t):"edwards"===t.type?this.curve=new ps.edwards(t):this.curve=new ps.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new o(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Zn.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Zn.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Zn.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Zn.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Zn.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Zn.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Zn.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(t){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Zn.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function gs(t){if(!(this instanceof gs))return new gs(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=ts.toArray(t.entropy,t.entropyEnc||"hex"),r=ts.toArray(t.nonce,t.nonceEnc||"hex"),n=ts.toArray(t.pers,t.persEnc||"hex");Yo(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var vs=gs;gs.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},gs.prototype._hmac=function(){return new Zn.hmac(this.hash,this.K)},gs.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},gs.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=ts.toArray(t,e),r=ts.toArray(r,n),Yo(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},gs.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=ts.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,t);return this._update(r),this._reseed++,ts.encode(o,e)};var ys=es.assert;function bs(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var ws=bs;bs.fromPublic=function(t,e,r){return e instanceof bs?e:new bs(t,{pub:e,pubEnc:r})},bs.fromPrivate=function(t,e,r){return e instanceof bs?e:new bs(t,{priv:e,privEnc:r})},bs.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},bs.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},bs.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},bs.prototype._importPrivate=function(t,e){this.priv=new Ot(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},bs.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?ys(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||ys(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},bs.prototype.derive=function(t){return t.validate()||ys(t.validate(),"public point not validated"),t.mul(this.priv).getX()},bs.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},bs.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},bs.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var _s=es.assert;function Es(t,e){if(t instanceof Es)return t;this._importDER(t,e)||(_s(t.r&&t.s,"Signature without r or s"),this.r=new Ot(t.r,16),this.s=new Ot(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Ms=Es;function As(){this.place=0}function Is(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return!(i<=127)&&(e.place=s,i)}function Ss(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function ks(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}Es.prototype._importDER=function(t,e){t=es.toArray(t,e);var r=new As;if(48!==t[r.place++])return!1;var n=Is(t,r);if(!1===n)return!1;if(n+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var i=Is(t,r);if(!1===i)return!1;var o=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return!1;var s=Is(t,r);if(!1===s)return!1;if(t.length!==s+r.place)return!1;var a=t.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new Ot(o),this.s=new Ot(a),this.recoveryParam=null,!0},Es.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=Ss(e),r=Ss(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];ks(n,e.length),(n=n.concat(e)).push(2),ks(n,r.length);var i=n.concat(r),o=[48];return ks(o,i.length),o=o.concat(i),es.encode(o,t)};var xs=function(){throw new Error("unsupported")},Ns=es.assert;function Rs(t){if(!(this instanceof Rs))return new Rs(t);"string"==typeof t&&(Ns(Object.prototype.hasOwnProperty.call(ms,t),"Unknown curve "+t),t=ms[t]),t instanceof ms.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Ts=Rs;Rs.prototype.keyPair=function(t){return new ws(this,t)},Rs.prototype.keyFromPrivate=function(t,e){return ws.fromPrivate(this,t,e)},Rs.prototype.keyFromPublic=function(t,e){return ws.fromPublic(this,t,e)},Rs.prototype.genKeyPair=function(t){t||(t={});for(var e=new vs({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||xs(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new Ot(2));;){var i=new Ot(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Rs.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},Rs.prototype.sign=function(t,e,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new Ot(t,16));for(var i=this.n.byteLength(),o=e.getPrivate().toArray("be",i),s=t.toArray("be",i),a=new vs({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),l=this.n.sub(new Ot(1)),u=0;;u++){var c=n.k?n.k(u):new Ot(a.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||c.cmp(l)>=0)){var h=this.g.mul(c);if(!h.isInfinity()){var f=h.getX(),d=f.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var m=(h.getY().isOdd()?1:0)|(0!==f.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),m^=1),new Ms({r:d,s:p,recoveryParam:m})}}}}}},Rs.prototype.verify=function(t,e,r,n){t=this._truncateToN(new Ot(t,16)),r=this.keyFromPublic(r,n);var i=(e=new Ms(e,"hex")).r,o=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),l=a.mul(t).umod(this.n),u=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(l,r.getPublic(),u)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(l,r.getPublic(),u)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},Rs.prototype.recoverPubKey=function(t,e,r,n){Ns((3&r)===r,"The recovery param is more than two bits"),e=new Ms(e,n);var i=this.n,o=new Ot(t),s=e.r,a=e.s,l=1&r,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");s=u?this.curve.pointFromX(s.add(this.curve.n),l):this.curve.pointFromX(s,l);var c=e.r.invm(i),h=i.sub(o).mul(c).umod(i),f=a.mul(c).umod(i);return this.g.mulAdd(h,s,f)},Rs.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new Ms(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Ps=Zo((function(t,e){var r=e;r.version="6.5.4",r.utils=es,r.rand=function(){throw new Error("unsupported")},r.curve=ps,r.curves=ms,r.ec=Ts,r.eddsa=null})),Os=Ps.ec;const Cs=new jt("signing-key/5.6.2");let $s=null;function Fs(){return $s||($s=new Os("secp256k1")),$s}class Ls{constructor(t){we(this,"curve","secp256k1"),we(this,"privateKey",ee(t)),32!==re(this.privateKey)&&Cs.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const e=Fs().keyFromPrivate(Xt(this.privateKey));we(this,"publicKey","0x"+e.getPublic(!1,"hex")),we(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),we(this,"_isSigningKey",!0)}_addPoint(t){const e=Fs().keyFromPublic(Xt(this.publicKey)),r=Fs().keyFromPublic(Xt(t));return"0x"+e.pub.add(r.pub).encodeCompressed("hex")}signDigest(t){const e=Fs().keyFromPrivate(Xt(this.privateKey)),r=Xt(t);32!==r.length&&Cs.throwArgumentError("bad digest length","digest",t);const n=e.sign(r,{canonical:!0});return ae({recoveryParam:n.recoveryParam,r:se("0x"+n.r.toString(16),32),s:se("0x"+n.s.toString(16),32)})}computeSharedSecret(t){const e=Fs().keyFromPrivate(Xt(this.privateKey)),r=Fs().keyFromPublic(Xt(Bs(t)));return se("0x"+e.derive(r.getPublic()).toString(16),32)}static isSigningKey(t){return!(!t||!t._isSigningKey)}}function Bs(t,e){const r=Xt(t);if(32===r.length){const t=new Ls(r);return e?"0x"+Fs().keyFromPrivate(r).getPublic(!0,"hex"):t.publicKey}return 33===r.length?e?ee(r):"0x"+Fs().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?e?"0x"+Fs().keyFromPublic(r).getPublic(!0,"hex"):ee(r):Cs.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Ds=new jt("transactions/5.6.2");var Us;function qs(t){return"0x"===t?null:yr(t)}function zs(t){return"0x"===t?Pr:de.from(t)}function js(t,e){return function(t){return yr(ne(or(ne(Bs(t),1)),12))}(function(t,e){const r=ae(e),n={r:Xt(r.r),s:Xt(r.s)};return"0x"+Fs().recoverPubKey(Xt(t),n,r.recoveryParam).encode("hex",!1)}(Xt(t),e))}function Gs(t,e){const r=Yt(de.from(t).toHexString());return r.length>32&&Ds.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function Hs(t,e){return{address:yr(t),storageKeys:(e||[]).map(((e,r)=>(32!==re(e)&&Ds.throwArgumentError("invalid access list storageKey",`accessList[${t}:${r}]`,e),e.toLowerCase())))}}function Ws(t){if(Array.isArray(t))return t.map(((t,e)=>Array.isArray(t)?(t.length>2&&Ds.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${e}]`,t),Hs(t[0],t[1])):Hs(t.address,t.storageKeys)));const e=Object.keys(t).map((e=>{const r=t[e].reduce(((t,e)=>(t[e]=!0,t)),{});return Hs(e,Object.keys(r).sort())}));return e.sort(((t,e)=>t.address.localeCompare(e.address))),e}function Vs(t){return Ws(t).map((t=>[t.address,t.storageKeys]))}function Js(t,e){if(null!=t.gasPrice){const e=de.from(t.gasPrice),r=de.from(t.maxFeePerGas||0);e.eq(r)||Ds.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:e,maxFeePerGas:r})}const r=[Gs(t.chainId||0,"chainId"),Gs(t.nonce||0,"nonce"),Gs(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Gs(t.maxFeePerGas||0,"maxFeePerGas"),Gs(t.gasLimit||0,"gasLimit"),null!=t.to?yr(t.to):"0x",Gs(t.value||0,"value"),t.data||"0x",Vs(t.accessList||[])];if(e){const t=ae(e);r.push(Gs(t.recoveryParam,"recoveryParam")),r.push(Yt(t.r)),r.push(Yt(t.s))}return ie(["0x02",cr(r)])}function Ks(t,e){const r=[Gs(t.chainId||0,"chainId"),Gs(t.nonce||0,"nonce"),Gs(t.gasPrice||0,"gasPrice"),Gs(t.gasLimit||0,"gasLimit"),null!=t.to?yr(t.to):"0x",Gs(t.value||0,"value"),t.data||"0x",Vs(t.accessList||[])];if(e){const t=ae(e);r.push(Gs(t.recoveryParam,"recoveryParam")),r.push(Yt(t.r)),r.push(Yt(t.s))}return ie(["0x01",cr(r)])}function Xs(t,e,r){try{const r=zs(e[0]).toNumber();if(0!==r&&1!==r)throw new Error("bad recid");t.v=r}catch(t){Ds.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=se(e[1],32),t.s=se(e[2],32);try{const e=or(r(t));t.from=js(e,{r:t.r,s:t.s,recoveryParam:t.v})}catch(t){}}function Zs(t){const e=Xt(t);if(e[0]>127)return function(t){const e=dr(t);9!==e.length&&6!==e.length&&Ds.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:zs(e[0]).toNumber(),gasPrice:zs(e[1]),gasLimit:zs(e[2]),to:qs(e[3]),value:zs(e[4]),data:e[5],chainId:0};if(6===e.length)return r;try{r.v=de.from(e[6]).toNumber()}catch(t){return r}if(r.r=se(e[7],32),r.s=se(e[8],32),de.from(r.r).isZero()&&de.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);0!==r.chainId&&(i.push(ee(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);const o=or(cr(i));try{r.from=js(o,{r:ee(r.r),s:ee(r.s),recoveryParam:n})}catch(t){}r.hash=or(t)}return r.type=null,r}(e);switch(e[0]){case 1:return function(t){const e=dr(t.slice(1));8!==e.length&&11!==e.length&&Ds.throwArgumentError("invalid component count for transaction type: 1","payload",ee(t));const r={type:1,chainId:zs(e[0]).toNumber(),nonce:zs(e[1]).toNumber(),gasPrice:zs(e[2]),gasLimit:zs(e[3]),to:qs(e[4]),value:zs(e[5]),data:e[6],accessList:Ws(e[7])};return 8===e.length||(r.hash=or(t),Xs(r,e.slice(8),Ks)),r}(e);case 2:return function(t){const e=dr(t.slice(1));9!==e.length&&12!==e.length&&Ds.throwArgumentError("invalid component count for transaction type: 2","payload",ee(t));const r=zs(e[2]),n=zs(e[3]),i={type:2,chainId:zs(e[0]).toNumber(),nonce:zs(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:zs(e[4]),to:qs(e[5]),value:zs(e[6]),data:e[7],accessList:Ws(e[8])};return 9===e.length||(i.hash=or(t),Xs(i,e.slice(9),Js)),i}(e)}return Ds.throwError(`unsupported transaction type: ${e[0]}`,jt.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}!function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(Us||(Us={}));var Ys=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};const Qs=new jt("contracts/5.6.2");function ta(t,e){return Ys(this,void 0,void 0,(function*(){const r=yield e;"string"!=typeof r&&Qs.throwArgumentError("invalid address or ENS name","name",r);try{return yr(r)}catch(t){}t||Qs.throwError("a provider or signer is needed to resolve ENS names",jt.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return null==n&&Qs.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n}))}function ea(t,e,r){return Ys(this,void 0,void 0,(function*(){return Array.isArray(r)?yield Promise.all(r.map(((r,n)=>ea(t,Array.isArray(e)?e[n]:e[r.name],r)))):"address"===r.type?yield ta(t,e):"tuple"===r.type?yield ea(t,e,r.components):"array"===r.baseType?Array.isArray(e)?yield Promise.all(e.map((e=>ea(t,e,r.arrayChildren)))):Promise.reject(Qs.makeError("invalid value for array",jt.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e}))}function ra(t,e,r){return Ys(this,void 0,void 0,(function*(){let n={};r.length===e.inputs.length+1&&"object"==typeof r[r.length-1]&&(n=Me(r.pop())),Qs.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=Ee({override:ta(t.signer,n.from),signer:t.signer.getAddress()}).then((t=>Ys(this,void 0,void 0,(function*(){return yr(t.signer)!==t.override&&Qs.throwError("Contract with a Signer cannot override from",jt.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),t.override})))):n.from=t.signer.getAddress():n.from&&(n.from=ta(t.provider,n.from));const i=yield Ee({args:ea(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:Ee(n)||{}}),o=t.interface.encodeFunctionData(e,i.args),s={data:o,to:i.address},a=i.overrides;if(null!=a.nonce&&(s.nonce=de.from(a.nonce).toNumber()),null!=a.gasLimit&&(s.gasLimit=de.from(a.gasLimit)),null!=a.gasPrice&&(s.gasPrice=de.from(a.gasPrice)),null!=a.maxFeePerGas&&(s.maxFeePerGas=de.from(a.maxFeePerGas)),null!=a.maxPriorityFeePerGas&&(s.maxPriorityFeePerGas=de.from(a.maxPriorityFeePerGas)),null!=a.from&&(s.from=a.from),null!=a.type&&(s.type=a.type),null!=a.accessList&&(s.accessList=Ws(a.accessList)),null==s.gasLimit&&null!=e.gas){let t=21e3;const r=Xt(o);for(let e=0;e<r.length;e++)t+=4,r[e]&&(t+=64);s.gasLimit=de.from(e.gas).add(t)}if(a.value){const t=de.from(a.value);t.isZero()||e.payable||Qs.throwError("non-payable method cannot override value",jt.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),s.value=t}a.customData&&(s.customData=Me(a.customData)),a.ccipReadEnabled&&(s.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const l=Object.keys(n).filter((t=>null!=n[t]));return l.length&&Qs.throwError(`cannot override ${l.map((t=>JSON.stringify(t))).join(",")}`,jt.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:l}),s}))}function na(t,e,r){const n=t.signer||t.provider;return function(...i){return Ys(this,void 0,void 0,(function*(){let o;if(i.length===e.inputs.length+1&&"object"==typeof i[i.length-1]){const t=Me(i.pop());null!=t.blockTag&&(o=yield t.blockTag),delete t.blockTag,i.push(t)}null!=t.deployTransaction&&(yield t._deployed(o));const s=yield ra(t,e,i),a=yield n.call(s,o);try{let n=t.interface.decodeFunctionResult(e,a);return r&&1===e.outputs.length&&(n=n[0]),n}catch(e){throw e.code===jt.errors.CALL_EXCEPTION&&(e.address=t.address,e.args=i,e.transaction=s),e}}))}}function ia(t,e){return function(...r){return Ys(this,void 0,void 0,(function*(){t.signer||Qs.throwError("sending a transaction requires a signer",jt.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=t.deployTransaction&&(yield t._deployed());const n=yield ra(t,e,r),i=yield t.signer.sendTransaction(n);return function(t,e){const r=e.wait.bind(e);e.wait=e=>r(e).then((e=>(e.events=e.logs.map((r=>{let n=ke(r),i=null;try{i=t.interface.parseLog(r)}catch(t){}return i&&(n.args=i.args,n.decode=(e,r)=>t.interface.decodeEventLog(i.eventFragment,e,r),n.event=i.name,n.eventSignature=i.signature),n.removeListener=()=>t.provider,n.getBlock=()=>t.provider.getBlock(e.blockHash),n.getTransaction=()=>t.provider.getTransaction(e.transactionHash),n.getTransactionReceipt=()=>Promise.resolve(e),n})),e)))}(t,i),i}))}}function oa(t,e,r){return e.constant?na(t,e,r):ia(t,e)}function sa(t){return!t.address||null!=t.topics&&0!==t.topics.length?(t.address||"*")+"@"+(t.topics?t.topics.map((t=>Array.isArray(t)?t.join("|"):t)).join(":"):""):"*"}class aa{constructor(t,e){we(this,"tag",t),we(this,"filter",e),this._listeners=[]}addListener(t,e){this._listeners.push({listener:t,once:e})}removeListener(t){let e=!1;this._listeners=this._listeners.filter((r=>!(!e&&r.listener===t)||(e=!0,!1)))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map((t=>t.listener))}listenerCount(){return this._listeners.length}run(t){const e=this.listenerCount();return this._listeners=this._listeners.filter((e=>{const r=t.slice();return setTimeout((()=>{e.listener.apply(this,r)}),0),!e.once})),e}prepareEvent(t){}getEmit(t){return[t]}}class la extends aa{constructor(){super("error",null)}}class ua extends aa{constructor(t,e,r,n){const i={address:t};let o=e.getEventTopic(r);n?(o!==n[0]&&Qs.throwArgumentError("topic mismatch","topics",n),i.topics=n.slice()):i.topics=[o],super(sa(i),i),we(this,"address",t),we(this,"interface",e),we(this,"fragment",r)}prepareEvent(t){super.prepareEvent(t),t.event=this.fragment.name,t.eventSignature=this.fragment.format(),t.decode=(t,e)=>this.interface.decodeEventLog(this.fragment,t,e);try{t.args=this.interface.decodeEventLog(this.fragment,t.data,t.topics)}catch(e){t.args=null,t.decodeError=e}}getEmit(t){const e=function(t){const e=[],r=function(t,n){if(Array.isArray(n))for(let i in n){const o=t.slice();o.push(i);try{r(o,n[i])}catch(t){e.push({path:o,error:t})}}};return r([],t),e}(t.args);if(e.length)throw e[0].error;const r=(t.args||[]).slice();return r.push(t),r}}class ca extends aa{constructor(t,e){super("*",{address:t}),we(this,"address",t),we(this,"interface",e)}prepareEvent(t){super.prepareEvent(t);try{const e=this.interface.parseLog(t);t.event=e.name,t.eventSignature=e.signature,t.decode=(t,r)=>this.interface.decodeEventLog(e.eventFragment,t,r),t.args=e.args}catch(t){}}}class ha extends class{constructor(t,e,r){we(this,"interface",_e(new.target,"getInterface")(e)),null==r?(we(this,"provider",null),we(this,"signer",null)):Kn.isSigner(r)?(we(this,"provider",r.provider||null),we(this,"signer",r)):Gn.isProvider(r)?(we(this,"provider",r),we(this,"signer",null)):Qs.throwArgumentError("invalid signer or provider","signerOrProvider",r),we(this,"callStatic",{}),we(this,"estimateGas",{}),we(this,"functions",{}),we(this,"populateTransaction",{}),we(this,"filters",{});{const t={};Object.keys(this.interface.events).forEach((e=>{const r=this.interface.events[e];we(this.filters,e,((...t)=>({address:this.address,topics:this.interface.encodeFilterTopics(r,t)}))),t[r.name]||(t[r.name]=[]),t[r.name].push(e)})),Object.keys(t).forEach((e=>{const r=t[e];1===r.length?we(this.filters,e,this.filters[r[0]]):Qs.warn(`Duplicate definition of ${e} (${r.join(", ")})`)}))}if(we(this,"_runningEvents",{}),we(this,"_wrappedEmits",{}),null==t&&Qs.throwArgumentError("invalid contract address or ENS name","addressOrName",t),we(this,"address",t),this.provider)we(this,"resolvedAddress",ta(this.provider,t));else try{we(this,"resolvedAddress",Promise.resolve(yr(t)))}catch(t){Qs.throwError("provider is required to use ENS name as contract address",jt.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch((t=>{}));const n={},i={};Object.keys(this.interface.functions).forEach((t=>{const e=this.interface.functions[t];if(i[t])Qs.warn(`Duplicate ABI entry for ${JSON.stringify(t)}`);else{i[t]=!0;{const r=e.name;n[`%${r}`]||(n[`%${r}`]=[]),n[`%${r}`].push(t)}null==this[t]&&we(this,t,oa(this,e,!0)),null==this.functions[t]&&we(this.functions,t,oa(this,e,!1)),null==this.callStatic[t]&&we(this.callStatic,t,na(this,e,!0)),null==this.populateTransaction[t]&&we(this.populateTransaction,t,function(t,e){return function(...r){return ra(t,e,r)}}(this,e)),null==this.estimateGas[t]&&we(this.estimateGas,t,function(t,e){const r=t.signer||t.provider;return function(...n){return Ys(this,void 0,void 0,(function*(){r||Qs.throwError("estimate require a provider or signer",jt.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield ra(t,e,n);return yield r.estimateGas(i)}))}}(this,e))}})),Object.keys(n).forEach((t=>{const e=n[t];if(e.length>1)return;t=t.substring(1);const r=e[0];try{null==this[t]&&we(this,t,this[r])}catch(t){}null==this.functions[t]&&we(this.functions,t,this.functions[r]),null==this.callStatic[t]&&we(this.callStatic,t,this.callStatic[r]),null==this.populateTransaction[t]&&we(this.populateTransaction,t,this.populateTransaction[r]),null==this.estimateGas[t]&&we(this.estimateGas,t,this.estimateGas[r])}))}static getContractAddress(t){return br(t)}static getInterface(t){return Un.isInterface(t)?t:new Un(t)}deployed(){return this._deployed()}_deployed(t){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then((()=>this)):this._deployedPromise=this.provider.getCode(this.address,t).then((t=>("0x"===t&&Qs.throwError("contract not deployed",jt.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this)))),this._deployedPromise}fallback(t){this.signer||Qs.throwError("sending a transactions require a signer",jt.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const e=Me(t||{});return["from","to"].forEach((function(t){null!=e[t]&&Qs.throwError("cannot override "+t,jt.errors.UNSUPPORTED_OPERATION,{operation:t})})),e.to=this.resolvedAddress,this.deployed().then((()=>this.signer.sendTransaction(e)))}connect(t){"string"==typeof t&&(t=new Xn(t,this.provider));const e=new this.constructor(this.address,this.interface,t);return this.deployTransaction&&we(e,"deployTransaction",this.deployTransaction),e}attach(t){return new this.constructor(t,this.interface,this.signer||this.provider)}static isIndexed(t){return Ln.isIndexed(t)}_normalizeRunningEvent(t){return this._runningEvents[t.tag]?this._runningEvents[t.tag]:t}_getRunningEvent(t){if("string"==typeof t){if("error"===t)return this._normalizeRunningEvent(new la);if("event"===t)return this._normalizeRunningEvent(new aa("event",null));if("*"===t)return this._normalizeRunningEvent(new ca(this.address,this.interface));const e=this.interface.getEvent(t);return this._normalizeRunningEvent(new ua(this.address,this.interface,e))}if(t.topics&&t.topics.length>0){try{const e=t.topics[0];if("string"!=typeof e)throw new Error("invalid topic");const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new ua(this.address,this.interface,r,t.topics))}catch(t){}const e={address:this.address,topics:t.topics};return this._normalizeRunningEvent(new aa(sa(e),e))}return this._normalizeRunningEvent(new ca(this.address,this.interface))}_checkRunningEvents(t){if(0===t.listenerCount()){delete this._runningEvents[t.tag];const e=this._wrappedEmits[t.tag];e&&t.filter&&(this.provider.off(t.filter,e),delete this._wrappedEmits[t.tag])}}_wrapEvent(t,e,r){const n=ke(e);return n.removeListener=()=>{r&&(t.removeListener(r),this._checkRunningEvents(t))},n.getBlock=()=>this.provider.getBlock(e.blockHash),n.getTransaction=()=>this.provider.getTransaction(e.transactionHash),n.getTransactionReceipt=()=>this.provider.getTransactionReceipt(e.transactionHash),t.prepareEvent(n),n}_addEventListener(t,e,r){if(this.provider||Qs.throwError("events require a provider or a signer with a provider",jt.errors.UNSUPPORTED_OPERATION,{operation:"once"}),t.addListener(e,r),this._runningEvents[t.tag]=t,!this._wrappedEmits[t.tag]){const r=r=>{let n=this._wrapEvent(t,r,e);if(null==n.decodeError)try{const e=t.getEmit(n);this.emit(t.filter,...e)}catch(t){n.decodeError=t.error}null!=t.filter&&this.emit("event",n),null!=n.decodeError&&this.emit("error",n.decodeError,n)};this._wrappedEmits[t.tag]=r,null!=t.filter&&this.provider.on(t.filter,r)}}queryFilter(t,e,r){const n=this._getRunningEvent(t),i=Me(n.filter);return"string"==typeof e&&Qt(e,32)?(null!=r&&Qs.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),i.blockHash=e):(i.fromBlock=null!=e?e:0,i.toBlock=null!=r?r:"latest"),this.provider.getLogs(i).then((t=>t.map((t=>this._wrapEvent(n,t,null)))))}on(t,e){return this._addEventListener(this._getRunningEvent(t),e,!1),this}once(t,e){return this._addEventListener(this._getRunningEvent(t),e,!0),this}emit(t,...e){if(!this.provider)return!1;const r=this._getRunningEvent(t),n=r.run(e)>0;return this._checkRunningEvents(r),n}listenerCount(t){return this.provider?null==t?Object.keys(this._runningEvents).reduce(((t,e)=>t+this._runningEvents[e].listenerCount()),0):this._getRunningEvent(t).listenerCount():0}listeners(t){if(!this.provider)return[];if(null==t){const t=[];for(let e in this._runningEvents)this._runningEvents[e].listeners().forEach((e=>{t.push(e)}));return t}return this._getRunningEvent(t).listeners()}removeAllListeners(t){if(!this.provider)return this;if(null==t){for(const t in this._runningEvents){const e=this._runningEvents[t];e.removeAllListeners(),this._checkRunningEvents(e)}return this}const e=this._getRunningEvent(t);return e.removeAllListeners(),this._checkRunningEvents(e),this}off(t,e){if(!this.provider)return this;const r=this._getRunningEvent(t);return r.removeListener(e),this._checkRunningEvents(r),this}removeListener(t,e){return this.off(t,e)}}{}class fa{constructor(t){we(this,"alphabet",t),we(this,"base",t.length),we(this,"_alphabetMap",{}),we(this,"_leader",t.charAt(0));for(let e=0;e<t.length;e++)this._alphabetMap[t.charAt(e)]=e}encode(t){let e=Xt(t);if(0===e.length)return"";let r=[0];for(let t=0;t<e.length;++t){let n=e[t];for(let t=0;t<r.length;++t)n+=r[t]<<8,r[t]=n%this.base,n=n/this.base|0;for(;n>0;)r.push(n%this.base),n=n/this.base|0}let n="";for(let t=0;0===e[t]&&t<e.length-1;++t)n+=this._leader;for(let t=r.length-1;t>=0;--t)n+=this.alphabet[r[t]];return n}decode(t){if("string"!=typeof t)throw new TypeError("Expected String");let e=[];if(0===t.length)return new Uint8Array(e);e.push(0);for(let r=0;r<t.length;r++){let n=this._alphabetMap[t[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");let i=n;for(let t=0;t<e.length;++t)i+=e[t]*this.base,e[t]=255&i,i>>=8;for(;i>0;)e.push(255&i),i>>=8}for(let r=0;t[r]===this._leader&&r<t.length-1;++r)e.push(0);return Xt(new Uint8Array(e.reverse()))}}new fa("abcdefghijklmnopqrstuvwxyz234567");const da=new fa("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function pa(t){return"0x"+Zn.sha256().update(Xt(t)).digest("hex")}new jt("sha2/5.6.1");const ma=new jt("networks/5.6.4");function ga(t){const e=function(e,r){null==r&&(r={});const n=[];if(e.InfuraProvider&&"-"!==r.infura)try{n.push(new e.InfuraProvider(t,r.infura))}catch(t){}if(e.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new e.EtherscanProvider(t,r.etherscan))}catch(t){}if(e.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new e.AlchemyProvider(t,r.alchemy))}catch(t){}if(e.PocketProvider&&"-"!==r.pocket){const i=["goerli","ropsten","rinkeby"];try{const o=new e.PocketProvider(t,r.pocket);o.network&&-1===i.indexOf(o.network.name)&&n.push(o)}catch(t){}}if(e.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new e.CloudflareProvider(t))}catch(t){}if(e.AnkrProvider&&"-"!==r.ankr)try{const i=["ropsten"],o=new e.AnkrProvider(t,r.ankr);o.network&&-1===i.indexOf(o.network.name)&&n.push(o)}catch(t){}if(0===n.length)return null;if(e.FallbackProvider){let i=1;return null!=r.quorum?i=r.quorum:"homestead"===t&&(i=2),new e.FallbackProvider(n,i)}return n[0]};return e.renetwork=function(t){return ga(t)},e}function va(t,e){const r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(t,e):null};return r.renetwork=function(e){return va(t,e)},r}const ya={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ga("homestead")},ba={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ga("ropsten")},wa={chainId:63,name:"classicMordor",_defaultProvider:va("https://www.ethercluster.com/mordor","classicMordor")},_a={unspecified:{chainId:0,name:"unspecified"},homestead:ya,mainnet:ya,morden:{chainId:2,name:"morden"},ropsten:ba,testnet:ba,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ga("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ga("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ga("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},classic:{chainId:61,name:"classic",_defaultProvider:va("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:wa,classicTestnet:wa,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:va("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:ga("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:ga("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Ea(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Xt(e)}function Ma(t){t=Xt(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}var Aa=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};function Ia(t,e){return Aa(this,void 0,void 0,(function*(){null==e&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};!0!==e.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client");const n=yield fetch(t,r),i=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach(((t,e)=>{o[e.toLowerCase()]=t})):n.headers.keys().forEach((t=>{o[t.toLowerCase()]=n.headers.get(t)})),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:Xt(new Uint8Array(i))}}))}var Sa=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};const ka=new jt("web/5.6.1");function xa(t){return new Promise((e=>{setTimeout(e,t)}))}function Na(t,e){if(null==t)return null;if("string"==typeof t)return t;if(Vt(t)){if(e&&("text"===e.split("/")[0]||"application/json"===e.split(";")[0].trim()))try{return Gr(t)}catch(t){}return ee(t)}return t}function Ra(t,e,r){let n=null;if(null!=e){n=zr(e);const r="string"==typeof t?{url:t}:Me(t);if(r.headers){const t=0!==Object.keys(r.headers).filter((t=>"content-type"===t.toLowerCase())).length;t||(r.headers=Me(r.headers),r.headers["content-type"]="application/json")}else r.headers={"content-type":"application/json"};t=r}return function(t,e,r){const n="object"==typeof t&&null!=t.throttleLimit?t.throttleLimit:12;ka.assertArgument(n>0&&n%1==0,"invalid connection throttle limit","connection.throttleLimit",n);const i="object"==typeof t?t.throttleCallback:null,o="object"==typeof t&&"number"==typeof t.throttleSlotInterval?t.throttleSlotInterval:100;ka.assertArgument(o>0&&o%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);const s="object"==typeof t&&!!t.errorPassThrough,a={};let l=null;const u={method:"GET"};let c=!1,h=12e4;if("string"==typeof t)l=t;else if("object"==typeof t){if(null!=t&&null!=t.url||ka.throwArgumentError("missing URL","connection.url",t),l=t.url,"number"==typeof t.timeout&&t.timeout>0&&(h=t.timeout),t.headers)for(const e in t.headers)a[e.toLowerCase()]={key:e,value:String(t.headers[e])},["if-none-match","if-modified-since"].indexOf(e.toLowerCase())>=0&&(c=!0);if(u.allowGzip=!!t.allowGzip,null!=t.user&&null!=t.password){"https:"!==l.substring(0,6)&&!0!==t.allowInsecureAuthentication&&ka.throwError("basic authentication requires a secure https url",jt.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:t.user,password:"[REDACTED]"});const e=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+Ma(zr(e))}}null!=t.skipFetchSetup&&(u.skipFetchSetup=!!t.skipFetchSetup)}const f=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),d=l?l.match(f):null;if(d)try{const t={statusCode:200,statusMessage:"OK",headers:{"content-type":d[1]},body:Ea(d[2])};let e=t.body;return r&&(e=r(t.body,t)),Promise.resolve(e)}catch(t){ka.throwError("processing response error",jt.errors.SERVER_ERROR,{body:Na(d[1],d[2]),error:t,requestBody:null,requestMethod:"GET",url:l})}e&&(u.method="POST",u.body=e,null==a["content-type"]&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==a["content-length"]&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const p={};Object.keys(a).forEach((t=>{const e=a[t];p[e.key]=e.value})),u.headers=p;const m=function(){let t=null;return{promise:new Promise((function(e,r){h&&(t=setTimeout((()=>{null!=t&&(t=null,r(ka.makeError("timeout",jt.errors.TIMEOUT,{requestBody:Na(u.body,p["content-type"]),requestMethod:u.method,timeout:h,url:l})))}),h))})),cancel:function(){null!=t&&(clearTimeout(t),t=null)}}}(),g=function(){return Sa(this,void 0,void 0,(function*(){for(let t=0;t<n;t++){let e=null;try{if(e=yield Ia(l,u),t<n)if(301===e.statusCode||302===e.statusCode){const t=e.headers.location||"";if("GET"===u.method&&t.match(/^https:/)){l=e.headers.location;continue}}else if(429===e.statusCode){let r=!0;if(i&&(r=yield i(t,l)),r){let r=0;const n=e.headers["retry-after"];r="string"==typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):o*parseInt(String(Math.random()*Math.pow(2,t))),yield xa(r);continue}}}catch(t){e=t.response,null==e&&(m.cancel(),ka.throwError("missing response",jt.errors.SERVER_ERROR,{requestBody:Na(u.body,p["content-type"]),requestMethod:u.method,serverError:t,url:l}))}let a=e.body;if(c&&304===e.statusCode?a=null:!s&&(e.statusCode<200||e.statusCode>=300)&&(m.cancel(),ka.throwError("bad response",jt.errors.SERVER_ERROR,{status:e.statusCode,headers:e.headers,body:Na(a,e.headers?e.headers["content-type"]:null),requestBody:Na(u.body,p["content-type"]),requestMethod:u.method,url:l})),r)try{const t=yield r(a,e);return m.cancel(),t}catch(r){if(r.throttleRetry&&t<n){let e=!0;if(i&&(e=yield i(t,l)),e){const e=o*parseInt(String(Math.random()*Math.pow(2,t)));yield xa(e);continue}}m.cancel(),ka.throwError("processing response error",jt.errors.SERVER_ERROR,{body:Na(a,e.headers?e.headers["content-type"]:null),error:r,requestBody:Na(u.body,p["content-type"]),requestMethod:u.method,url:l})}return m.cancel(),a}return ka.throwError("failed response",jt.errors.SERVER_ERROR,{requestBody:Na(u.body,p["content-type"]),requestMethod:u.method,url:l})}))}();return Promise.race([m.promise,g])}(t,n,((t,e)=>{let n=null;if(null!=t)try{n=JSON.parse(Gr(t))}catch(e){ka.throwError("invalid JSON",jt.errors.SERVER_ERROR,{body:t,error:e})}return r&&(n=r(n,e)),n}))}function Ta(t,e){return e||(e={}),null==(e=Me(e)).floor&&(e.floor=0),null==e.ceiling&&(e.ceiling=1e4),null==e.interval&&(e.interval=250),new Promise((function(r,n){let i=null,o=!1;const s=()=>!o&&(o=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout((()=>{s()&&n(new Error("timeout"))}),e.timeout));const a=e.retryLimit;let l=0;!function i(){return t().then((function(t){if(void 0!==t)s()&&r(t);else if(e.oncePoll)e.oncePoll.once("poll",i);else if(e.onceBlock)e.onceBlock.once("block",i);else if(!o){if(l++,l>a)return void(s()&&n(new Error("retry limit reached")));let t=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));t<e.floor&&(t=e.floor),t>e.ceiling&&(t=e.ceiling),setTimeout(i,t)}return null}),(function(t){s()&&n(t)}))}()}))}for(var Pa="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Oa={},Ca=0;Ca<Pa.length;Ca++){var $a=Pa.charAt(Ca);if(void 0!==Oa[$a])throw new TypeError($a+" is ambiguous");Oa[$a]=Ca}function Fa(t){var e=t>>25;return(33554431&t)<<5^996825010&-(e>>0&1)^642813549&-(e>>1&1)^513874426&-(e>>2&1)^1027748829&-(e>>3&1)^705979059&-(e>>4&1)}function La(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=Fa(e)^n>>5}for(e=Fa(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=Fa(e)^31&i}return e}function Ba(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;var i=(t=r).lastIndexOf("1");if(-1===i)return"No separator character for "+t;if(0===i)return"Missing prefix for "+t;var o=t.slice(0,i),s=t.slice(i+1);if(s.length<6)return"Data too short";var a=La(o);if("string"==typeof a)return a;for(var l=[],u=0;u<s.length;++u){var c=s.charAt(u),h=Oa[c];if(void 0===h)return"Unknown character "+c;a=Fa(a)^h,u+6>=s.length||l.push(h)}return 1!==a?"Invalid checksum for "+t:{prefix:o,words:l}}function Da(t,e,r,n){for(var i=0,o=0,s=(1<<r)-1,a=[],l=0;l<t.length;++l)for(i=i<<e|t[l],o+=e;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=e)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}var Ua={decodeUnsafe:function(){var t=Ba.apply(null,arguments);if("object"==typeof t)return t},decode:function(t){var e=Ba.apply(null,arguments);if("object"==typeof e)return e;throw new Error(e)},encode:function(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");var n=La(t=t.toLowerCase());if("string"==typeof n)throw new Error(n);for(var i=t+"1",o=0;o<e.length;++o){var s=e[o];if(s>>5!=0)throw new Error("Non 5-bit word");n=Fa(n)^s,i+=Pa.charAt(s)}for(o=0;o<6;++o)n=Fa(n);for(n^=1,o=0;o<6;++o){i+=Pa.charAt(n>>5*(5-o)&31)}return i},toWordsUnsafe:function(t){var e=Da(t,8,5,!0);if(Array.isArray(e))return e},toWords:function(t){var e=Da(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)},fromWordsUnsafe:function(t){var e=Da(t,5,8,!1);if(Array.isArray(e))return e},fromWords:function(t){var e=Da(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}};const qa="providers/5.6.8",za=new jt(qa);class ja{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const t={},e=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),i=this.data.bind(this),o=this.hash.bind(this),s=this.hex.bind(this),a=this.number.bind(this),l=this.type.bind(this);return t.transaction={hash:o,type:l,accessList:ja.allowNull(this.accessList.bind(this),null),blockHash:ja.allowNull(o,null),blockNumber:ja.allowNull(a,null),transactionIndex:ja.allowNull(a,null),confirmations:ja.allowNull(a,null),from:e,gasPrice:ja.allowNull(r),maxPriorityFeePerGas:ja.allowNull(r),maxFeePerGas:ja.allowNull(r),gasLimit:r,to:ja.allowNull(e,null),value:r,nonce:a,data:i,r:ja.allowNull(this.uint256),s:ja.allowNull(this.uint256),v:ja.allowNull(a),creates:ja.allowNull(e,null),raw:ja.allowNull(i)},t.transactionRequest={from:ja.allowNull(e),nonce:ja.allowNull(a),gasLimit:ja.allowNull(r),gasPrice:ja.allowNull(r),maxPriorityFeePerGas:ja.allowNull(r),maxFeePerGas:ja.allowNull(r),to:ja.allowNull(e),value:ja.allowNull(r),data:ja.allowNull((t=>this.data(t,!0))),type:ja.allowNull(a),accessList:ja.allowNull(this.accessList.bind(this),null)},t.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:o,address:e,topics:ja.arrayOf(o),data:i,logIndex:a,blockHash:o},t.receipt={to:ja.allowNull(this.address,null),from:ja.allowNull(this.address,null),contractAddress:ja.allowNull(e,null),transactionIndex:a,root:ja.allowNull(s),gasUsed:r,logsBloom:ja.allowNull(i),blockHash:o,transactionHash:o,logs:ja.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:ja.allowNull(a,null),cumulativeGasUsed:r,effectiveGasPrice:ja.allowNull(r),status:ja.allowNull(a),type:l},t.block={hash:ja.allowNull(o),parentHash:o,number:a,timestamp:a,nonce:ja.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:ja.allowNull(e),extraData:i,transactions:ja.allowNull(ja.arrayOf(o)),baseFeePerGas:ja.allowNull(r)},t.blockWithTransactions=Me(t.block),t.blockWithTransactions.transactions=ja.allowNull(ja.arrayOf(this.transactionResponse.bind(this))),t.filter={fromBlock:ja.allowNull(n,void 0),toBlock:ja.allowNull(n,void 0),blockHash:ja.allowNull(o,void 0),address:ja.allowNull(e,void 0),topics:ja.allowNull(this.topics.bind(this),void 0)},t.filterLog={blockNumber:ja.allowNull(a),blockHash:ja.allowNull(o),transactionIndex:a,removed:ja.allowNull(this.boolean.bind(this)),address:e,data:ja.allowFalsish(i,"0x"),topics:ja.arrayOf(o),transactionHash:o,logIndex:a},t}accessList(t){return Ws(t||[])}number(t){return"0x"===t?0:de.from(t).toNumber()}type(t){return"0x"===t||null==t?0:de.from(t).toNumber()}bigNumber(t){return de.from(t)}boolean(t){if("boolean"==typeof t)return t;if("string"==typeof t){if("true"===(t=t.toLowerCase()))return!0;if("false"===t)return!1}throw new Error("invalid boolean - "+t)}hex(t,e){return"string"==typeof t&&(e||"0x"===t.substring(0,2)||(t="0x"+t),Qt(t))?t.toLowerCase():za.throwArgumentError("invalid hash","value",t)}data(t,e){const r=this.hex(t,e);if(r.length%2!=0)throw new Error("invalid data; odd-length - "+t);return r}address(t){return yr(t)}callAddress(t){if(!Qt(t,32))return null;const e=yr(ne(t,12));return"0x0000000000000000000000000000000000000000"===e?null:e}contractAddress(t){return br(t)}blockTag(t){if(null==t)return"latest";if("earliest"===t)return"0x0";if("latest"===t||"pending"===t)return t;if("number"==typeof t||Qt(t))return oe(t);throw new Error("invalid blockTag")}hash(t,e){const r=this.hex(t,e);return 32!==re(r)?za.throwArgumentError("invalid hash","value",t):r}difficulty(t){if(null==t)return null;const e=de.from(t);try{return e.toNumber()}catch(t){}return null}uint256(t){if(!Qt(t))throw new Error("invalid uint256");return se(t,32)}_block(t,e){null!=t.author&&null==t.miner&&(t.miner=t.author);const r=null!=t._difficulty?t._difficulty:t.difficulty,n=ja.check(e,t);return n._difficulty=null==r?null:de.from(r),n}block(t){return this._block(t,this.formats.block)}blockWithTransactions(t){return this._block(t,this.formats.blockWithTransactions)}transactionRequest(t){return ja.check(this.formats.transactionRequest,t)}transactionResponse(t){null!=t.gas&&null==t.gasLimit&&(t.gasLimit=t.gas),t.to&&de.from(t.to).isZero()&&(t.to="0x0000000000000000000000000000000000000000"),null!=t.input&&null==t.data&&(t.data=t.input),null==t.to&&null==t.creates&&(t.creates=this.contractAddress(t)),1!==t.type&&2!==t.type||null!=t.accessList||(t.accessList=[]);const e=ja.check(this.formats.transaction,t);if(null!=t.chainId){let r=t.chainId;Qt(r)&&(r=de.from(r).toNumber()),e.chainId=r}else{let r=t.networkId;null==r&&null==e.v&&(r=t.chainId),Qt(r)&&(r=de.from(r).toNumber()),"number"!=typeof r&&null!=e.v&&(r=(e.v-35)/2,r<0&&(r=0),r=parseInt(r)),"number"!=typeof r&&(r=0),e.chainId=r}return e.blockHash&&"x"===e.blockHash.replace(/0/g,"")&&(e.blockHash=null),e}transaction(t){return Zs(t)}receiptLog(t){return ja.check(this.formats.receiptLog,t)}receipt(t){const e=ja.check(this.formats.receipt,t);if(null!=e.root)if(e.root.length<=4){const t=de.from(e.root).toNumber();0===t||1===t?(null!=e.status&&e.status!==t&&za.throwArgumentError("alt-root-status/status mismatch","value",{root:e.root,status:e.status}),e.status=t,delete e.root):za.throwArgumentError("invalid alt-root-status","value.root",e.root)}else 66!==e.root.length&&za.throwArgumentError("invalid root hash","value.root",e.root);return null!=e.status&&(e.byzantium=!0),e}topics(t){return Array.isArray(t)?t.map((t=>this.topics(t))):null!=t?this.hash(t,!0):null}filter(t){return ja.check(this.formats.filter,t)}filterLog(t){return ja.check(this.formats.filterLog,t)}static check(t,e){const r={};for(const n in t)try{const i=t[n](e[n]);void 0!==i&&(r[n]=i)}catch(t){throw t.checkKey=n,t.checkValue=e[n],t}return r}static allowNull(t,e){return function(r){return null==r?e:t(r)}}static allowFalsish(t,e){return function(r){return r?t(r):e}}static arrayOf(t){return function(e){if(!Array.isArray(e))throw new Error("not an array");const r=[];return e.forEach((function(e){r.push(t(e))})),r}}}var Ga=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};const Ha=new jt(qa);function Wa(t){return null==t?"null":(32!==re(t)&&Ha.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function Va(t){for(t=t.slice();t.length>0&&null==t[t.length-1];)t.pop();return t.map((t=>{if(Array.isArray(t)){const e={};t.forEach((t=>{e[Wa(t)]=!0}));const r=Object.keys(e);return r.sort(),r.join("|")}return Wa(t)})).join("&")}function Ja(t){if("string"==typeof t){if(32===re(t=t.toLowerCase()))return"tx:"+t;if(-1===t.indexOf(":"))return t}else{if(Array.isArray(t))return"filter:*:"+Va(t);if(jn.isForkEvent(t))throw Ha.warn("not implemented"),new Error("not implemented");if(t&&"object"==typeof t)return"filter:"+(t.address||"*")+":"+Va(t.topics||[])}throw new Error("invalid event - "+t)}function Ka(){return(new Date).getTime()}function Xa(t){return new Promise((e=>{setTimeout(e,t)}))}const Za=["block","network","pending","poll"];class Ya{constructor(t,e,r){we(this,"tag",t),we(this,"listener",e),we(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const t=this.tag.split(":");return"tx"!==t[0]?null:t[1]}get filter(){const t=this.tag.split(":");if("filter"!==t[0])return null;const e=t[1],r=""===(n=t[2])?[]:n.split(/&/g).map((t=>{if(""===t)return[];const e=t.split("|").map((t=>"null"===t?null:t));return 1===e.length?e[0]:e}));var n;const i={};return r.length>0&&(i.topics=r),e&&"*"!==e&&(i.address=e),i}pollable(){return this.tag.indexOf(":")>=0||Za.indexOf(this.tag)>=0}}const Qa={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function tl(t){return se(de.from(t).toHexString(),32)}function el(t){return da.encode(Zt([t,ne(pa(pa(t)),0,4)]))}const rl=new RegExp("^(ipfs)://(.*)$","i"),nl=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),rl,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function il(t,e){try{return Gr(ol(t,e))}catch(t){}return null}function ol(t,e){if("0x"===t)return null;const r=de.from(ne(t,e,e+32)).toNumber(),n=de.from(ne(t,r,r+32)).toNumber();return ne(t,r+32,r+32+n)}function sl(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Ha.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function al(t){const e=Xt(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function ll(t){if(t.length%32==0)return t;const e=new Uint8Array(32*Math.ceil(t.length/32));return e.set(t),e}function ul(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=Xt(t[n]);e[n]=al(r),e.push(al(i.length)),e.push(ll(i)),r+=32+32*Math.ceil(i.length/32)}return ie(e)}class cl{constructor(t,e,r,n){we(this,"provider",t),we(this,"name",r),we(this,"address",t.formatter.address(e)),we(this,"_resolvedAddress",n)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then((t=>de.from(t).eq(1))).catch((t=>{if(t.code===jt.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,t}))),this._supportsEip2544}_fetch(t,e){return Ga(this,void 0,void 0,(function*(){const r={to:this.address,ccipReadEnabled:!0,data:ie([t,mn(this.name),e||"0x"])};let n=!1;(yield this.supportsWildcard())&&(n=!0,r.data=ie(["0x9061b923",ul([gn(this.name),r.data])]));try{let t=yield this.provider.call(r);return Xt(t).length%32==4&&Ha.throwError("resolver threw error",jt.errors.CALL_EXCEPTION,{transaction:r,data:t}),n&&(t=ol(t,0)),t}catch(t){if(t.code===jt.errors.CALL_EXCEPTION)return null;throw t}}))}_fetchBytes(t,e){return Ga(this,void 0,void 0,(function*(){const r=yield this._fetch(t,e);return null!=r?ol(r,0):null}))}_getAddress(t,e){const r=Qa[String(t)];if(null==r&&Ha.throwError(`unsupported coin type: ${t}`,jt.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`}),"eth"===r.ilk)return this.provider.formatter.address(e);const n=Xt(e);if(null!=r.p2pkh){const t=e.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(t){const e=parseInt(t[1],16);if(t[2].length===2*e&&e>=1&&e<=75)return el(Zt([[r.p2pkh],"0x"+t[2]]))}}if(null!=r.p2sh){const t=e.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(t){const e=parseInt(t[1],16);if(t[2].length===2*e&&e>=1&&e<=75)return el(Zt([[r.p2sh],"0x"+t[2]]))}}if(null!=r.prefix){const t=n[1];let e=n[0];if(0===e?20!==t&&32!==t&&(e=-1):e=-1,e>=0&&n.length===2+t&&t>=1&&t<=75){const t=Ua.toWords(n.slice(2));return t.unshift(e),Ua.encode(r.prefix,t)}}return null}getAddress(t){return Ga(this,void 0,void 0,(function*(){if(null==t&&(t=60),60===t)try{const t=yield this._fetch("0x3b3b57de");return"0x"===t||"0x0000000000000000000000000000000000000000000000000000000000000000"===t?null:this.provider.formatter.callAddress(t)}catch(t){if(t.code===jt.errors.CALL_EXCEPTION)return null;throw t}const e=yield this._fetchBytes("0xf1cb7e06",tl(t));if(null==e||"0x"===e)return null;const r=this._getAddress(t,e);return null==r&&Ha.throwError("invalid or unsupported coin data",jt.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`,coinType:t,data:e}),r}))}getAvatar(){return Ga(this,void 0,void 0,(function*(){const t=[{type:"name",content:this.name}];try{const e=yield this.getText("avatar");if(null==e)return null;for(let r=0;r<nl.length;r++){const n=e.match(nl[r]);if(null==n)continue;const i=n[1].toLowerCase();switch(i){case"https":return t.push({type:"url",content:e}),{linkage:t,url:e};case"data":return t.push({type:"data",content:e}),{linkage:t,url:e};case"ipfs":return t.push({type:"ipfs",content:e}),{linkage:t,url:sl(e)};case"erc721":case"erc1155":{const r="erc721"===i?"0xc87b56dd":"0x0e89341c";t.push({type:i,content:e});const o=this._resolvedAddress||(yield this.getAddress()),s=(n[2]||"").split("/");if(2!==s.length)return null;const a=yield this.provider.formatter.address(s[0]),l=se(de.from(s[1]).toHexString(),32);if("erc721"===i){const e=this.provider.formatter.callAddress(yield this.provider.call({to:a,data:ie(["0x6352211e",l])}));if(o!==e)return null;t.push({type:"owner",content:e})}else if("erc1155"===i){const e=de.from(yield this.provider.call({to:a,data:ie(["0x00fdd58e",se(o,32),l])}));if(e.isZero())return null;t.push({type:"balance",content:e.toString()})}const u={to:this.provider.formatter.address(s[0]),data:ie([r,l])};let c=il(yield this.provider.call(u),0);if(null==c)return null;t.push({type:"metadata-url-base",content:c}),"erc1155"===i&&(c=c.replace("{id}",l.substring(2)),t.push({type:"metadata-url-expanded",content:c})),c.match(/^ipfs:/i)&&(c=sl(c)),t.push({type:"metadata-url",content:c});const h=yield Ra(c);if(!h)return null;t.push({type:"metadata",content:JSON.stringify(h)});let f=h.image;if("string"!=typeof f)return null;if(f.match(/^(https:\/\/|data:)/i));else{if(null==f.match(rl))return null;t.push({type:"url-ipfs",content:f}),f=sl(f)}return t.push({type:"url",content:f}),{linkage:t,url:f}}}}}catch(t){}return null}))}getContentHash(){return Ga(this,void 0,void 0,(function*(){const t=yield this._fetchBytes("0xbc1c58d1");if(null==t||"0x"===t)return null;const e=t.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const t=parseInt(e[3],16);if(e[4].length===2*t)return"ipfs://"+da.encode("0x"+e[1])}const r=t.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const t=parseInt(r[3],16);if(r[4].length===2*t)return"ipns://"+da.encode("0x"+r[1])}const n=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return"bzz://"+n[1];const i=t.match(/^0x90b2c605([0-9a-f]*)$/);if(i&&68===i[1].length){const t={"=":"","+":"-","/":"_"},e=Ma("0x"+i[1]).replace(/[=+\/]/g,(e=>t[e]));return"sia://"+e}return Ha.throwError("invalid or unsupported content hash data",jt.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:t})}))}getText(t){return Ga(this,void 0,void 0,(function*(){let e=zr(t);e=Zt([tl(64),tl(e.length),e]),e.length%32!=0&&(e=Zt([e,se("0x",32-t.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",ee(e));return null==r||"0x"===r?null:Gr(r)}))}}let hl=null,fl=1;class dl extends Gn{constructor(t){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),we(this,"anyNetwork","any"===t),this.anyNetwork&&(t=this.detectNetwork()),t instanceof Promise)this._networkPromise=t,t.catch((t=>{})),this._ready().catch((t=>{}));else{const e=_e(new.target,"getNetwork")(t);e?(we(this,"_network",e),this.emit("network",e,null)):Ha.throwArgumentError("invalid network","network",t)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Ga(this,void 0,void 0,(function*(){if(null==this._network){let t=null;if(this._networkPromise)try{t=yield this._networkPromise}catch(t){}null==t&&(t=yield this.detectNetwork()),t||Ha.throwError("no network detected",jt.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=t:we(this,"_network",t),this.emit("network",t,null))}return this._network}))}get ready(){return Ta((()=>this._ready().then((t=>t),(t=>{if(t.code!==jt.errors.NETWORK_ERROR||"noNetwork"!==t.event)throw t}))))}static getFormatter(){return null==hl&&(hl=new ja),hl}static getNetwork(t){return function(t){if(null==t)return null;if("number"==typeof t){for(const e in _a){const r=_a[e];if(r.chainId===t)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:t,name:"unknown"}}if("string"==typeof t){const e=_a[t];return null==e?null:{name:e.name,chainId:e.chainId,ensAddress:e.ensAddress,_defaultProvider:e._defaultProvider||null}}const e=_a[t.name];if(!e)return"number"!=typeof t.chainId&&ma.throwArgumentError("invalid network chainId","network",t),t;0!==t.chainId&&t.chainId!==e.chainId&&ma.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;var n;return null==r&&e._defaultProvider&&(r=(n=e._defaultProvider)&&"function"==typeof n.renetwork?e._defaultProvider.renetwork(t):e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}(null==t?"homestead":t)}ccipReadFetch(t,e,r){return Ga(this,void 0,void 0,(function*(){if(this.disableCcipRead||0===r.length)return null;const n=t.to.toLowerCase(),i=e.toLowerCase(),o=[];for(let t=0;t<r.length;t++){const e=r[t],s=e.replace("{sender}",n).replace("{data}",i),a=e.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:n}),l=yield Ra({url:s,errorPassThrough:!0},a,((t,e)=>(t.status=e.statusCode,t)));if(l.data)return l.data;const u=l.message||"unknown error";if(l.status>=400&&l.status<500)return Ha.throwError(`response not found during CCIP fetch: ${u}`,jt.errors.SERVER_ERROR,{url:e,errorMessage:u});o.push(u)}return Ha.throwError(`error encountered during CCIP fetch: ${o.map((t=>JSON.stringify(t))).join(", ")}`,jt.errors.SERVER_ERROR,{urls:r,errorMessages:o})}))}_getInternalBlockNumber(t){return Ga(this,void 0,void 0,(function*(){if(yield this._ready(),t>0)for(;this._internalBlockNumber;){const e=this._internalBlockNumber;try{const r=yield e;if(Ka()-r.respTime<=t)return r.blockNumber;break}catch(t){if(this._internalBlockNumber===e)break}}const e=Ka(),r=Ee({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((t=>null),(t=>t))}).then((({blockNumber:t,networkError:n})=>{if(n)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),n;const i=Ka();return(t=de.from(t).toNumber())<this._maxInternalBlockNumber&&(t=this._maxInternalBlockNumber),this._maxInternalBlockNumber=t,this._setFastBlockNumber(t),{blockNumber:t,reqTime:e,respTime:i}}));return this._internalBlockNumber=r,r.catch((t=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)})),(yield r).blockNumber}))}poll(){return Ga(this,void 0,void 0,(function*(){const t=fl++,e=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(t){return void this.emit("error",t)}if(this._setFastBlockNumber(r),this.emit("poll",t,r),r!==this._lastBlockNumber){if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)Ha.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",Ha.makeError("network block skew detected",jt.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let t=this._emitted.block+1;t<=r;t++)this.emit("block",t);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach((t=>{if("block"===t)return;const e=this._emitted[t];"pending"!==e&&r-e>12&&delete this._emitted[t]}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach((t=>{switch(t.type){case"tx":{const r=t.hash;let n=this.getTransactionReceipt(r).then((t=>t&&null!=t.blockNumber?(this._emitted["t:"+r]=t.blockNumber,this.emit(r,t),null):null)).catch((t=>{this.emit("error",t)}));e.push(n);break}case"filter":if(!t._inflight){t._inflight=!0;const n=t.filter;n.fromBlock=t._lastBlockNumber+1,n.toBlock=r,n.toBlock-this._maxFilterBlockRange>n.fromBlock&&(n.fromBlock=n.toBlock-this._maxFilterBlockRange);const i=this.getLogs(n).then((e=>{t._inflight=!1,0!==e.length&&e.forEach((e=>{e.blockNumber>t._lastBlockNumber&&(t._lastBlockNumber=e.blockNumber),this._emitted["b:"+e.blockHash]=e.blockNumber,this._emitted["t:"+e.transactionHash]=e.blockNumber,this.emit(n,e)}))})).catch((e=>{this.emit("error",e),t._inflight=!1}));e.push(i)}}})),this._lastBlockNumber=r,Promise.all(e).then((()=>{this.emit("didPoll",t)})).catch((t=>{this.emit("error",t)}))}else this.emit("didPoll",t)}))}resetEventsBlock(t){this._lastBlockNumber=t-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Ga(this,void 0,void 0,(function*(){return Ha.throwError("provider does not support network detection",jt.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})}))}getNetwork(){return Ga(this,void 0,void 0,(function*(){const t=yield this._ready(),e=yield this.detectNetwork();if(t.chainId!==e.chainId){if(this.anyNetwork)return this._network=e,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",e,t),yield Xa(0),this._network;const r=Ha.makeError("underlying network changed",jt.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:e});throw this.emit("error",r),r}return t}))}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then((t=>{this._setFastBlockNumber(t)}),(t=>{})),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(t){t&&!this._poller?(this._poller=setInterval((()=>{this.poll()}),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((()=>{this.poll(),this._bootstrapPoll=setTimeout((()=>{this._poller||this.poll(),this._bootstrapPoll=null}),this.pollingInterval)}),0))):!t&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(t){if("number"!=typeof t||t<=0||parseInt(String(t))!=t)throw new Error("invalid polling interval");this._pollingInterval=t,this._poller&&(clearInterval(this._poller),this._poller=setInterval((()=>{this.poll()}),this._pollingInterval))}_getFastBlockNumber(){const t=Ka();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then((t=>((null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber)))),this._fastBlockNumberPromise}_setFastBlockNumber(t){null!=this._fastBlockNumber&&t<this._fastBlockNumber||(this._fastQueryDate=Ka(),(null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t,this._fastBlockNumberPromise=Promise.resolve(t)))}waitForTransaction(t,e,r){return Ga(this,void 0,void 0,(function*(){return this._waitForTransaction(t,null==e?1:e,r||0,null)}))}_waitForTransaction(t,e,r,n){return Ga(this,void 0,void 0,(function*(){const i=yield this.getTransactionReceipt(t);return(i?i.confirmations:0)>=e?i:new Promise(((i,o)=>{const s=[];let a=!1;const l=function(){return!!a||(a=!0,s.forEach((t=>{t()})),!1)},u=t=>{t.confirmations<e||l()||i(t)};if(this.on(t,u),s.push((()=>{this.removeListener(t,u)})),n){let r=n.startBlock,i=null;const u=s=>Ga(this,void 0,void 0,(function*(){a||(yield Xa(1e3),this.getTransactionCount(n.from).then((c=>Ga(this,void 0,void 0,(function*(){if(!a){if(c<=n.nonce)r=s;else{{const e=yield this.getTransaction(t);if(e&&null!=e.blockNumber)return}for(null==i&&(i=r-3,i<n.startBlock&&(i=n.startBlock));i<=s;){if(a)return;const r=yield this.getBlockWithTransactions(i);for(let i=0;i<r.transactions.length;i++){const s=r.transactions[i];if(s.hash===t)return;if(s.from===n.from&&s.nonce===n.nonce){if(a)return;const r=yield this.waitForTransaction(s.hash,e);if(l())return;let i="replaced";return s.data===n.data&&s.to===n.to&&s.value.eq(n.value)?i="repriced":"0x"===s.data&&s.from===s.to&&s.value.isZero()&&(i="cancelled"),void o(Ha.makeError("transaction was replaced",jt.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:this._wrapTransaction(s),hash:t,receipt:r}))}}i++}}a||this.once("block",u)}}))),(t=>{a||this.once("block",u)})))}));if(a)return;this.once("block",u),s.push((()=>{this.removeListener("block",u)}))}if("number"==typeof r&&r>0){const t=setTimeout((()=>{l()||o(Ha.makeError("timeout exceeded",jt.errors.TIMEOUT,{timeout:r}))}),r);t.unref&&t.unref(),s.push((()=>{clearTimeout(t)}))}}))}))}getBlockNumber(){return Ga(this,void 0,void 0,(function*(){return this._getInternalBlockNumber(0)}))}getGasPrice(){return Ga(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield this.perform("getGasPrice",{});try{return de.from(t)}catch(e){return Ha.throwError("bad result from backend",jt.errors.SERVER_ERROR,{method:"getGasPrice",result:t,error:e})}}))}getBalance(t,e){return Ga(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield Ee({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getBalance",r);try{return de.from(n)}catch(t){return Ha.throwError("bad result from backend",jt.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:t})}}))}getTransactionCount(t,e){return Ga(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield Ee({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getTransactionCount",r);try{return de.from(n).toNumber()}catch(t){return Ha.throwError("bad result from backend",jt.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:t})}}))}getCode(t,e){return Ga(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield Ee({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getCode",r);try{return ee(n)}catch(t){return Ha.throwError("bad result from backend",jt.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:t})}}))}getStorageAt(t,e,r){return Ga(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield Ee({address:this._getAddress(t),blockTag:this._getBlockTag(r),position:Promise.resolve(e).then((t=>oe(t)))}),i=yield this.perform("getStorageAt",n);try{return ee(i)}catch(t){return Ha.throwError("bad result from backend",jt.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:i,error:t})}}))}_wrapTransaction(t,e,r){if(null!=e&&32!==re(e))throw new Error("invalid response - sendTransaction");const n=t;return null!=e&&t.hash!==e&&Ha.throwError("Transaction hash mismatch from Provider.sendTransaction.",jt.errors.UNKNOWN_ERROR,{expectedHash:t.hash,returnedHash:e}),n.wait=(e,n)=>Ga(this,void 0,void 0,(function*(){let i;null==e&&(e=1),null==n&&(n=0),0!==e&&null!=r&&(i={data:t.data,from:t.from,nonce:t.nonce,to:t.to,value:t.value,startBlock:r});const o=yield this._waitForTransaction(t.hash,e,n,i);return null==o&&0===e?null:(this._emitted["t:"+t.hash]=o.blockNumber,0===o.status&&Ha.throwError("transaction failed",jt.errors.CALL_EXCEPTION,{transactionHash:t.hash,transaction:t,receipt:o}),o)})),n}sendTransaction(t){return Ga(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield Promise.resolve(t).then((t=>ee(t))),r=this.formatter.transaction(t);null==r.confirmations&&(r.confirmations=0);const n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const t=yield this.perform("sendTransaction",{signedTransaction:e});return this._wrapTransaction(r,t,n)}catch(t){throw t.transaction=r,t.transactionHash=r.hash,t}}))}_getTransactionRequest(t){return Ga(this,void 0,void 0,(function*(){const e=yield t,r={};return["from","to"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?this._getAddress(t):null)))})),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?de.from(t):null)))})),["type"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>null!=t?t:null)))})),e.accessList&&(r.accessList=this.formatter.accessList(e.accessList)),["data"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?ee(t):null)))})),this.formatter.transactionRequest(yield Ee(r))}))}_getFilter(t){return Ga(this,void 0,void 0,(function*(){t=yield t;const e={};return null!=t.address&&(e.address=this._getAddress(t.address)),["blockHash","topics"].forEach((r=>{null!=t[r]&&(e[r]=t[r])})),["fromBlock","toBlock"].forEach((r=>{null!=t[r]&&(e[r]=this._getBlockTag(t[r]))})),this.formatter.filter(yield Ee(e))}))}_call(t,e,r){return Ga(this,void 0,void 0,(function*(){r>=10&&Ha.throwError("CCIP read exceeded maximum redirections",jt.errors.SERVER_ERROR,{redirects:r,transaction:t});const n=t.to,i=yield this.perform("call",{transaction:t,blockTag:e});if(r>=0&&"latest"===e&&null!=n&&"0x556f1830"===i.substring(0,10)&&re(i)%32==4)try{const o=ne(i,4),s=ne(o,0,32);de.from(s).eq(n)||Ha.throwError("CCIP Read sender did not match",jt.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i});const a=[],l=de.from(ne(o,32,64)).toNumber(),u=de.from(ne(o,l,l+32)).toNumber(),c=ne(o,l+32);for(let e=0;e<u;e++){const r=il(c,32*e);null==r&&Ha.throwError("CCIP Read contained corrupt URL string",jt.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i}),a.push(r)}const h=ol(o,64);de.from(ne(o,100,128)).isZero()||Ha.throwError("CCIP Read callback selector included junk",jt.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i});const f=ne(o,96,100),d=ol(o,128),p=yield this.ccipReadFetch(t,h,a);null==p&&Ha.throwError("CCIP Read disabled or provided no URLs",jt.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i});const m={to:n,data:ie([f,ul([p,d])])};return this._call(m,e,r+1)}catch(t){if(t.code===jt.errors.SERVER_ERROR)throw t}try{return ee(i)}catch(r){return Ha.throwError("bad result from backend",jt.errors.SERVER_ERROR,{method:"call",params:{transaction:t,blockTag:e},result:i,error:r})}}))}call(t,e){return Ga(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield Ee({transaction:this._getTransactionRequest(t),blockTag:this._getBlockTag(e),ccipReadEnabled:Promise.resolve(t.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)}))}estimateGas(t){return Ga(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield Ee({transaction:this._getTransactionRequest(t)}),r=yield this.perform("estimateGas",e);try{return de.from(r)}catch(t){return Ha.throwError("bad result from backend",jt.errors.SERVER_ERROR,{method:"estimateGas",params:e,result:r,error:t})}}))}_getAddress(t){return Ga(this,void 0,void 0,(function*(){"string"!=typeof(t=yield t)&&Ha.throwArgumentError("invalid address or ENS name","name",t);const e=yield this.resolveName(t);return null==e&&Ha.throwError("ENS name not configured",jt.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(t)})`}),e}))}_getBlock(t,e){return Ga(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;let r=-128;const n={includeTransactions:!!e};if(Qt(t,32))n.blockHash=t;else try{n.blockTag=yield this._getBlockTag(t),Qt(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16))}catch(e){Ha.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",t)}return Ta((()=>Ga(this,void 0,void 0,(function*(){const t=yield this.perform("getBlock",n);if(null==t)return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?null:void 0;if(e){let e=null;for(let r=0;r<t.transactions.length;r++){const n=t.transactions[r];if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){null==e&&(e=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let t=e-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}}const r=this.formatter.blockWithTransactions(t);return r.transactions=r.transactions.map((t=>this._wrapTransaction(t))),r}return this.formatter.block(t)}))),{oncePoll:this})}))}getBlock(t){return this._getBlock(t,!1)}getBlockWithTransactions(t){return this._getBlock(t,!0)}getTransaction(t){return Ga(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return Ta((()=>Ga(this,void 0,void 0,(function*(){const r=yield this.perform("getTransaction",e);if(null==r)return null==this._emitted["t:"+t]?null:void 0;const n=this.formatter.transactionResponse(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let t=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}return this._wrapTransaction(n)}))),{oncePoll:this})}))}getTransactionReceipt(t){return Ga(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return Ta((()=>Ga(this,void 0,void 0,(function*(){const r=yield this.perform("getTransactionReceipt",e);if(null==r)return null==this._emitted["t:"+t]?null:void 0;if(null==r.blockHash)return;const n=this.formatter.receipt(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let t=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}return n}))),{oncePoll:this})}))}getLogs(t){return Ga(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield Ee({filter:this._getFilter(t)}),r=yield this.perform("getLogs",e);return r.forEach((t=>{null==t.removed&&(t.removed=!1)})),ja.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)}))}getEtherPrice(){return Ga(this,void 0,void 0,(function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})}))}_getBlockTag(t){return Ga(this,void 0,void 0,(function*(){if("number"==typeof(t=yield t)&&t<0){t%1&&Ha.throwArgumentError("invalid BlockTag","blockTag",t);let e=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return e+=t,e<0&&(e=0),this.formatter.blockTag(e)}return this.formatter.blockTag(t)}))}getResolver(t){return Ga(this,void 0,void 0,(function*(){let e=t;for(;;){if(""===e||"."===e)return null;if("eth"!==t&&"eth"===e)return null;const r=yield this._getResolver(e,"getResolver");if(null!=r){const n=new cl(this,r,t);return e===t||(yield n.supportsWildcard())?n:null}e=e.split(".").slice(1).join(".")}}))}_getResolver(t,e){return Ga(this,void 0,void 0,(function*(){null==e&&(e="ENS");const r=yield this.getNetwork();r.ensAddress||Ha.throwError("network does not support ENS",jt.errors.UNSUPPORTED_OPERATION,{operation:e,network:r.name});try{const e=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+mn(t).substring(2)});return this.formatter.callAddress(e)}catch(t){}return null}))}resolveName(t){return Ga(this,void 0,void 0,(function*(){t=yield t;try{return Promise.resolve(this.formatter.address(t))}catch(e){if(Qt(t))throw e}"string"!=typeof t&&Ha.throwArgumentError("invalid ENS name","name",t);const e=yield this.getResolver(t);return e?yield e.getAddress():null}))}lookupAddress(t){return Ga(this,void 0,void 0,(function*(){t=yield t;const e=(t=this.formatter.address(t)).substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(e,"lookupAddress");if(null==r)return null;const n=il(yield this.call({to:r,data:"0x691f3431"+mn(e).substring(2)}),0);return(yield this.resolveName(n))!=t?null:n}))}getAvatar(t){return Ga(this,void 0,void 0,(function*(){let e=null;if(Qt(t)){const r=this.formatter.address(t).substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"getAvatar");if(!n)return null;e=new cl(this,n,r);try{const t=yield e.getAvatar();if(t)return t.url}catch(t){if(t.code!==jt.errors.CALL_EXCEPTION)throw t}try{const t=il(yield this.call({to:n,data:"0x691f3431"+mn(r).substring(2)}),0);e=yield this.getResolver(t)}catch(t){if(t.code!==jt.errors.CALL_EXCEPTION)throw t;return null}}else if(e=yield this.getResolver(t),!e)return null;const r=yield e.getAvatar();return null==r?null:r.url}))}perform(t,e){return Ha.throwError(t+" not implemented",jt.errors.NOT_IMPLEMENTED,{operation:t})}_startEvent(t){this.polling=this._events.filter((t=>t.pollable())).length>0}_stopEvent(t){this.polling=this._events.filter((t=>t.pollable())).length>0}_addEventListener(t,e,r){const n=new Ya(Ja(t),e,r);return this._events.push(n),this._startEvent(n),this}on(t,e){return this._addEventListener(t,e,!1)}once(t,e){return this._addEventListener(t,e,!0)}emit(t,...e){let r=!1,n=[],i=Ja(t);return this._events=this._events.filter((t=>t.tag!==i||(setTimeout((()=>{t.listener.apply(this,e)}),0),r=!0,!t.once||(n.push(t),!1)))),n.forEach((t=>{this._stopEvent(t)})),r}listenerCount(t){if(!t)return this._events.length;let e=Ja(t);return this._events.filter((t=>t.tag===e)).length}listeners(t){if(null==t)return this._events.map((t=>t.listener));let e=Ja(t);return this._events.filter((t=>t.tag===e)).map((t=>t.listener))}off(t,e){if(null==e)return this.removeAllListeners(t);const r=[];let n=!1,i=Ja(t);return this._events=this._events.filter((t=>t.tag!==i||t.listener!=e||(!!n||(n=!0,r.push(t),!1)))),r.forEach((t=>{this._stopEvent(t)})),this}removeAllListeners(t){let e=[];if(null==t)e=this._events,this._events=[];else{const r=Ja(t);this._events=this._events.filter((t=>t.tag!==r||(e.push(t),!1)))}return e.forEach((t=>{this._stopEvent(t)})),this}}var pl=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};const ml=new jt(qa),gl=["call","estimateGas"];function vl(t,e){if(null==t)return null;if("string"==typeof t.message&&t.message.match("reverted")){const r=Qt(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if("object"==typeof t){for(const r in t){const n=vl(t[r],e);if(n)return n}return null}if("string"==typeof t)try{return vl(JSON.parse(t),e)}catch(t){}return null}function yl(t,e,r){const n=r.transaction||r.signedTransaction;if("call"===t){const t=vl(e,!0);if(t)return t.data;ml.throwError("missing revert data in call exception; Transaction reverted without a reason string",jt.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if("estimateGas"===t){let r=vl(e.body,!1);null==r&&(r=vl(e,!1)),r&&ml.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",jt.errors.UNPREDICTABLE_GAS_LIMIT,{reason:r.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===jt.errors.SERVER_ERROR&&e.error&&"string"==typeof e.error.message?i=e.error.message:"string"==typeof e.body?i=e.body:"string"==typeof e.responseText&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit/i)&&ml.throwError("insufficient funds for intrinsic transaction cost",jt.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&ml.throwError("nonce has already been used",jt.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&ml.throwError("replacement fee too low",jt.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&ml.throwError("legacy pre-eip-155 transactions not supported",jt.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),gl.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&ml.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",jt.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function bl(t){return new Promise((function(e){setTimeout(e,t)}))}function wl(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function _l(t){return t?t.toLowerCase():t}const El={};class Ml extends Kn{constructor(t,e,r){if(super(),t!==El)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");we(this,"provider",e),null==r&&(r=0),"string"==typeof r?(we(this,"_address",this.provider.formatter.address(r)),we(this,"_index",null)):"number"==typeof r?(we(this,"_index",r),we(this,"_address",null)):ml.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(t){return ml.throwError("cannot alter JSON-RPC Signer connection",jt.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new Al(El,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((t=>(t.length<=this._index&&ml.throwError("unknown account #"+this._index,jt.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(t[this._index]))))}sendUncheckedTransaction(t){t=Me(t);const e=this.getAddress().then((t=>(t&&(t=t.toLowerCase()),t)));if(null==t.gasLimit){const r=Me(t);r.from=e,t.gasLimit=this.provider.estimateGas(r)}return null!=t.to&&(t.to=Promise.resolve(t.to).then((t=>pl(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.provider.resolveName(t);return null==e&&ml.throwArgumentError("provided ENS name resolves to null","tx.to",t),e}))))),Ee({tx:Ee(t),sender:e}).then((({tx:e,sender:r})=>{null!=e.from?e.from.toLowerCase()!==r&&ml.throwArgumentError("from address mismatch","transaction",t):e.from=r;const n=this.provider.constructor.hexlifyTransaction(e,{from:!0});return this.provider.send("eth_sendTransaction",[n]).then((t=>t),(t=>yl("sendTransaction",t,n)))}))}signTransaction(t){return ml.throwError("signing transactions is unsupported",jt.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(t){return pl(this,void 0,void 0,(function*(){const e=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(t);try{return yield Ta((()=>pl(this,void 0,void 0,(function*(){const t=yield this.provider.getTransaction(r);if(null!==t)return this.provider._wrapTransaction(t,r,e)}))),{oncePoll:this.provider})}catch(t){throw t.transactionHash=r,t}}))}signMessage(t){return pl(this,void 0,void 0,(function*(){const e="string"==typeof t?zr(t):t,r=yield this.getAddress();return yield this.provider.send("personal_sign",[ee(e),r.toLowerCase()])}))}_legacySignMessage(t){return pl(this,void 0,void 0,(function*(){const e="string"==typeof t?zr(t):t,r=yield this.getAddress();return yield this.provider.send("eth_sign",[r.toLowerCase(),ee(e)])}))}_signTypedData(t,e,r){return pl(this,void 0,void 0,(function*(){const n=yield Pn.resolveNames(t,e,r,(t=>this.provider.resolveName(t))),i=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(Pn.getPayload(n.domain,e,n.value))])}))}unlock(t){return pl(this,void 0,void 0,(function*(){const e=this.provider,r=yield this.getAddress();return e.send("personal_unlockAccount",[r.toLowerCase(),t,null])}))}}class Al extends Ml{sendTransaction(t){return this.sendUncheckedTransaction(t).then((t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:e=>this.provider.waitForTransaction(t,e)})))}}const Il={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Sl extends dl{constructor(t,e){let r=e;null==r&&(r=new Promise(((t,e)=>{setTimeout((()=>{this.detectNetwork().then((e=>{t(e)}),(t=>{e(t)}))}),0)}))),super(r),t||(t=_e(this.constructor,"defaultUrl")()),we(this,"connection","string"==typeof t?Object.freeze({url:t}):Object.freeze(Me(t))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((()=>{this._cache.detectNetwork=null}),0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return pl(this,void 0,void 0,(function*(){yield bl(0);let t=null;try{t=yield this.send("eth_chainId",[])}catch(e){try{t=yield this.send("net_version",[])}catch(t){}}if(null!=t){const e=_e(this.constructor,"getNetwork");try{return e(de.from(t).toNumber())}catch(e){return ml.throwError("could not detect network",jt.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:e})}}return ml.throwError("could not detect network",jt.errors.NETWORK_ERROR,{event:"noNetwork"})}))}getSigner(t){return new Ml(El,this,t)}getUncheckedSigner(t){return this.getSigner(t).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then((t=>t.map((t=>this.formatter.address(t)))))}send(t,e){const r={method:t,params:e,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:ke(r),provider:this});const n=["eth_chainId","eth_blockNumber"].indexOf(t)>=0;if(n&&this._cache[t])return this._cache[t];const i=Ra(this.connection,JSON.stringify(r),wl).then((t=>(this.emit("debug",{action:"response",request:r,response:t,provider:this}),t)),(t=>{throw this.emit("debug",{action:"response",error:t,request:r,provider:this}),t}));return n&&(this._cache[t]=i,setTimeout((()=>{this._cache[t]=null}),0)),i}prepareRequest(t,e){switch(t){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[_l(e.address),e.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[_l(e.address),e.blockTag]];case"getCode":return["eth_getCode",[_l(e.address),e.blockTag]];case"getStorageAt":return["eth_getStorageAt",[_l(e.address),se(e.position,32),e.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[e.signedTransaction]];case"getBlock":return e.blockTag?["eth_getBlockByNumber",[e.blockTag,!!e.includeTransactions]]:e.blockHash?["eth_getBlockByHash",[e.blockHash,!!e.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[e.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[e.transactionHash]];case"call":return["eth_call",[_e(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0}),e.blockTag]];case"estimateGas":return["eth_estimateGas",[_e(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0})]];case"getLogs":return e.filter&&null!=e.filter.address&&(e.filter.address=_l(e.filter.address)),["eth_getLogs",[e.filter]]}return null}perform(t,e){return pl(this,void 0,void 0,(function*(){if("call"===t||"estimateGas"===t){const t=e.transaction;if(t&&null!=t.type&&de.from(t.type).isZero()&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const r=yield this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&((e=Me(e)).transaction=Me(t),delete e.transaction.type)}}const r=this.prepareRequest(t,e);null==r&&ml.throwError(t+" not implemented",jt.errors.NOT_IMPLEMENTED,{operation:t});try{return yield this.send(r[0],r[1])}catch(r){return yl(t,r,e)}}))}_startEvent(t){"pending"===t.tag&&this._startPending(),super._startEvent(t)}_startPending(){if(null!=this._pendingFilter)return;const t=this,e=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=e,e.then((function(r){return function n(){t.send("eth_getFilterChanges",[r]).then((function(r){if(t._pendingFilter!=e)return null;let n=Promise.resolve();return r.forEach((function(e){t._emitted["t:"+e.toLowerCase()]="pending",n=n.then((function(){return t.getTransaction(e).then((function(e){return t.emit("pending",e),null}))}))})),n.then((function(){return bl(1e3)}))})).then((function(){if(t._pendingFilter==e)return setTimeout((function(){n()}),0),null;t.send("eth_uninstallFilter",[r])})).catch((t=>{}))}(),r})).catch((t=>{}))}_stopEvent(t){"pending"===t.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(t)}static hexlifyTransaction(t,e){const r=Me(Il);if(e)for(const t in e)e[t]&&(r[t]=!0);var n,i;i=r,(n=t)&&"object"==typeof n||be.throwArgumentError("invalid object","object",n),Object.keys(n).forEach((t=>{i[t]||be.throwArgumentError("invalid object key - "+t,"transaction:"+t,n)}));const o={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(e){if(null==t[e])return;const r=oe(de.from(t[e]));"gasLimit"===e&&(e="gas"),o[e]=r})),["from","to","data"].forEach((function(e){null!=t[e]&&(o[e]=ee(t[e]))})),t.accessList&&(o.accessList=Ws(t.accessList)),o}}new jt("ethers/5.6.9");var kl=["event ImplementationNew(address indexed,address indexed,uint256)","event TemplateSet(string indexed,address indexed)","function implementations(uint256) view returns (address)","function implementationsAdd(address[])","function implementationsCount() view returns (uint256)","function templateSet(string,address)","function templates(string) view returns (address)"],xl=["function balancesOf(address) view returns (tuple(address,uint256,address,string,string,uint256)[])","function clone(string,string,string,bool[]) returns (address)"];const Nl=new Map,Rl=(t,e)=>{let r=Nl.get(t);return r||(r=new ha(Dl(t),kl.concat(xl),e),Nl.set(t,r)),r};var Tl=[{chainId:1,chainName:"mainnet",rpcUrls:["https://mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorerUrls:["https://etherscan.io"],openSea:{assets:"https://opensea.io/assets",openNFTs:"https://opensea.io/collection/kredeum-nfts"},subgraph:{url:"https://api.thegraph.com/subgraphs/name/wighawag/eip721-subgraph",active:!0},alchemy:{url:"https://eth-mainnet.alchemyapi.io/v2",active:!0},covalent:{active:!0},eip1559:!0,create:!0,mainnet:!0,defaultOpenNFTs:"0x82a398243EBc2CB26a4A21B9427EC6Db8c224471",nftsFactory:"0x4b7992F03906F7bBE3d48E5Fb724f52c56cFb039",nftsFactoryV2:"0xD5dA0F2bf1029c64460e4e1CE1fA0f88E7E39800"},{chainId:42161,chainName:"arbitrum",rpcUrls:["https://arbitrum-mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],nativeCurrency:{name:"Ether",symbol:"AETH",decimals:18},blockExplorerUrls:["https://arbiscan.io","https://explorer.arbitrum.io"],covalent:{active:!1},create:!0,mainnet:!0,defaultOpenNFTs:"0x8a324A30C8ca1E9CFcea267C2116968cAacEd1D6",nftsFactoryV2:"0xD5dA0F2bf1029c64460e4e1CE1fA0f88E7E39800"},{chainId:10,chainName:"optimism",rpcUrls:["https://mainnet.optimism.io"],nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},blockExplorerUrls:["https://optimistic.etherscan.io"],covalent:{active:!1},defaultOpenNFTs:"0x353e747242CD4806Cb18D70a42cEa01512b18A3B",nftsFactoryV2:"0x03F9c54b5D5De9b2323d944Faa406E3F20734B67",create:!0,mainnet:!0},{chainId:137,chainName:"matic",rpcUrls:["https://polygon-mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161","https://polygon-rpc.com/"],nativeCurrency:{name:"Matic",symbol:"MATIC",decimals:18},blockExplorerUrls:["https://polygonscan.com","https://polygon-explorer-mainnet.chainstacklabs.com"],subgraph:{url:"https://api.thegraph.com/subgraphs/name/tranchien2002/eip721-matic",startBlock:16875648,active:!1},alchemy:{url:"https://polygon-mainnet.g.alchemy.com/v2",active:!0},covalent:{active:!0},openSea:{assets:"https://opensea.io/assets/matic",openNFTs:"https://opensea.io/collection/kredeum-nfts"},defaultOpenNFTs:"0xda67B337B777AE6Cf99DcAbD5c38916DDc2CF5d5",nftsFactory:"0x3157Ac677F6F273b75E99A2216CD078E22E9be02",nftsFactoryV2:"0xD5dA0F2bf1029c64460e4e1CE1fA0f88E7E39800",create:!0,mainnet:!0},{chainId:43114,chainName:"avalanche",rpcUrls:["https://api.avax.network/ext/bc/C/rpc"],nativeCurrency:{name:"AVAX",symbol:"AVAX",decimals:18},blockExplorerUrls:["https://snowtrace.io","https://cchain.explorer.avax.network"],covalent:{active:!0},defaultOpenNFTs:"0xd719d8bA14F7EA708b42fFA0903d430F1B1c88a9",nftsFactory:"0x0ED91009756b1d684F2D953f56cF84373D8CEB25",nftsFactoryV2:"0x016fa6b76Fb24e651806455e58710d48880226f9",create:!0,mainnet:!0},{chainId:100,chainName:"xdai",rpcUrls:["https://rpc.ankr.com/gnosis","https://rpc.xdaichain.com","https://xdai.poanetwork.dev/","https://dai.poa.network/"],nativeCurrency:{name:"xDAI",symbol:"xDAI",decimals:18},blockExplorerUrls:["https://blockscout.com/xdai/mainnet"],defaultOpenNFTs:"0xF6169393986b38e57D61187051c3F5B554796f83",nftsFactory:"0x86246ba8F7b25B1650BaF926E42B66Ec18D96000",nftsFactoryV2:"0xD5dA0F2bf1029c64460e4e1CE1fA0f88E7E39800",create:!0,mainnet:!0},{chainId:250,chainName:"fantom",rpcUrls:["https://rpc.ftm.tools/","https://rpcapi.fantom.network"],nativeCurrency:{name:"FTM",symbol:"FTM",decimals:18},blockExplorerUrls:["https://ftmscan.com"],covalent:{active:!0},defaultOpenNFTs:"0x5E03Acd53d5D3A834278014D91F0AFD36f8147Ce",nftsFactory:"0x03F9c54b5D5De9b2323d944Faa406E3F20734B67",nftsFactoryV2:"0xD5dA0F2bf1029c64460e4e1CE1fA0f88E7E39800",create:!0,mainnet:!0},{chainId:56,chainName:"bsc",rpcUrls:["https://bsc-dataseed.binance.org","https://bsc-dataseed1.defibit.io","https://bsc-dataseed1.ninicoin.io"],nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},blockExplorerUrls:["https://bscscan.com"],covalent:{active:!0},defaultOpenNFTs:"0x57bdf6e59c2652d349f7022beb8d1b7458ca09eb",nftsFactory:"0x03F9c54b5D5De9b2323d944Faa406E3F20734B67",nftsFactoryV2:"0xD5dA0F2bf1029c64460e4e1CE1fA0f88E7E39800",create:!0,mainnet:!0},{chainId:97,chainName:"bsctestnet",rpcUrls:["https://data-seed-prebsc-1-s1.binance.org:8545","https://data-seed-prebsc-2-s1.binance.org:8545","https://data-seed-prebsc-1-s2.binance.org:8545"],nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},blockExplorerUrls:["https://testnet.bscscan.com/"],covalent:{active:!0},defaultOpenNFTs:"0x3f46967bAa872fb0D03A8C21c95D1D73CB01bb8F",nftsFactoryV2:"0x79F74cB4cE9FA902AC603DfEb7D04b03F3575EBf",create:!0,testnet:!0},{chainId:4,chainName:"rinkeby",rpcUrls:["https://rinkeby.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorerUrls:["https://rinkeby.etherscan.io"],subgraph:{url:"https://api.thegraph.com/subgraphs/name/zapaz/eip721-rinkeby",active:!0},eip1559:!0,defaultOpenNFTs:"0xF85795E50e247a52A6d14389bEcaD4998a691477",nftsFactory:"0xec7EBB4E7cdcE23e992BFDc4fc81D89Cc9Ac9A74",nftsFactoryV2:"0x6FC132204A4f1a93785a11123b1062F05697a751",create:!0,testnet:!0},{chainId:5,chainName:"goerli",rpcUrls:["https://goerli.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorerUrls:["https://goerli.etherscan.io"],subgraph:{url:"https://api.thegraph.com/subgraphs/name/zapaz/eip721-goerli",active:!1},eip1559:!0,defaultOpenNFTs:"0x8a324A30C8ca1E9CFcea267C2116968cAacEd1D6",nftsFactory:"0x636BeA69422e087eA87Ae6A98300065C11826b2C",nftsFactoryV2:"0x016fa6b76Fb24e651806455e58710d48880226f9",create:!0,testnet:!0,openMulti:"0x3fB23c510e46B5d226Fc8635A4a6FB6Fde09719F",openBound:"0x215890506F31EB0E573d7E75108C2E169c7B0EE7"},{chainId:3,chainName:"ropsten",rpcUrls:["https://ropsten.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161","https://ropsten.infura.io/v3/"],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorerUrls:["https://ropsten.etherscan.io"],covalent:{active:!1},eip1559:!0,defaultOpenNFTs:"0x7B5E42Ab37Bf962413a2B062fE7373141e643f46",nftsFactoryV2:"0x3fB23c510e46B5d226Fc8635A4a6FB6Fde09719F",create:!0,testnet:!0},{chainId:42,chainName:"kovan",rpcUrls:["https://kovan.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorerUrls:["https://kovan.etherscan.io"],covalent:{active:!1},eip1559:!0,openMulti:"0xbd576e2F8590e7Ad02b3E92edEb591fD5331fbfC",defaultOpenNFTs:"0x40919dc04668b6108546F3b2dda66Ea926c6c972",nftsFactory:"0xA6F70de9aBe6cAE865fa723f7741699B63f47517",nftsFactoryV2:"0x3BDF67A8900AE9545Ea89121e9215B96C2e84722",create:!0,testnet:!0,openBound:"0x0827563013d242A657478450D4231756fB75C5bE"},{chainId:80001,chainName:"mumbai",rpcUrls:["https://matic-mumbai.chainstacklabs.com","https://rpc-mumbai.maticvigil.com/v1","https://polygon-mumbai.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],nativeCurrency:{name:"Matic",symbol:"tMATIC",decimals:18},blockExplorerUrls:["https://mumbai.polygonscan.com","https://polygon-explorer-mumbai.chainstacklabs.com"],subgraph:{url:"https://api.thegraph.com/subgraphs/name/zapaz/eip721-mumbai",active:!0},covalent:{active:!0},defaultOpenNFTs:"",nftsFactory:"0x89bB80B13Eee16ed88DF4357009856CbAd8ba035",nftsFactoryV2:"0xD5dA0F2bf1029c64460e4e1CE1fA0f88E7E39800",create:!0,testnet:!0,openMulti:"0x32F7186d9cFaEbBDCC9db82d30eE1883ce83cfCf"},{chainId:421611,chainName:"arbitrumrinkeby",rpcUrls:["https://arbitrum-rinkeby.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],nativeCurrency:{name:"Ether",symbol:"ARETH",decimals:18},blockExplorerUrls:["https://testnet.arbiscan.io","https://rinkeby-explorer.arbitrum.io"],covalent:{active:!0},defaultOpenNFTs:"",nftsFactory:"0x5E03Acd53d5D3A834278014D91F0AFD36f8147Ce",nftsFactoryV2:"0xD5dA0F2bf1029c64460e4e1CE1fA0f88E7E39800",create:!0,testnet:!0},{chainId:69,chainName:"optimismkovan",rpcUrls:["https://kovan.optimism.io"],nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},blockExplorerUrls:["https://kovan-optimistic.etherscan.io"],covalent:{active:!1},defaultOpenNFTs:"0xBda19424590E3DB9DF04091F7510F487eD19E037",nftsFactory:"0x636BeA69422e087eA87Ae6A98300065C11826b2C",nftsFactoryV2:"0xD53e7aa446e4615DEC602c1D0d024425256f631a",create:!0,testnet:!0},{chainId:4002,chainName:"fantomtestnet",rpcUrls:["https://rpc.testnet.fantom.network"],nativeCurrency:{name:"FTM",symbol:"FTM",decimals:18},blockExplorerUrls:["https://testnet.ftmscan.com"],covalent:{active:!1},nftsFactoryV2:"0xD5dA0F2bf1029c64460e4e1CE1fA0f88E7E39800",create:!0,testnet:!0},{chainId:43113,chainName:"fuji",rpcUrls:["https://api.avax-test.network/ext/bc/C/rpc"],nativeCurrency:{name:"AVAX",symbol:"AVAX",decimals:18},blockExplorerUrls:["https://testnet.snowtrace.io","https://cchain.explorer.avax-test.network"],covalent:{active:!0},defaultOpenNFTs:"",nftsFactory:"0xC308A8c2fbDea84D1028F906cf966492B14645a0",nftsFactoryV2:"0x98C1c1AA566C329f339488Af2F8F95D33cf1A507",create:!0,testnet:!0},{chainId:31337,chainName:"hardhat",rpcUrls:["http://127.0.0.1:8545"],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorerUrls:["http://localhost/explorer"],defaultOpenNFTs:"",openMulti:"0xfa44e688bD672b46dcF70CFD467cE10139d3d8DF",openBound:"0x353e747242CD4806Cb18D70a42cEa01512b18A3B",nftsFactory:"0x3f46967bAa872fb0D03A8C21c95D1D73CB01bb8F",nftsFactoryV2:"0x3f46967bAa872fb0D03A8C21c95D1D73CB01bb8F",testnet:!0}],Pl={version:{latest:"0.13.1",stable:"0.13.0"},storage:"ipfs",ipfs:{version:{latest:"0.13.1",stable:"0.13.0"},gateway:"https://ipfs.io/ipfs/"},swarm:{version:{latest:"0.0.1",stable:"0.0.1"},server:"https://api.gateway.ethswarm.org"}};const Ol="No name",Cl="NFT",$l=async(t,e)=>{var r;return e===(null===(r=await(null==t?void 0:t.getNetwork()))||void 0===r?void 0:r.chainId)},Fl=new Map(Tl.map((t=>[t.chainId,t]))),Ll=t=>{if(!t)return"";let e=t;try{e=yr(String(t))}catch(t){console.log("getChecksumAddress ERROR on @ '"+e+"'")}return e},Bl=t=>Fl.get(Number(t)),Dl=t=>{var e;return(null===(e=Bl(t))||void 0===e?void 0:e.nftsFactoryV2)||""},Ul=t=>{var e;return(null===(e=Bl(t))||void 0===e?void 0:e.openMulti)||""},ql=t=>{var e;return(null===(e=Bl(t))||void 0===e?void 0:e.blockExplorerUrls[0])||""},zl=t=>{var e;return Boolean(null===(e=Bl(t))||void 0===e?void 0:e.create)},jl=t=>{var e;return t>0?(null===(e=Bl(t))||void 0===e?void 0:e.chainName)||String(t):""},Gl=(t,e)=>{const r=Bl(t);return"collection://"+(r?r.chainName:"...")+(e?"/"+Ll(e):"/...")},Hl=(t,e)=>((t,e,r="",n=999)=>{const i=Bl(t);return t&&e&&r&&i?"nft://"+(i?i.chainName+(e?"/"+Kl(e,n)+(r?"/"+Jl(r,8):""):""):""):""})(t.chainId,t.address,t.tokenID,e),Wl=Pl.ipfs.gateway,Vl=Pl.swarm.server+"/bzz/",Jl=(t,e=16,r=e)=>{const n=(null==t?void 0:t.toString())||"",i=ru(n),o=i.length||0;return i.substring(0,e)+(o<e?"":"..."+(r>0?i.substring(o-r,o):""))},Kl=(t,e=8)=>t?t.endsWith(".eth")?Jl(t,2*e,0):Jl(Ll(t),e,e):"?",Xl=t=>new Promise((e=>setTimeout(e,t))),Zl=(t,e)=>(null==t?void 0:t.toLowerCase())===(null==e?void 0:e.toLowerCase()),Yl=(t=0)=>"0x"+Number(t).toString(16),Ql=(t,e)=>`<a href="${t}" target="_blank">${e||t}</a>`,tu=t=>{if(!t)return"";let e="",r="";if(t.startsWith("Qm")||t.startsWith("ba"))r=t;else if(t.startsWith("ipfs://"))t.startsWith("ipfs://ipfs/")?r=t.replace(/^ipfs:\/\/(ipfs\/)/,""):e=t;else{const e=t.match(/^.*\/ipfs\/(.*)$/i);r=e&&e[1]||""}return r&&(e=eu(r)),e},eu=t=>t?`ipfs://${t}`:"",ru=t=>t.replace(/^ipfs:\/\//,""),nu=t=>t?`${Wl}${ru(t)}`:"",iu=t=>{if(!t)return"";let e="",r="";return t.startsWith("swarm://")?e=t:t.startsWith(Vl)&&(r=t.replace(Vl,"")),r&&(e=ou(r)),e},ou=t=>t?`swarm://${t}`:"",su=t=>t?`${Vl}${(t=>t.replace(/^swarm:\/\//,""))(t)}`:"",au=t=>t.startsWith("ipfs://")?(t=>Ql(nu(t),Jl(t)))(t):t.startsWith("swarm://")?(t=>Ql(su(t),Jl(t)))(t):"",lu=t=>t.startsWith("ipfs://")||t.startsWith(Wl)?(t=>t.startsWith("ipfs://")?nu(t):t)(t):t.startsWith("swarm://")||t.startsWith(Vl)?(t=>t.startsWith("swarm://")?su(t):t)(t):t,uu=(t,e)=>ql(t)+"/"+e.replace(/^\//,""),cu=t=>"https://blockscan.com/"+t.replace(/^\//,""),hu=(t,e)=>t>0?uu(t,`/address/${e}`):cu(`/address/${e}`),fu=(t,e)=>uu(t,`/tx/${e}`),du=t=>pu(t,Dl(t)),pu=(t,e)=>{var r,n;let i="";return i=(null===(r=ql(t))||void 0===r?void 0:r.includes("chainstacklabs.com"))||(null===(n=ql(t))||void 0===n?void 0:n.includes("blockscout.com"))?uu(t,`/address/${e}/contracts`):uu(t,`/address/${e}#readContract`),i},mu=(t,e="")=>{var r,n;let i="";return i=((null===(r=ql(t))||void 0===r?void 0:r.includes("chainstacklabs.com"))||null===(n=ql(t))||void 0===n||n.includes("blockscout.com"),uu(t,`/token/${e}`)),i},gu=(t,e)=>`./#/${jl(e.chainId)}/${null==e?void 0:e.address}/${null==e?void 0:e.tokenID}`,vu=(t,e)=>{var r,n;let i="";return(null===(r=ql(t))||void 0===r?void 0:r.includes("chainstacklabs.com"))||(null===(n=ql(t))||void 0===n?void 0:n.includes("blockscout.com"))?(i=uu(t,`/tokens/${null==e?void 0:e.address}/instance/${null==e?void 0:e.tokenID}/metadata`),i=uu(t,`/token/${null==e?void 0:e.address}/instance/${null==e?void 0:e.tokenID}/metadata`)):i=uu(t,`/token/${null==e?void 0:e.address}?a=${null==e?void 0:e.tokenID}`),i},yu=(t,e,r)=>Ql(hu(t,e),Kl(e,r)),bu=(t,e)=>{const r=(t=>{var e,r;return(null===(r=null===(e=Bl(t))||void 0===e?void 0:e.openSea)||void 0===r?void 0:r.assets)||""})(t);return`${r}/${null==e?void 0:e.address}/${null==e?void 0:e.tokenID}`},wu=t=>(null==t?void 0:t.name)||`${(null==t?void 0:t.contractName)||Ol} #${null==t?void 0:t.tokenID}`,_u=t=>(null==t?void 0:t.name)!=(null==t?void 0:t.description)&&(null==t?void 0:t.description)||wu(t),Eu=(t,e=16)=>Jl(_u(t),e,0),Mu=t=>{const e=new Un(t);let r=de.from(0);return e.fragments.forEach((t=>{"function"===t.type&&(r=r.xor(de.from(e.getSighash(t))))})),ee(r)},Au=(t,e,r,n)=>`nft://${String(t)}/${e}/${r}${n?"@"+n:""}`,Iu=(t,e,r)=>`collection://${String(t)}/${e}${r?"@"+r:""}`;var Su=function({mustBeMetaMask:t=!1,silent:e=!1,timeout:r=3e3}={}){!function(){if("boolean"!=typeof t)throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if("boolean"!=typeof e)throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if("number"!=typeof r)throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}();let n=!1;return new Promise((i=>{function o(){if(n)return;n=!0,window.removeEventListener("ethereum#initialized",o);const{ethereum:r}=window;if(!r||t&&!r.isMetaMask){const n=t&&r?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum.";!e&&console.error("@metamask/detect-provider:",n),i(null)}else i(r)}window.ethereum?o():(window.addEventListener("ethereum#initialized",o,{once:!0}),setTimeout((()=>{o()}),r))}))},ku={exports:{}};!function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function i(t,e,r){if(i.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer}catch(t){}function s(t,e){var n=t.charCodeAt(e);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+t)}function a(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function l(t,e,n,i){for(var o=0,s=0,a=Math.min(t.length,n),l=e;l<a;l++){var u=t.charCodeAt(l)-48;o*=i,s=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&s<i,"Invalid character"),o+=s}return o}function u(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,e){return t.cmp(e)>0?t:e},i.min=function(t,e){return t.cmp(e)<0?t:e},i.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},i.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},i.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=a(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=a(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},i.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,c=r;c<a;c+=n)u=l(t,c,c+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var h=1;for(u=l(t,c,t.length,e),c=0;c<s;c++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype._move=function(t){u(t,this)},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(t){i.prototype.inspect=c}else i.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],l=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),n=0!==o||s!==this.length-1?h[6-l.length]+l+n:l+n}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=f[t],c=d[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modrn(c).toString(t);n=(p=p.idivn(c)).isZero()?m+n:h[u-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),i.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function p(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,l=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var c=l>>>26,h=67108863&l,f=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=f;d++){var p=u-d|0;c+=(s=(i=0|t.words[p])*(o=0|e.words[d])+h)/67108864|0,h=67108863&s}r.words[u]=0|h,l=0|c}return 0!==l?r.words[u]=0|l:r.length--,r._strip()}i.prototype.toArrayLike=function(t,e,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},i.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===o?(r<t.length&&(t[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},i.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===o?(r>=0&&(t[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},i.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},i.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},i.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},i.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var m=function(t,e,r){var n,i,o,s=t.words,a=e.words,l=r.words,u=0,c=0|s[0],h=8191&c,f=c>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,b=0|s[3],w=8191&b,_=b>>>13,E=0|s[4],M=8191&E,A=E>>>13,I=0|s[5],S=8191&I,k=I>>>13,x=0|s[6],N=8191&x,R=x>>>13,T=0|s[7],P=8191&T,O=T>>>13,C=0|s[8],$=8191&C,F=C>>>13,L=0|s[9],B=8191&L,D=L>>>13,U=0|a[0],q=8191&U,z=U>>>13,j=0|a[1],G=8191&j,H=j>>>13,W=0|a[2],V=8191&W,J=W>>>13,K=0|a[3],X=8191&K,Z=K>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],lt=8191&at,ut=at>>>13,ct=0|a[8],ht=8191&ct,ft=ct>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(n=Math.imul(h,q))|0)+((8191&(i=(i=Math.imul(h,z))+Math.imul(f,q)|0))<<13)|0;u=((o=Math.imul(f,z))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,q),i=(i=Math.imul(p,z))+Math.imul(m,q)|0,o=Math.imul(m,z);var vt=(u+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(f,G)|0))<<13)|0;u=((o=o+Math.imul(f,H)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,q),i=(i=Math.imul(v,z))+Math.imul(y,q)|0,o=Math.imul(y,z),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,H)|0;var yt=(u+(n=n+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(f,V)|0))<<13)|0;u=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,q),i=(i=Math.imul(w,z))+Math.imul(_,q)|0,o=Math.imul(_,z),n=n+Math.imul(v,G)|0,i=(i=i+Math.imul(v,H)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,H)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,J)|0;var bt=(u+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(f,X)|0))<<13)|0;u=((o=o+Math.imul(f,Z)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(M,q),i=(i=Math.imul(M,z))+Math.imul(A,q)|0,o=Math.imul(A,z),n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,H)|0,n=n+Math.imul(v,V)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,Z)|0;var wt=(u+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,Q)|0))<<13)|0;u=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(S,q),i=(i=Math.imul(S,z))+Math.imul(k,q)|0,o=Math.imul(k,z),n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,H)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,H)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(v,X)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var _t=(u+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;u=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(N,q),i=(i=Math.imul(N,z))+Math.imul(R,q)|0,o=Math.imul(R,z),n=n+Math.imul(S,G)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,H)|0,n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,J)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,Z)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,Z)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var Et=(u+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,st)|0)+Math.imul(f,ot)|0))<<13)|0;u=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(P,q),i=(i=Math.imul(P,z))+Math.imul(O,q)|0,o=Math.imul(O,z),n=n+Math.imul(N,G)|0,i=(i=i+Math.imul(N,H)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,H)|0,n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(k,V)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,Z)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var Mt=(u+(n=n+Math.imul(h,lt)|0)|0)+((8191&(i=(i=i+Math.imul(h,ut)|0)+Math.imul(f,lt)|0))<<13)|0;u=((o=o+Math.imul(f,ut)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul($,q),i=(i=Math.imul($,z))+Math.imul(F,q)|0,o=Math.imul(F,z),n=n+Math.imul(P,G)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,H)|0,n=n+Math.imul(N,V)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(R,V)|0,o=o+Math.imul(R,J)|0,n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,Z)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(p,lt)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(m,lt)|0,o=o+Math.imul(m,ut)|0;var At=(u+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;u=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,q),i=(i=Math.imul(B,z))+Math.imul(D,q)|0,o=Math.imul(D,z),n=n+Math.imul($,G)|0,i=(i=i+Math.imul($,H)|0)+Math.imul(F,G)|0,o=o+Math.imul(F,H)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,J)|0,n=n+Math.imul(N,X)|0,i=(i=i+Math.imul(N,Z)|0)+Math.imul(R,X)|0,o=o+Math.imul(R,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,n=n+Math.imul(v,lt)|0,i=(i=i+Math.imul(v,ut)|0)+Math.imul(y,lt)|0,o=o+Math.imul(y,ut)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,ft)|0;var It=(u+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,pt)|0))<<13)|0;u=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(B,G),i=(i=Math.imul(B,H))+Math.imul(D,G)|0,o=Math.imul(D,H),n=n+Math.imul($,V)|0,i=(i=i+Math.imul($,J)|0)+Math.imul(F,V)|0,o=o+Math.imul(F,J)|0,n=n+Math.imul(P,X)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,Z)|0,n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(w,lt)|0,i=(i=i+Math.imul(w,ut)|0)+Math.imul(_,lt)|0,o=o+Math.imul(_,ut)|0,n=n+Math.imul(v,ht)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,ft)|0;var St=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(B,V),i=(i=Math.imul(B,J))+Math.imul(D,V)|0,o=Math.imul(D,J),n=n+Math.imul($,X)|0,i=(i=i+Math.imul($,Z)|0)+Math.imul(F,X)|0,o=o+Math.imul(F,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(N,rt)|0,i=(i=i+Math.imul(N,nt)|0)+Math.imul(R,rt)|0,o=o+Math.imul(R,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,n=n+Math.imul(M,lt)|0,i=(i=i+Math.imul(M,ut)|0)+Math.imul(A,lt)|0,o=o+Math.imul(A,ut)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,ft)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,ft)|0;var kt=(u+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,X),i=(i=Math.imul(B,Z))+Math.imul(D,X)|0,o=Math.imul(D,Z),n=n+Math.imul($,Q)|0,i=(i=i+Math.imul($,tt)|0)+Math.imul(F,Q)|0,o=o+Math.imul(F,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,st)|0)+Math.imul(R,ot)|0,o=o+Math.imul(R,st)|0,n=n+Math.imul(S,lt)|0,i=(i=i+Math.imul(S,ut)|0)+Math.imul(k,lt)|0,o=o+Math.imul(k,ut)|0,n=n+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(A,ht)|0,o=o+Math.imul(A,ft)|0;var xt=(u+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(B,Q),i=(i=Math.imul(B,tt))+Math.imul(D,Q)|0,o=Math.imul(D,tt),n=n+Math.imul($,rt)|0,i=(i=i+Math.imul($,nt)|0)+Math.imul(F,rt)|0,o=o+Math.imul(F,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,n=n+Math.imul(N,lt)|0,i=(i=i+Math.imul(N,ut)|0)+Math.imul(R,lt)|0,o=o+Math.imul(R,ut)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(k,ht)|0,o=o+Math.imul(k,ft)|0;var Nt=(u+(n=n+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(A,pt)|0))<<13)|0;u=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(B,rt),i=(i=Math.imul(B,nt))+Math.imul(D,rt)|0,o=Math.imul(D,nt),n=n+Math.imul($,ot)|0,i=(i=i+Math.imul($,st)|0)+Math.imul(F,ot)|0,o=o+Math.imul(F,st)|0,n=n+Math.imul(P,lt)|0,i=(i=i+Math.imul(P,ut)|0)+Math.imul(O,lt)|0,o=o+Math.imul(O,ut)|0,n=n+Math.imul(N,ht)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(R,ht)|0,o=o+Math.imul(R,ft)|0;var Rt=(u+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(k,pt)|0))<<13)|0;u=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(B,ot),i=(i=Math.imul(B,st))+Math.imul(D,ot)|0,o=Math.imul(D,st),n=n+Math.imul($,lt)|0,i=(i=i+Math.imul($,ut)|0)+Math.imul(F,lt)|0,o=o+Math.imul(F,ut)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,ft)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,ft)|0;var Tt=(u+(n=n+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,mt)|0)+Math.imul(R,pt)|0))<<13)|0;u=((o=o+Math.imul(R,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(B,lt),i=(i=Math.imul(B,ut))+Math.imul(D,lt)|0,o=Math.imul(D,ut),n=n+Math.imul($,ht)|0,i=(i=i+Math.imul($,ft)|0)+Math.imul(F,ht)|0,o=o+Math.imul(F,ft)|0;var Pt=(u+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(B,ht),i=(i=Math.imul(B,ft))+Math.imul(D,ht)|0,o=Math.imul(D,ft);var Ot=(u+(n=n+Math.imul($,pt)|0)|0)+((8191&(i=(i=i+Math.imul($,mt)|0)+Math.imul(F,pt)|0))<<13)|0;u=((o=o+Math.imul(F,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Ct=(u+(n=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,mt))+Math.imul(D,pt)|0))<<13)|0;return u=((o=Math.imul(D,mt))+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,l[0]=gt,l[1]=vt,l[2]=yt,l[3]=bt,l[4]=wt,l[5]=_t,l[6]=Et,l[7]=Mt,l[8]=At,l[9]=It,l[10]=St,l[11]=kt,l[12]=xt,l[13]=Nt,l[14]=Rt,l[15]=Tt,l[16]=Pt,l[17]=Ot,l[18]=Ct,0!==u&&(l[19]=u,r.length++),r};function g(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,l=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=l;u++){var c=o-u,h=(0|t.words[c])*(0|e.words[u]),f=67108863&h;a=67108863&(f=f+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function v(t,e,r){return g(t,e,r)}Math.imul||(m=p),i.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?m(this,t,e):r<63?p(this,t,e):r<1024?g(this,t,e):v(this,t,e)},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.mulf=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),v(this,t,e)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"==typeof t),r(t<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=s>>>26,this.words[i]=67108863&s}return 0!==n&&(this.words[i]=n,this.length++),e?this.ineg():this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new i(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var o=r.sqr();n<e.length;n++,o=o.sqr())0!==e[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,l=(0|this.words[e])-a<<n;this.words[e]=l|s,s=a>>>26-n}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},i.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,l=n;if(i-=s,i=Math.max(0,i),l){for(var u=0;u<s;u++)l.words[u]=this.words[u];l.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=i);u--){var h=0|this.words[u];this.words[u]=c<<26-o|h>>>o,c=h&a}return l&&0!==c&&(l.words[l.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,n){var i,o,s=t.length+n;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var l=(0|t.words[i])*e;a=((o-=67108863&l)>>26)-(l/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},i.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),o=t,s=0|o.words[o.length-1];0!==(r=26-this._countBits(s))&&(o=o.ushln(r),n.iushln(r),s=0|o.words[o.length-1]);var a,l=n.length-o.length;if("mod"!==e){(a=new i(null)).length=l+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var c=n.clone()._ishlnsubmul(o,1,l);0===c.negative&&(n=c,a&&(a.words[l]=1));for(var h=l-1;h>=0;h--){var f=67108864*(0|n.words[o.length+h])+(0|n.words[o.length+h-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(o,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(o,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=f)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(o=a.div.neg()),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(o=a.div.neg()),{div:o,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modrn(t.words[0]))}:this._wordDiv(t,e);var o,s,a},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%t;return e?-i:i},i.prototype.modn=function(t){return this.modrn(t)},i.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/t|0,n=o%t}return this._strip(),e?this.ineg():this},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new i(1),s=new i(0),a=new i(0),l=new i(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var c=n.clone(),h=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(c),s.isub(h)),o.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(c),l.isub(h)),a.iushrn(1),l.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a),s.isub(l)):(n.isub(e),a.isub(o),l.isub(s))}return{a:a,b:l,gcd:n.iushln(u)}},i.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,s=new i(1),a=new i(0),l=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,c=1;0==(e.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(l),s.iushrn(1);for(var h=0,f=1;0==(n.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(n.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a)):(n.isub(e),a.isub(s))}return(o=0===e.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(t),o},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new A(t)},i.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function I(t){A.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},n(w,b),w.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},w.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(_,b),n(E,b),n(M,b),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new w;else if("p224"===t)e=new _;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return y[t]=e,e},A.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},A.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},A.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(u(t,t.umod(this.m)._forceRed(this)),t)},A.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},A.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},A.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},A.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},A.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},A.prototype.isqr=function(t){return this.imul(t,t.clone())},A.prototype.sqr=function(t){return this.mul(t,t)},A.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new i(1).toRed(this),l=a.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);0!==this.pow(c,u).cmp(l);)c.redIAdd(l);for(var h=this.pow(c,o),f=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();r(g<p);var v=this.pow(h,new i(1).iushln(p-g-1));f=f.redMul(v),h=v.redSqr(),d=d.redMul(h),p=g}return f},A.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},A.prototype.pow=function(t,e){if(e.isZero())return new i(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var o=r[0],s=0,a=0,l=e.bitLength()%26;for(0===l&&(l=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],c=l-1;c>=0;c--){var h=u>>c&1;o!==r[0]&&(o=this.sqr(o)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===n&&0===c)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}l=26}return o},A.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},A.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new I(t)},n(I,A),I.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},I.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},I.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},I.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new i(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},I.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,Rt)}(ku);var xu=ku.exports;let Nu=!1,Ru=!1;const Tu={debug:1,default:2,info:2,warning:3,error:4,off:5};let Pu=Tu.default,Ou=null;const Cu=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var $u,Fu;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}($u||($u={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Fu||(Fu={}));const Lu="0123456789abcdef";class Bu{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Tu[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Pu>Tu[r]||console.log.apply(console,e)}debug(...t){this._log(Bu.levels.DEBUG,t)}info(...t){this._log(Bu.levels.INFO,t)}warn(...t){this._log(Bu.levels.WARNING,t)}makeError(t,e,r){if(Ru)return this.makeError("censored error",e,{});e||(e=Bu.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=Lu[e[t]>>4],r+=Lu[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let o="";switch(e){case Fu.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case Fu.CALL_EXCEPTION:case Fu.INSUFFICIENT_FUNDS:case Fu.MISSING_NEW:case Fu.NONCE_EXPIRED:case Fu.REPLACEMENT_UNDERPRICED:case Fu.TRANSACTION_REPLACED:case Fu.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Bu.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){Cu&&this.throwError("platform missing String.prototype.normalize",Bu.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Cu})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Bu.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Bu.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Bu.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Bu.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",Bu.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Bu.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",Bu.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Ou||(Ou=new Bu("logger/5.6.0")),Ou}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Bu.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Nu){if(!t)return;this.globalLogger().throwError("error censorship permanent",Bu.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Ru=!!t,Nu=!!e}static setLogLevel(t){const e=Tu[t.toLowerCase()];null!=e?Pu=e:Bu.globalLogger().warn("invalid log level - "+t)}static from(t){return new Bu(t)}}Bu.errors=Fu,Bu.levels=$u;const Du=new Bu("bytes/5.6.1");function Uu(t){return!!t.toHexString}function qu(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return qu(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function zu(t){return Ju(t)&&!(t.length%2)||Gu(t)}function ju(t){return"number"==typeof t&&t==t&&t%1==0}function Gu(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!ju(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!ju(r)||r<0||r>=256)return!1}return!0}function Hu(t,e){if(e||(e={}),"number"==typeof t){Du.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),qu(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Uu(t)&&(t=t.toHexString()),Ju(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":Du.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return qu(new Uint8Array(n))}return Gu(t)?qu(new Uint8Array(t)):Du.throwArgumentError("invalid arrayify value","value",t)}function Wu(t){const e=t.map((t=>Hu(t))),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);return e.reduce(((t,e)=>(n.set(e,t),t+e.length)),0),qu(n)}function Vu(t){let e=Hu(t);if(0===e.length)return e;let r=0;for(;r<e.length&&0===e[r];)r++;return r&&(e=e.slice(r)),e}function Ju(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const Ku="0123456789abcdef";function Xu(t,e){if(e||(e={}),"number"==typeof t){Du.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=Ku[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Uu(t))return t.toHexString();if(Ju(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Du.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Gu(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=Ku[(240&n)>>4]+Ku[15&n]}return e}return Du.throwArgumentError("invalid hexlify value","value",t)}function Zu(t){if("string"!=typeof t)t=Xu(t);else if(!Ju(t)||t.length%2)return null;return(t.length-2)/2}function Yu(t,e,r){return"string"!=typeof t?t=Xu(t):(!Ju(t)||t.length%2)&&Du.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Qu(t){let e="0x";return t.forEach((t=>{e+=Xu(t).substring(2)})),e}function tc(t){const e=function(t){"string"!=typeof t&&(t=Xu(t));Ju(t)||Du.throwArgumentError("invalid hex string","value",t);t=t.substring(2);let e=0;for(;e<t.length&&"0"===t[e];)e++;return"0x"+t.substring(e)}(Xu(t,{hexPad:"left"}));return"0x"===e?"0x0":e}function ec(t,e){for("string"!=typeof t?t=Xu(t):Ju(t)||Du.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Du.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function rc(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(zu(t)){let r=Hu(t);64===r.length?(e.v=27+(r[32]>>7),r[32]&=127,e.r=Xu(r.slice(0,32)),e.s=Xu(r.slice(32,64))):65===r.length?(e.r=Xu(r.slice(0,32)),e.s=Xu(r.slice(32,64)),e.v=r[64]):Du.throwArgumentError("invalid signature string","signature",t),e.v<27&&(0===e.v||1===e.v?e.v+=27:Du.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=Xu(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){const r=function(t,e){(t=Hu(t)).length>e&&Du.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),qu(r)}(Hu(e._vs),32);e._vs=Xu(r);const n=r[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=n:e.recoveryParam!==n&&Du.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const i=Xu(r);null==e.s?e.s=i:e.s!==i&&Du.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==e.recoveryParam)null==e.v?Du.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(null==e.v)e.v=27+e.recoveryParam;else{const r=0===e.v||1===e.v?e.v:1-e.v%2;e.recoveryParam!==r&&Du.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=e.r&&Ju(e.r)?e.r=ec(e.r,32):Du.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&Ju(e.s)?e.s=ec(e.s,32):Du.throwArgumentError("signature missing or invalid s","signature",t);const r=Hu(e.s);r[0]>=128&&Du.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=Xu(r);e._vs&&(Ju(e._vs)||Du.throwArgumentError("signature invalid _vs","signature",t),e._vs=ec(e._vs,32)),null==e._vs?e._vs=n:e._vs!==n&&Du.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}var nc=xu.BN;const ic=new Bu("bignumber/5.6.2"),oc={},sc=9007199254740991;let ac=!1;class lc{constructor(t,e){t!==oc&&ic.throwError("cannot call constructor directly; use BigNumber.from",Bu.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return cc(hc(this).fromTwos(t))}toTwos(t){return cc(hc(this).toTwos(t))}abs(){return"-"===this._hex[0]?lc.from(this._hex.substring(1)):this}add(t){return cc(hc(this).add(hc(t)))}sub(t){return cc(hc(this).sub(hc(t)))}div(t){return lc.from(t).isZero()&&fc("division-by-zero","div"),cc(hc(this).div(hc(t)))}mul(t){return cc(hc(this).mul(hc(t)))}mod(t){const e=hc(t);return e.isNeg()&&fc("division-by-zero","mod"),cc(hc(this).umod(e))}pow(t){const e=hc(t);return e.isNeg()&&fc("negative-power","pow"),cc(hc(this).pow(e))}and(t){const e=hc(t);return(this.isNegative()||e.isNeg())&&fc("unbound-bitwise-result","and"),cc(hc(this).and(e))}or(t){const e=hc(t);return(this.isNegative()||e.isNeg())&&fc("unbound-bitwise-result","or"),cc(hc(this).or(e))}xor(t){const e=hc(t);return(this.isNegative()||e.isNeg())&&fc("unbound-bitwise-result","xor"),cc(hc(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&fc("negative-width","mask"),cc(hc(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&fc("negative-width","shl"),cc(hc(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&fc("negative-width","shr"),cc(hc(this).shrn(t))}eq(t){return hc(this).eq(hc(t))}lt(t){return hc(this).lt(hc(t))}lte(t){return hc(this).lte(hc(t))}gt(t){return hc(this).gt(hc(t))}gte(t){return hc(this).gte(hc(t))}isNegative(){return"-"===this._hex[0]}isZero(){return hc(this).isZero()}toNumber(){try{return hc(this).toNumber()}catch(t){fc("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return ic.throwError("this platform does not support BigInt",Bu.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?ac||(ac=!0,ic.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?ic.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Bu.errors.UNEXPECTED_ARGUMENT,{}):ic.throwError("BigNumber.toString does not accept parameters",Bu.errors.UNEXPECTED_ARGUMENT,{})),hc(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof lc)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new lc(oc,uc(t)):t.match(/^-?[0-9]+$/)?new lc(oc,uc(new nc(t))):ic.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&fc("underflow","BigNumber.from",t),(t>=sc||t<=-sc)&&fc("overflow","BigNumber.from",t),lc.from(String(t));const e=t;if("bigint"==typeof e)return lc.from(e.toString());if(Gu(e))return lc.from(Xu(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return lc.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(Ju(t)||"-"===t[0]&&Ju(t.substring(1))))return lc.from(t)}return ic.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function uc(t){if("string"!=typeof t)return uc(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&ic.throwArgumentError("invalid hex","value",t),"0x00"===(t=uc(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function cc(t){return lc.from(uc(t))}function hc(t){const e=lc.from(t).toHexString();return"-"===e[0]?new nc("-"+e.substring(3),16):new nc(e.substring(2),16)}function fc(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),ic.throwError(t,Bu.errors.NUMERIC_FAULT,n)}var dc=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};const pc=new Bu("properties/5.6.0");function mc(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function gc(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||"object"!=typeof t.prototype)break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function vc(t){return dc(this,void 0,void 0,(function*(){const e=Object.keys(t).map((e=>{const r=t[e];return Promise.resolve(r).then((t=>({key:e,value:t})))}));return(yield Promise.all(e)).reduce(((t,e)=>(t[e.key]=e.value,t)),{})}))}function yc(t){const e={};for(const r in t)e[r]=t[r];return e}const bc={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function wc(t){if(null==t||bc[typeof t])return!0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch(t){continue}if(!wc(n))return!1}return!0}return pc.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function _c(t){if(wc(t))return t;if(Array.isArray(t))return Object.freeze(t.map((t=>Ec(t))));if("object"==typeof t){const e={};for(const r in t){const n=t[r];void 0!==n&&mc(e,r,Ec(n))}return e}return pc.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function Ec(t){return _c(t)}var Mc={exports:{}};
/**
     * [js-sha3]{@link https://github.com/emn178/js-sha3}
     *
     * @version 0.8.0
     * @author Chen, Yi-Cyuan [emn178@gmail.com]
     * @copyright Chen, Yi-Cyuan 2015-2018
     * @license MIT
     */!function(t){!function(){var e="input is invalid type",r="object"==typeof window,n=r?window:{};n.JS_SHA3_NO_WINDOW&&(r=!1);var i=!r&&"object"==typeof self;!n.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?n=Rt:i&&(n=self);var o=!n.JS_SHA3_NO_COMMON_JS&&t.exports,s=!n.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,a="0123456789abcdef".split(""),l=[4,1024,262144,67108864],u=[0,8,16,24],c=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],h=[224,256,384,512],f=[128,256],d=["hex","buffer","arrayBuffer","array","digest"],p={128:168,256:136};!n.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!s||!n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var m=function(t,e,r){return function(n){return new R(t,e,t).update(n)[r]()}},g=function(t,e,r){return function(n,i){return new R(t,e,i).update(n)[r]()}},v=function(t,e,r){return function(e,n,i,o){return E["cshake"+t].update(e,n,i,o)[r]()}},y=function(t,e,r){return function(e,n,i,o){return E["kmac"+t].update(e,n,i,o)[r]()}},b=function(t,e,r,n){for(var i=0;i<d.length;++i){var o=d[i];t[o]=e(r,n,o)}return t},w=function(t,e){var r=m(t,e,"hex");return r.create=function(){return new R(t,e,t)},r.update=function(t){return r.create().update(t)},b(r,m,t,e)},_=[{name:"keccak",padding:[1,256,65536,16777216],bits:h,createMethod:w},{name:"sha3",padding:[6,1536,393216,100663296],bits:h,createMethod:w},{name:"shake",padding:[31,7936,2031616,520093696],bits:f,createMethod:function(t,e){var r=g(t,e,"hex");return r.create=function(r){return new R(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},b(r,g,t,e)}},{name:"cshake",padding:l,bits:f,createMethod:function(t,e){var r=p[t],n=v(t,0,"hex");return n.create=function(n,i,o){return i||o?new R(t,e,n).bytepad([i,o],r):E["shake"+t].create(n)},n.update=function(t,e,r,i){return n.create(e,r,i).update(t)},b(n,v,t,e)}},{name:"kmac",padding:l,bits:f,createMethod:function(t,e){var r=p[t],n=y(t,0,"hex");return n.create=function(n,i,o){return new T(t,e,i).bytepad(["KMAC",o],r).bytepad([n],r)},n.update=function(t,e,r,i){return n.create(t,r,i).update(e)},b(n,y,t,e)}}],E={},M=[],A=0;A<_.length;++A)for(var I=_[A],S=I.bits,k=0;k<S.length;++k){var x=I.name+"_"+S[k];if(M.push(x),E[x]=I.createMethod(S[k],I.padding),"sha3"!==I.name){var N=I.name+S[k];M.push(N),E[N]=E[x]}}function R(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function T(t,e,r){R.call(this,t,e,r)}R.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var r,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(e);if(null===t)throw new Error(e);if(s&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||s&&ArrayBuffer.isView(t)))throw new Error(e);r=!0}for(var i,o,a=this.blocks,l=this.byteCount,c=t.length,h=this.blockCount,f=0,d=this.s;f<c;){if(this.reset)for(this.reset=!1,a[0]=this.block,i=1;i<h+1;++i)a[i]=0;if(r)for(i=this.start;f<c&&i<l;++f)a[i>>2]|=t[f]<<u[3&i++];else for(i=this.start;f<c&&i<l;++f)(o=t.charCodeAt(f))<128?a[i>>2]|=o<<u[3&i++]:o<2048?(a[i>>2]|=(192|o>>6)<<u[3&i++],a[i>>2]|=(128|63&o)<<u[3&i++]):o<55296||o>=57344?(a[i>>2]|=(224|o>>12)<<u[3&i++],a[i>>2]|=(128|o>>6&63)<<u[3&i++],a[i>>2]|=(128|63&o)<<u[3&i++]):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++f)),a[i>>2]|=(240|o>>18)<<u[3&i++],a[i>>2]|=(128|o>>12&63)<<u[3&i++],a[i>>2]|=(128|o>>6&63)<<u[3&i++],a[i>>2]|=(128|63&o)<<u[3&i++]);if(this.lastByteIndex=i,i>=l){for(this.start=i-l,this.block=a[h],i=0;i<h;++i)d[i]^=a[i];P(d),this.reset=!0}else this.start=i}return this},R.prototype.encode=function(t,e){var r=255&t,n=1,i=[r];for(r=255&(t>>=8);r>0;)i.unshift(r),r=255&(t>>=8),++n;return e?i.push(n):i.unshift(n),this.update(i),i.length},R.prototype.encodeString=function(t){var r,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(e);if(null===t)throw new Error(e);if(s&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||s&&ArrayBuffer.isView(t)))throw new Error(e);r=!0}var i=0,o=t.length;if(r)i=o;else for(var a=0;a<t.length;++a){var l=t.charCodeAt(a);l<128?i+=1:l<2048?i+=2:l<55296||l>=57344?i+=3:(l=65536+((1023&l)<<10|1023&t.charCodeAt(++a)),i+=4)}return i+=this.encode(8*i),this.update(t),i},R.prototype.bytepad=function(t,e){for(var r=this.encode(e),n=0;n<t.length;++n)r+=this.encodeString(t[n]);var i=e-r%e,o=[];return o.length=i,this.update(o),this},R.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,n=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)n[e]^=t[e];P(n)}},R.prototype.toString=R.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,l="";s<n;){for(o=0;o<e&&s<n;++o,++s)t=r[o],l+=a[t>>4&15]+a[15&t]+a[t>>12&15]+a[t>>8&15]+a[t>>20&15]+a[t>>16&15]+a[t>>28&15]+a[t>>24&15];s%e==0&&(P(r),o=0)}return i&&(t=r[o],l+=a[t>>4&15]+a[15&t],i>1&&(l+=a[t>>12&15]+a[t>>8&15]),i>2&&(l+=a[t>>20&15]+a[t>>16&15])),l},R.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;t=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var l=new Uint32Array(t);s<n;){for(o=0;o<e&&s<n;++o,++s)l[s]=r[o];s%e==0&&P(r)}return i&&(l[o]=r[o],t=t.slice(0,a)),t},R.prototype.buffer=R.prototype.arrayBuffer,R.prototype.digest=R.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,l=[];a<i;){for(s=0;s<r&&a<i;++s,++a)t=a<<2,e=n[s],l[t]=255&e,l[t+1]=e>>8&255,l[t+2]=e>>16&255,l[t+3]=e>>24&255;a%r==0&&P(n)}return o&&(t=a<<2,e=n[s],l[t]=255&e,o>1&&(l[t+1]=e>>8&255),o>2&&(l[t+2]=e>>16&255)),l},T.prototype=new R,T.prototype.finalize=function(){return this.encode(this.outputBits,!0),R.prototype.finalize.call(this)};var P=function(t){var e,r,n,i,o,s,a,l,u,h,f,d,p,m,g,v,y,b,w,_,E,M,A,I,S,k,x,N,R,T,P,O,C,$,F,L,B,D,U,q,z,j,G,H,W,V,J,K,X,Z,Y,Q,tt,et,rt,nt,it,ot,st,at,lt,ut,ct;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],o=t[1]^t[11]^t[21]^t[31]^t[41],s=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],l=t[4]^t[14]^t[24]^t[34]^t[44],u=t[5]^t[15]^t[25]^t[35]^t[45],h=t[6]^t[16]^t[26]^t[36]^t[46],f=t[7]^t[17]^t[27]^t[37]^t[47],e=(d=t[8]^t[18]^t[28]^t[38]^t[48])^(s<<1|a>>>31),r=(p=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|s>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(l<<1|u>>>31),r=o^(u<<1|l>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=s^(h<<1|f>>>31),r=a^(f<<1|h>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=l^(d<<1|p>>>31),r=u^(p<<1|d>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=h^(i<<1|o>>>31),r=f^(o<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,m=t[0],g=t[1],V=t[11]<<4|t[10]>>>28,J=t[10]<<4|t[11]>>>28,N=t[20]<<3|t[21]>>>29,R=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,lt=t[30]<<9|t[31]>>>23,j=t[40]<<18|t[41]>>>14,G=t[41]<<18|t[40]>>>14,$=t[2]<<1|t[3]>>>31,F=t[3]<<1|t[2]>>>31,v=t[13]<<12|t[12]>>>20,y=t[12]<<12|t[13]>>>20,K=t[22]<<10|t[23]>>>22,X=t[23]<<10|t[22]>>>22,T=t[33]<<13|t[32]>>>19,P=t[32]<<13|t[33]>>>19,ut=t[42]<<2|t[43]>>>30,ct=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,L=t[14]<<6|t[15]>>>26,B=t[15]<<6|t[14]>>>26,b=t[25]<<11|t[24]>>>21,w=t[24]<<11|t[25]>>>21,Z=t[34]<<15|t[35]>>>17,Y=t[35]<<15|t[34]>>>17,O=t[45]<<29|t[44]>>>3,C=t[44]<<29|t[45]>>>3,I=t[6]<<28|t[7]>>>4,S=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,D=t[26]<<25|t[27]>>>7,U=t[27]<<25|t[26]>>>7,_=t[36]<<21|t[37]>>>11,E=t[37]<<21|t[36]>>>11,Q=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,H=t[8]<<27|t[9]>>>5,W=t[9]<<27|t[8]>>>5,k=t[18]<<20|t[19]>>>12,x=t[19]<<20|t[18]>>>12,ot=t[29]<<7|t[28]>>>25,st=t[28]<<7|t[29]>>>25,q=t[38]<<8|t[39]>>>24,z=t[39]<<8|t[38]>>>24,M=t[48]<<14|t[49]>>>18,A=t[49]<<14|t[48]>>>18,t[0]=m^~v&b,t[1]=g^~y&w,t[10]=I^~k&N,t[11]=S^~x&R,t[20]=$^~L&D,t[21]=F^~B&U,t[30]=H^~V&K,t[31]=W^~J&X,t[40]=et^~nt&ot,t[41]=rt^~it&st,t[2]=v^~b&_,t[3]=y^~w&E,t[12]=k^~N&T,t[13]=x^~R&P,t[22]=L^~D&q,t[23]=B^~U&z,t[32]=V^~K&Z,t[33]=J^~X&Y,t[42]=nt^~ot&at,t[43]=it^~st&lt,t[4]=b^~_&M,t[5]=w^~E&A,t[14]=N^~T&O,t[15]=R^~P&C,t[24]=D^~q&j,t[25]=U^~z&G,t[34]=K^~Z&Q,t[35]=X^~Y&tt,t[44]=ot^~at&ut,t[45]=st^~lt&ct,t[6]=_^~M&m,t[7]=E^~A&g,t[16]=T^~O&I,t[17]=P^~C&S,t[26]=q^~j&$,t[27]=z^~G&F,t[36]=Z^~Q&H,t[37]=Y^~tt&W,t[46]=at^~ut&et,t[47]=lt^~ct&rt,t[8]=M^~m&v,t[9]=A^~g&y,t[18]=O^~I&k,t[19]=C^~S&x,t[28]=j^~$&L,t[29]=G^~F&B,t[38]=Q^~H&V,t[39]=tt^~W&J,t[48]=ut^~et&nt,t[49]=ct^~rt&it,t[0]^=c[n],t[1]^=c[n+1]};if(o)t.exports=E;else for(A=0;A<M.length;++A)n[M[A]]=E[M[A]]}()}(Mc);var Ac=Mc.exports;function Ic(t){return"0x"+Ac.keccak_256(Hu(t))}const Sc=new Bu("rlp/5.6.1");function kc(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function xc(t,e,r){let n=0;for(let i=0;i<r;i++)n=256*n+t[e+i];return n}function Nc(t){if(Array.isArray(t)){let e=[];if(t.forEach((function(t){e=e.concat(Nc(t))})),e.length<=55)return e.unshift(192+e.length),e;const r=kc(e.length);return r.unshift(247+r.length),r.concat(e)}zu(t)||Sc.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Hu(t));if(1===e.length&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=kc(e.length);return r.unshift(183+r.length),r.concat(e)}function Rc(t){return Xu(Nc(t))}function Tc(t,e,r,n){const i=[];for(;r<e+1+n;){const o=Pc(t,r);i.push(o.result),(r+=o.consumed)>e+1+n&&Sc.throwError("child data too short",Bu.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function Pc(t,e){if(0===t.length&&Sc.throwError("data too short",Bu.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&Sc.throwError("data short segment too short",Bu.errors.BUFFER_OVERRUN,{});const n=xc(t,e+1,r);return e+1+r+n>t.length&&Sc.throwError("data long segment too short",Bu.errors.BUFFER_OVERRUN,{}),Tc(t,e,e+1+r,r+n)}if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&Sc.throwError("data array too short",Bu.errors.BUFFER_OVERRUN,{}),Tc(t,e,e+1,r)}if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&Sc.throwError("data array too short",Bu.errors.BUFFER_OVERRUN,{});const n=xc(t,e+1,r);e+1+r+n>t.length&&Sc.throwError("data array too short",Bu.errors.BUFFER_OVERRUN,{});return{consumed:1+r+n,result:Xu(t.slice(e+1+r,e+1+r+n))}}if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&Sc.throwError("data too short",Bu.errors.BUFFER_OVERRUN,{});return{consumed:1+r,result:Xu(t.slice(e+1,e+1+r))}}return{consumed:1,result:Xu(t[e])}}function Oc(t){const e=Hu(t),r=Pc(e,0);return r.consumed!==e.length&&Sc.throwArgumentError("invalid rlp data","data",t),r.result}const Cc=new Bu("address/5.6.1");function $c(t){Ju(t,20)||Cc.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const n=Hu(Ic(r));for(let t=0;t<40;t+=2)n[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&n[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const Fc={};for(let t=0;t<10;t++)Fc[String(t)]=String(t);for(let t=0;t<26;t++)Fc[String.fromCharCode(65+t)]=String(10+t);const Lc=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function Bc(t){let e=null;if("string"!=typeof t&&Cc.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=$c(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Cc.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==function(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>Fc[t])).join("");for(;e.length>=Lc;){let t=e.substring(0,Lc);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}(t)&&Cc.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new nc(r,36).toString(16);e.length<40;)e="0"+e;e=$c("0x"+e)}else Cc.throwArgumentError("invalid address","address",t);var r;return e}const Dc=lc.from(0),Uc=new Bu("strings/5.6.1");var qc,zc;function jc(t,e,r,n,i){if(t===zc.BAD_PREFIX||t===zc.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6==2;n++)t++;return t}return t===zc.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(qc||(qc={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(zc||(zc={}));const Gc=Object.freeze({error:function(t,e,r,n,i){return Uc.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:jc,replace:function(t,e,r,n,i){return t===zc.OVERLONG?(n.push(i),0):(n.push(65533),jc(t,e,r))}});function Hc(t,e){null==e&&(e=Gc.error),t=Hu(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7==0){r.push(i);continue}let o=null,s=null;if(192==(224&i))o=1,s=127;else if(224==(240&i))o=2,s=2047;else{if(240!=(248&i)){n+=e(128==(192&i)?zc.UNEXPECTED_CONTINUE:zc.BAD_PREFIX,n-1,t,r);continue}o=3,s=65535}if(n-1+o>=t.length){n+=e(zc.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-o-1)-1;for(let i=0;i<o;i++){let i=t[n];if(128!=(192&i)){n+=e(zc.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|63&i,n++}null!==a&&(a>1114111?n+=e(zc.OUT_OF_RANGE,n-1-o,t,r,a):a>=55296&&a<=57343?n+=e(zc.UTF16_SURROGATE,n-1-o,t,r,a):a<=s?n+=e(zc.OVERLONG,n-1-o,t,r,a):r.push(a))}return r}function Wc(t,e=qc.current){e!=qc.current&&(Uc.checkNormalize(),t=t.normalize(e));let r=[];for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){e++;const i=t.charCodeAt(e);if(e>=t.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&n)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return Hu(r)}function Vc(t){return t.map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}function Jc(t,e){return Vc(Hc(t,e))}function Kc(t,e=qc.current){return Hc(Wc(t,e))}function Xc(t,e){e||(e=function(t){return[parseInt(t,16)]});let r=0,n={};return t.split(",").forEach((t=>{let i=t.split(":");r+=parseInt(i[0],16),n[r]=e(i[1])})),n}function Zc(t){let e=0;return t.split(",").map((t=>{let r=t.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let n=e+parseInt(r[0],16);return e=parseInt(r[1],16),{l:n,h:e}}))}function Yc(t,e){let r=0;for(let n=0;n<e.length;n++){let i=e[n];if(r+=i.l,t>=r&&t<=r+i.h&&(t-r)%(i.d||1)==0){if(i.e&&-1!==i.e.indexOf(t-r))continue;return i}}return null}const Qc=Zc("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),th="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((t=>parseInt(t,16))),eh=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],rh=Xc("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),nh=Xc("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),ih=Xc("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(t){if(t.length%4!=0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e})),oh=Zc("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function sh(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();let e=Kc(t);var r;r=e.map((t=>{if(th.indexOf(t)>=0)return[];if(t>=65024&&t<=65039)return[];let e=function(t){let e=Yc(t,eh);if(e)return[t+e.s];let r=rh[t];if(r)return r;let n=nh[t];return n?[t+n[0]]:ih[t]||null}(t);return e||[t]})),e=r.reduce(((t,e)=>(e.forEach((e=>{t.push(e)})),t)),[]),e=Kc(Vc(e),qc.NFKC),e.forEach((t=>{if(Yc(t,oh))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),e.forEach((t=>{if(Yc(t,Qc))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));let n=Vc(e);if("-"===n.substring(0,1)||"--"===n.substring(2,4)||"-"===n.substring(n.length-1))throw new Error("invalid hyphen");if(n.length>63)throw new Error("too long");return n}function ah(t){return Ic(Wc(t))}const lh="hash/5.6.1",uh=new Bu(lh),ch=new Uint8Array(32);ch.fill(0);const hh=new RegExp("^((.*)\\.)?([^.]+)$");function fh(t){"string"!=typeof t&&uh.throwArgumentError("invalid ENS name; not a string","name",t);let e=t,r=ch;for(;e.length;){const n=e.match(hh);null!=n&&""!==n[2]||uh.throwArgumentError("invalid ENS address; missing component","name",t);r=Ic(Wu([r,Ic(Wc(sh(n[3])))])),e=n[2]||""}return Xu(r)}function dh(t){return Xu(Wu(t.split(".").map((t=>{const e=Wc("_"+sh(t));return e[0]=e.length-1,e}))))+"00"}var ph=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};const mh=new Bu(lh),gh=new Uint8Array(32);gh.fill(0);const vh=lc.from(-1),yh=lc.from(0),bh=lc.from(1),wh=lc.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const _h=ec(bh.toHexString(),32),Eh=ec(yh.toHexString(),32),Mh={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Ah=["name","version","chainId","verifyingContract","salt"];function Ih(t){return function(e){return"string"!=typeof e&&mh.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Sh={name:Ih("name"),version:Ih("version"),chainId:function(t){try{return lc.from(t).toString()}catch(t){}return mh.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Bc(t).toLowerCase()}catch(t){}return mh.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Hu(t);if(32!==e.length)throw new Error("bad length");return Xu(e)}catch(t){}return mh.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function kh(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=""===e[1],n=parseInt(e[2]||"256");(n%8!=0||n>256||e[2]&&e[2]!==String(n))&&mh.throwArgumentError("invalid numeric width","type",t);const i=wh.mask(r?n-1:n),o=r?i.add(bh).mul(vh):yh;return function(e){const r=lc.from(e);return(r.lt(o)||r.gt(i))&&mh.throwArgumentError(`value out-of-bounds for ${t}`,"value",e),ec(r.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(0===r||r>32||e[1]!==String(r))&&mh.throwArgumentError("invalid bytes width","type",t),function(e){return Hu(e).length!==r&&mh.throwArgumentError(`invalid length for ${t}`,"value",e),function(t){const e=Hu(t),r=e.length%32;return r?Qu([e,gh.slice(r)]):Xu(e)}(e)}}}switch(t){case"address":return function(t){return ec(Bc(t),32)};case"bool":return function(t){return t?_h:Eh};case"bytes":return function(t){return Ic(t)};case"string":return function(t){return ah(t)}}return null}function xh(t,e){return`${t}(${e.map((({name:t,type:e})=>e+" "+t)).join(",")})`}class Nh{constructor(t){mc(this,"types",Object.freeze(Ec(t))),mc(this,"_encoderCache",{}),mc(this,"_types",{});const e={},r={},n={};Object.keys(t).forEach((t=>{e[t]={},r[t]=[],n[t]={}}));for(const n in t){const i={};t[n].forEach((o=>{i[o.name]&&mh.throwArgumentError(`duplicate variable name ${JSON.stringify(o.name)} in ${JSON.stringify(n)}`,"types",t),i[o.name]=!0;const s=o.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===n&&mh.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",t);kh(s)||(r[s]||mh.throwArgumentError(`unknown type ${JSON.stringify(s)}`,"types",t),r[s].push(n),e[n][s]=!0)}))}const i=Object.keys(r).filter((t=>0===r[t].length));0===i.length?mh.throwArgumentError("missing primary type","types",t):i.length>1&&mh.throwArgumentError(`ambiguous primary types or unused types: ${i.map((t=>JSON.stringify(t))).join(", ")}`,"types",t),mc(this,"primaryType",i[0]),function i(o,s){s[o]&&mh.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",t),s[o]=!0,Object.keys(e[o]).forEach((t=>{r[t]&&(i(t,s),Object.keys(s).forEach((e=>{n[e][t]=!0})))})),delete s[o]}(this.primaryType,{});for(const e in n){const r=Object.keys(n[e]);r.sort(),this._types[e]=xh(e,t[e])+r.map((e=>xh(e,t[e]))).join("")}}getEncoder(t){let e=this._encoderCache[t];return e||(e=this._encoderCache[t]=this._getEncoder(t)),e}_getEncoder(t){{const e=kh(t);if(e)return e}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const t=e[1],r=this.getEncoder(t),n=parseInt(e[3]);return e=>{n>=0&&e.length!==n&&mh.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);let i=e.map(r);return this._types[t]&&(i=i.map(Ic)),Ic(Qu(i))}}const r=this.types[t];if(r){const e=ah(this._types[t]);return t=>{const n=r.map((({name:e,type:r})=>{const n=this.getEncoder(r)(t[e]);return this._types[r]?Ic(n):n}));return n.unshift(e),Qu(n)}}return mh.throwArgumentError(`unknown type: ${t}`,"type",t)}encodeType(t){const e=this._types[t];return e||mh.throwArgumentError(`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return Ic(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,r){if(kh(t))return r(t,e);const n=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const t=n[1],i=parseInt(n[3]);return i>=0&&e.length!==i&&mh.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e),e.map((e=>this._visit(t,e,r)))}const i=this.types[t];return i?i.reduce(((t,{name:n,type:i})=>(t[n]=this._visit(i,e[n],r),t)),{}):mh.throwArgumentError(`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new Nh(t)}static getPrimaryType(t){return Nh.from(t).primaryType}static hashStruct(t,e,r){return Nh.from(e).hashStruct(t,r)}static hashDomain(t){const e=[];for(const r in t){const n=Mh[r];n||mh.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",t),e.push({name:r,type:n})}return e.sort(((t,e)=>Ah.indexOf(t.name)-Ah.indexOf(e.name))),Nh.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,r){return Qu(["0x1901",Nh.hashDomain(t),Nh.from(e).hash(r)])}static hash(t,e,r){return Ic(Nh.encode(t,e,r))}static resolveNames(t,e,r,n){return ph(this,void 0,void 0,(function*(){t=yc(t);const i={};t.verifyingContract&&!Ju(t.verifyingContract,20)&&(i[t.verifyingContract]="0x");const o=Nh.from(e);o.visit(r,((t,e)=>("address"!==t||Ju(e,20)||(i[e]="0x"),e)));for(const t in i)i[t]=yield n(t);return t.verifyingContract&&i[t.verifyingContract]&&(t.verifyingContract=i[t.verifyingContract]),r=o.visit(r,((t,e)=>"address"===t&&i[e]?i[e]:e)),{domain:t,value:r}}))}static getPayload(t,e,r){Nh.hashDomain(t);const n={},i=[];Ah.forEach((e=>{const r=t[e];null!=r&&(n[e]=Sh[e](r),i.push({name:e,type:Mh[e]}))}));const o=Nh.from(e),s=yc(e);return s.EIP712Domain?mh.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",e):s.EIP712Domain=i,o.encode(r),{types:s,domain:n,primaryType:o.primaryType,message:o.visit(r,((t,e)=>{if(t.match(/^bytes(\d*)/))return Xu(Hu(e));if(t.match(/^u?int/))return lc.from(e).toString();switch(t){case"address":return e.toLowerCase();case"bool":return!!e;case"string":return"string"!=typeof e&&mh.throwArgumentError("invalid string","value",e),e}return mh.throwArgumentError("unsupported type","type",t)}))}}}var Rh=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};const Th=new Bu("abstract-provider/5.6.1");class Ph{constructor(){Th.checkAbstract(new.target,Ph),mc(this,"_isProvider",!0)}getFeeData(){return Rh(this,void 0,void 0,(function*(){const{block:t,gasPrice:e}=yield vc({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((t=>null))});let r=null,n=null;return t&&t.baseFeePerGas&&(n=lc.from("1500000000"),r=t.baseFeePerGas.mul(2).add(n)),{maxFeePerGas:r,maxPriorityFeePerGas:n,gasPrice:e}}))}addListener(t,e){return this.on(t,e)}removeListener(t,e){return this.off(t,e)}static isProvider(t){return!(!t||!t._isProvider)}}var Oh=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};const Ch=new Bu("abstract-signer/5.6.2"),$h=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Fh=[Bu.errors.INSUFFICIENT_FUNDS,Bu.errors.NONCE_EXPIRED,Bu.errors.REPLACEMENT_UNDERPRICED];class Lh{constructor(){Ch.checkAbstract(new.target,Lh),mc(this,"_isSigner",!0)}getBalance(t){return Oh(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)}))}getTransactionCount(t){return Oh(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)}))}estimateGas(t){return Oh(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const e=yield vc(this.checkTransaction(t));return yield this.provider.estimateGas(e)}))}call(t,e){return Oh(this,void 0,void 0,(function*(){this._checkProvider("call");const r=yield vc(this.checkTransaction(t));return yield this.provider.call(r,e)}))}sendTransaction(t){return Oh(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const e=yield this.populateTransaction(t),r=yield this.signTransaction(e);return yield this.provider.sendTransaction(r)}))}getChainId(){return Oh(this,void 0,void 0,(function*(){this._checkProvider("getChainId");return(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return Oh(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return Oh(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(t){return Oh(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)}))}checkTransaction(t){for(const e in t)-1===$h.indexOf(e)&&Ch.throwArgumentError("invalid transaction key: "+e,"transaction",t);const e=yc(t);return null==e.from?e.from=this.getAddress():e.from=Promise.all([Promise.resolve(e.from),this.getAddress()]).then((e=>(e[0].toLowerCase()!==e[1].toLowerCase()&&Ch.throwArgumentError("from address mismatch","transaction",t),e[0]))),e}populateTransaction(t){return Oh(this,void 0,void 0,(function*(){const e=yield vc(this.checkTransaction(t));null!=e.to&&(e.to=Promise.resolve(e.to).then((t=>Oh(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.resolveName(t);return null==e&&Ch.throwArgumentError("provided ENS name resolves to null","tx.to",t),e})))),e.to.catch((t=>{})));const r=null!=e.maxFeePerGas||null!=e.maxPriorityFeePerGas;if(null==e.gasPrice||2!==e.type&&!r?0!==e.type&&1!==e.type||!r||Ch.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t):Ch.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t),2!==e.type&&null!=e.type||null==e.maxFeePerGas||null==e.maxPriorityFeePerGas)if(0===e.type||1===e.type)null==e.gasPrice&&(e.gasPrice=this.getGasPrice());else{const t=yield this.getFeeData();if(null==e.type)if(null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)if(e.type=2,null!=e.gasPrice){const t=e.gasPrice;delete e.gasPrice,e.maxFeePerGas=t,e.maxPriorityFeePerGas=t}else null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas);else null!=t.gasPrice?(r&&Ch.throwError("network does not support EIP-1559",Bu.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==e.gasPrice&&(e.gasPrice=t.gasPrice),e.type=0):Ch.throwError("failed to get consistent fee data",Bu.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===e.type&&(null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas))}else e.type=2;return null==e.nonce&&(e.nonce=this.getTransactionCount("pending")),null==e.gasLimit&&(e.gasLimit=this.estimateGas(e).catch((t=>{if(Fh.indexOf(t.code)>=0)throw t;return Ch.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Bu.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,tx:e})}))),null==e.chainId?e.chainId=this.getChainId():e.chainId=Promise.all([Promise.resolve(e.chainId),this.getChainId()]).then((e=>(0!==e[1]&&e[0]!==e[1]&&Ch.throwArgumentError("chainId address mismatch","transaction",t),e[0]))),yield vc(e)}))}_checkProvider(t){this.provider||Ch.throwError("missing provider",Bu.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!(!t||!t._isSigner)}}var Bh={},Dh={},Uh=qh;function qh(t,e){if(!t)throw new Error(e||"Assertion failed")}qh.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var zh={exports:{}};"function"==typeof Object.create?zh.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:zh.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}};var jh=Uh,Gh=zh.exports;function Hh(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function Wh(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function Vh(t){return 1===t.length?"0"+t:t}function Jh(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}Dh.inherits=Gh,Dh.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):Hh(t,i)?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},Dh.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=Vh(t[r].toString(16));return e},Dh.htonl=Wh,Dh.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=Wh(i)),r+=Jh(i.toString(16))}return r},Dh.zero2=Vh,Dh.zero8=Jh,Dh.join32=function(t,e,r,n){var i=r-e;jh(i%4==0);for(var o=new Array(i/4),s=0,a=e;s<o.length;s++,a+=4){var l;l="big"===n?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],o[s]=l>>>0}return o},Dh.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];"big"===e?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},Dh.rotr32=function(t,e){return t>>>e|t<<32-e},Dh.rotl32=function(t,e){return t<<e|t>>>32-e},Dh.sum32=function(t,e){return t+e>>>0},Dh.sum32_3=function(t,e,r){return t+e+r>>>0},Dh.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},Dh.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},Dh.sum64=function(t,e,r,n){var i=t[e],o=n+t[e+1]>>>0,s=(o<n?1:0)+r+i;t[e]=s>>>0,t[e+1]=o},Dh.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},Dh.sum64_lo=function(t,e,r,n){return e+n>>>0},Dh.sum64_4_hi=function(t,e,r,n,i,o,s,a){var l=0,u=e;return l+=(u=u+n>>>0)<e?1:0,l+=(u=u+o>>>0)<o?1:0,t+r+i+s+(l+=(u=u+a>>>0)<a?1:0)>>>0},Dh.sum64_4_lo=function(t,e,r,n,i,o,s,a){return e+n+o+a>>>0},Dh.sum64_5_hi=function(t,e,r,n,i,o,s,a,l,u){var c=0,h=e;return c+=(h=h+n>>>0)<e?1:0,c+=(h=h+o>>>0)<o?1:0,c+=(h=h+a>>>0)<a?1:0,t+r+i+s+l+(c+=(h=h+u>>>0)<u?1:0)>>>0},Dh.sum64_5_lo=function(t,e,r,n,i,o,s,a,l,u){return e+n+o+a+u>>>0},Dh.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},Dh.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},Dh.shr64_hi=function(t,e,r){return t>>>r},Dh.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0};var Kh={},Xh=Dh,Zh=Uh;function Yh(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Kh.BlockHash=Yh,Yh.prototype.update=function(t,e){if(t=Xh.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=Xh.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},Yh.prototype.digest=function(t){return this.update(this._pad()),Zh(null===this.pending),this._digest(t)},Yh.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n};var Qh={},tf={},ef=Dh.rotr32;function rf(t,e,r){return t&e^~t&r}function nf(t,e,r){return t&e^t&r^e&r}function of(t,e,r){return t^e^r}tf.ft_1=function(t,e,r,n){return 0===t?rf(e,r,n):1===t||3===t?of(e,r,n):2===t?nf(e,r,n):void 0},tf.ch32=rf,tf.maj32=nf,tf.p32=of,tf.s0_256=function(t){return ef(t,2)^ef(t,13)^ef(t,22)},tf.s1_256=function(t){return ef(t,6)^ef(t,11)^ef(t,25)},tf.g0_256=function(t){return ef(t,7)^ef(t,18)^t>>>3},tf.g1_256=function(t){return ef(t,17)^ef(t,19)^t>>>10};var sf=Dh,af=Kh,lf=tf,uf=sf.rotl32,cf=sf.sum32,hf=sf.sum32_5,ff=lf.ft_1,df=af.BlockHash,pf=[1518500249,1859775393,2400959708,3395469782];function mf(){if(!(this instanceof mf))return new mf;df.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}sf.inherits(mf,df);var gf=mf;mf.blockSize=512,mf.outSize=160,mf.hmacStrength=80,mf.padLength=64,mf.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=uf(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],l=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),c=hf(uf(i,5),ff(u,o,s,a),l,r[n],pf[u]);l=a,a=s,s=uf(o,30),o=i,i=c}this.h[0]=cf(this.h[0],i),this.h[1]=cf(this.h[1],o),this.h[2]=cf(this.h[2],s),this.h[3]=cf(this.h[3],a),this.h[4]=cf(this.h[4],l)},mf.prototype._digest=function(t){return"hex"===t?sf.toHex32(this.h,"big"):sf.split32(this.h,"big")};var vf=Dh,yf=Kh,bf=tf,wf=Uh,_f=vf.sum32,Ef=vf.sum32_4,Mf=vf.sum32_5,Af=bf.ch32,If=bf.maj32,Sf=bf.s0_256,kf=bf.s1_256,xf=bf.g0_256,Nf=bf.g1_256,Rf=yf.BlockHash,Tf=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Pf(){if(!(this instanceof Pf))return new Pf;Rf.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Tf,this.W=new Array(64)}vf.inherits(Pf,Rf);var Of=Pf;Pf.blockSize=512,Pf.outSize=256,Pf.hmacStrength=192,Pf.padLength=64,Pf.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=Ef(Nf(r[n-2]),r[n-7],xf(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],l=this.h[4],u=this.h[5],c=this.h[6],h=this.h[7];for(wf(this.k.length===r.length),n=0;n<r.length;n++){var f=Mf(h,kf(l),Af(l,u,c),this.k[n],r[n]),d=_f(Sf(i),If(i,o,s));h=c,c=u,u=l,l=_f(a,f),a=s,s=o,o=i,i=_f(f,d)}this.h[0]=_f(this.h[0],i),this.h[1]=_f(this.h[1],o),this.h[2]=_f(this.h[2],s),this.h[3]=_f(this.h[3],a),this.h[4]=_f(this.h[4],l),this.h[5]=_f(this.h[5],u),this.h[6]=_f(this.h[6],c),this.h[7]=_f(this.h[7],h)},Pf.prototype._digest=function(t){return"hex"===t?vf.toHex32(this.h,"big"):vf.split32(this.h,"big")};var Cf=Dh,$f=Of;function Ff(){if(!(this instanceof Ff))return new Ff;$f.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Cf.inherits(Ff,$f);var Lf=Ff;Ff.blockSize=512,Ff.outSize=224,Ff.hmacStrength=192,Ff.padLength=64,Ff.prototype._digest=function(t){return"hex"===t?Cf.toHex32(this.h.slice(0,7),"big"):Cf.split32(this.h.slice(0,7),"big")};var Bf=Dh,Df=Kh,Uf=Uh,qf=Bf.rotr64_hi,zf=Bf.rotr64_lo,jf=Bf.shr64_hi,Gf=Bf.shr64_lo,Hf=Bf.sum64,Wf=Bf.sum64_hi,Vf=Bf.sum64_lo,Jf=Bf.sum64_4_hi,Kf=Bf.sum64_4_lo,Xf=Bf.sum64_5_hi,Zf=Bf.sum64_5_lo,Yf=Df.BlockHash,Qf=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function td(){if(!(this instanceof td))return new td;Yf.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Qf,this.W=new Array(160)}Bf.inherits(td,Yf);var ed=td;function rd(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function nd(t,e,r,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function id(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function od(t,e,r,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function sd(t,e){var r=qf(t,e,28)^qf(e,t,2)^qf(e,t,7);return r<0&&(r+=4294967296),r}function ad(t,e){var r=zf(t,e,28)^zf(e,t,2)^zf(e,t,7);return r<0&&(r+=4294967296),r}function ld(t,e){var r=qf(t,e,14)^qf(t,e,18)^qf(e,t,9);return r<0&&(r+=4294967296),r}function ud(t,e){var r=zf(t,e,14)^zf(t,e,18)^zf(e,t,9);return r<0&&(r+=4294967296),r}function cd(t,e){var r=qf(t,e,1)^qf(t,e,8)^jf(t,e,7);return r<0&&(r+=4294967296),r}function hd(t,e){var r=zf(t,e,1)^zf(t,e,8)^Gf(t,e,7);return r<0&&(r+=4294967296),r}function fd(t,e){var r=qf(t,e,19)^qf(e,t,29)^jf(t,e,6);return r<0&&(r+=4294967296),r}function dd(t,e){var r=zf(t,e,19)^zf(e,t,29)^Gf(t,e,6);return r<0&&(r+=4294967296),r}td.blockSize=1024,td.outSize=512,td.hmacStrength=192,td.padLength=128,td.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=fd(r[n-4],r[n-3]),o=dd(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],l=cd(r[n-30],r[n-29]),u=hd(r[n-30],r[n-29]),c=r[n-32],h=r[n-31];r[n]=Jf(i,o,s,a,l,u,c,h),r[n+1]=Kf(i,o,s,a,l,u,c,h)}},td.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],a=this.h[4],l=this.h[5],u=this.h[6],c=this.h[7],h=this.h[8],f=this.h[9],d=this.h[10],p=this.h[11],m=this.h[12],g=this.h[13],v=this.h[14],y=this.h[15];Uf(this.k.length===r.length);for(var b=0;b<r.length;b+=2){var w=v,_=y,E=ld(h,f),M=ud(h,f),A=rd(h,f,d,p,m),I=nd(h,f,d,p,m,g),S=this.k[b],k=this.k[b+1],x=r[b],N=r[b+1],R=Xf(w,_,E,M,A,I,S,k,x,N),T=Zf(w,_,E,M,A,I,S,k,x,N);w=sd(n,i),_=ad(n,i),E=id(n,i,o,s,a),M=od(n,i,o,s,a,l);var P=Wf(w,_,E,M),O=Vf(w,_,E,M);v=m,y=g,m=d,g=p,d=h,p=f,h=Wf(u,c,R,T),f=Vf(c,c,R,T),u=a,c=l,a=o,l=s,o=n,s=i,n=Wf(R,T,P,O),i=Vf(R,T,P,O)}Hf(this.h,0,n,i),Hf(this.h,2,o,s),Hf(this.h,4,a,l),Hf(this.h,6,u,c),Hf(this.h,8,h,f),Hf(this.h,10,d,p),Hf(this.h,12,m,g),Hf(this.h,14,v,y)},td.prototype._digest=function(t){return"hex"===t?Bf.toHex32(this.h,"big"):Bf.split32(this.h,"big")};var pd=Dh,md=ed;function gd(){if(!(this instanceof gd))return new gd;md.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}pd.inherits(gd,md);var vd=gd;gd.blockSize=1024,gd.outSize=384,gd.hmacStrength=192,gd.padLength=128,gd.prototype._digest=function(t){return"hex"===t?pd.toHex32(this.h.slice(0,12),"big"):pd.split32(this.h.slice(0,12),"big")},Qh.sha1=gf,Qh.sha224=Lf,Qh.sha256=Of,Qh.sha384=vd,Qh.sha512=ed;var yd={},bd=Dh,wd=Kh,_d=bd.rotl32,Ed=bd.sum32,Md=bd.sum32_3,Ad=bd.sum32_4,Id=wd.BlockHash;function Sd(){if(!(this instanceof Sd))return new Sd;Id.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function kd(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function xd(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Nd(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}bd.inherits(Sd,Id),yd.ripemd160=Sd,Sd.blockSize=512,Sd.outSize=160,Sd.hmacStrength=192,Sd.padLength=64,Sd.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],o=this.h[3],s=this.h[4],a=r,l=n,u=i,c=o,h=s,f=0;f<80;f++){var d=Ed(_d(Ad(r,kd(f,n,i,o),t[Rd[f]+e],xd(f)),Pd[f]),s);r=s,s=o,o=_d(i,10),i=n,n=d,d=Ed(_d(Ad(a,kd(79-f,l,u,c),t[Td[f]+e],Nd(f)),Od[f]),h),a=h,h=c,c=_d(u,10),u=l,l=d}d=Md(this.h[1],i,c),this.h[1]=Md(this.h[2],o,h),this.h[2]=Md(this.h[3],s,a),this.h[3]=Md(this.h[4],r,l),this.h[4]=Md(this.h[0],n,u),this.h[0]=d},Sd.prototype._digest=function(t){return"hex"===t?bd.toHex32(this.h,"little"):bd.split32(this.h,"little")};var Rd=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Td=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Pd=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Od=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Cd=Dh,$d=Uh;function Fd(t,e,r){if(!(this instanceof Fd))return new Fd(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Cd.toArray(e,r))}var Ld=Fd;Fd.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),$d(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},Fd.prototype.update=function(t,e){return this.inner.update(t,e),this},Fd.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},function(t){var e=t;e.utils=Dh,e.common=Kh,e.sha=Qh,e.ripemd=yd,e.hmac=Ld,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(Bh);var Bd=Bh;function Dd(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},t(r,r.exports),r.exports}var Ud=qd;function qd(t,e){if(!t)throw new Error(e||"Assertion failed")}qd.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var zd=Dd((function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}})),jd=Dd((function(t,e){var r=e;r.assert=Ud,r.toArray=zd.toArray,r.zero2=zd.zero2,r.toHex=zd.toHex,r.encode=zd.encode,r.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,o=t.clone(),s=0;s<n.length;s++){var a,l=o.andln(i-1);o.isOdd()?(a=l>(i>>1)-1?(i>>1)-l:l,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var s,a,l=t.andln(3)+i&3,u=e.andln(3)+o&3;3===l&&(l=-1),3===u&&(u=-1),s=0==(1&l)?0:3!==(n=t.andln(7)+i&7)&&5!==n||2!==u?l:-l,r[0].push(s),a=0==(1&u)?0:3!==(n=e.andln(7)+o&7)&&5!==n||2!==l?u:-u,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new xu(t,"hex","le")}})),Gd=jd.getNAF,Hd=jd.getJSF,Wd=jd.assert;function Vd(t,e){this.type=t,this.p=new xu(e.p,16),this.red=e.prime?xu.red(e.prime):xu.mont(this.p),this.zero=new xu(0).toRed(this.red),this.one=new xu(1).toRed(this.red),this.two=new xu(2).toRed(this.red),this.n=e.n&&new xu(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Jd=Vd;function Kd(t,e){this.curve=t,this.type=e,this.precomputed=null}Vd.prototype.point=function(){throw new Error("Not implemented")},Vd.prototype.validate=function(){throw new Error("Not implemented")},Vd.prototype._fixedNafMul=function(t,e){Wd(t.precomputed);var r=t._getDoubles(),n=Gd(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var l=o+r.step-1;l>=o;l--)s=(s<<1)+n[l];a.push(s)}for(var u=this.jpoint(null,null,null),c=this.jpoint(null,null,null),h=i;h>0;h--){for(o=0;o<a.length;o++)(s=a[o])===h?c=c.mixedAdd(r.points[o]):s===-h&&(c=c.mixedAdd(r.points[o].neg()));u=u.add(c)}return u.toP()},Vd.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=Gd(e,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var l=0;a>=0&&0===o[a];a--)l++;if(a>=0&&l++,s=s.dblp(l),a<0)break;var u=o[a];Wd(0!==u),s="affine"===t.type?u>0?s.mixedAdd(i[u-1>>1]):s.mixedAdd(i[-u-1>>1].neg()):u>0?s.add(i[u-1>>1]):s.add(i[-u-1>>1].neg())}return"affine"===t.type?s.toP():s},Vd.prototype._wnafMulAdd=function(t,e,r,n,i){var o,s,a,l=this._wnafT1,u=this._wnafT2,c=this._wnafT3,h=0;for(o=0;o<n;o++){var f=(a=e[o])._getNAFPoints(t);l[o]=f.wnd,u[o]=f.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===l[d]&&1===l[p]){var m=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(m[1]=e[d].add(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].add(e[p].neg())):(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],v=Hd(r[d],r[p]);for(h=Math.max(v[0].length,h),c[d]=new Array(h),c[p]=new Array(h),s=0;s<h;s++){var y=0|v[0][s],b=0|v[1][s];c[d][s]=g[3*(y+1)+(b+1)],c[p][s]=0,u[d]=m}}else c[d]=Gd(r[d],l[d],this._bitLength),c[p]=Gd(r[p],l[p],this._bitLength),h=Math.max(c[d].length,h),h=Math.max(c[p].length,h)}var w=this.jpoint(null,null,null),_=this._wnafT4;for(o=h;o>=0;o--){for(var E=0;o>=0;){var M=!0;for(s=0;s<n;s++)_[s]=0|c[s][o],0!==_[s]&&(M=!1);if(!M)break;E++,o--}if(o>=0&&E++,w=w.dblp(E),o<0)break;for(s=0;s<n;s++){var A=_[s];0!==A&&(A>0?a=u[s][A-1>>1]:A<0&&(a=u[s][-A-1>>1].neg()),w="affine"===a.type?w.mixedAdd(a):w.add(a))}}for(o=0;o<n;o++)u[o]=null;return i?w:w.toP()},Vd.BasePoint=Kd,Kd.prototype.eq=function(){throw new Error("Not implemented")},Kd.prototype.validate=function(){return this.curve.validate(this)},Vd.prototype.decodePoint=function(t,e){t=jd.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?Wd(t[t.length-1]%2==0):7===t[0]&&Wd(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},Kd.prototype.encodeCompressed=function(t){return this.encode(t,!0)},Kd.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},Kd.prototype.encode=function(t,e){return jd.encode(this._encode(e),t)},Kd.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},Kd.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},Kd.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},Kd.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},Kd.prototype._getBeta=function(){return null},Kd.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var Xd=Dd((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),Zd=jd.assert;function Yd(t){Jd.call(this,"short",t),this.a=new xu(t.a,16).toRed(this.red),this.b=new xu(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Xd(Yd,Jd);var Qd=Yd;function tp(t,e,r,n){Jd.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new xu(e,16),this.y=new xu(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function ep(t,e,r,n){Jd.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new xu(0)):(this.x=new xu(e,16),this.y=new xu(r,16),this.z=new xu(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Yd.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new xu(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new xu(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],Zd(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new xu(t.a,16),b:new xu(t.b,16)}})):this._getEndoBasis(r)}}},Yd.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:xu.mont(t),r=new xu(2).toRed(e).redInvm(),n=r.redNeg(),i=new xu(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},Yd.prototype._getEndoBasis=function(t){for(var e,r,n,i,o,s,a,l,u,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=t,f=this.n.clone(),d=new xu(1),p=new xu(0),m=new xu(0),g=new xu(1),v=0;0!==h.cmpn(0);){var y=f.div(h);l=f.sub(y.mul(h)),u=m.sub(y.mul(d));var b=g.sub(y.mul(p));if(!n&&l.cmp(c)<0)e=a.neg(),r=d,n=l.neg(),i=u;else if(n&&2==++v)break;a=l,f=h,h=l,m=d,d=u,g=p,p=b}o=l.neg(),s=u;var w=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(w)>=0&&(o=e,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},Yd.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),l=i.mul(r.b),u=o.mul(n.b);return{k1:t.sub(s).sub(a),k2:l.add(u).neg()}},Yd.prototype.pointFromX=function(t,e){(t=new xu(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},Yd.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},Yd.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],l=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),l=l.neg(!0)),n[2*o]=a,n[2*o+1]=l,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),c=0;c<2*o;c++)n[c]=null,i[c]=null;return u},Xd(tp,Jd.BasePoint),Yd.prototype.point=function(t,e,r){return new tp(this,t,e,r)},Yd.prototype.pointFromJSON=function(t,e){return tp.fromJSON(this,t,e)},tp.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},tp.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},tp.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},tp.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},tp.prototype.isInfinity=function(){return this.inf},tp.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},tp.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},tp.prototype.getX=function(){return this.x.fromRed()},tp.prototype.getY=function(){return this.y.fromRed()},tp.prototype.mul=function(t){return t=new xu(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},tp.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},tp.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},tp.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},tp.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},tp.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Xd(ep,Jd.BasePoint),Yd.prototype.jpoint=function(t,e,r){return new ep(this,t,e,r)},ep.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},ep.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},ep.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),l=o.redSub(s);if(0===a.cmpn(0))return 0!==l.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),h=n.redMul(u),f=l.redSqr().redIAdd(c).redISub(h).redISub(h),d=l.redMul(h.redISub(f)).redISub(o.redMul(c)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(f,d,p)},ep.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),u=l.redMul(s),c=r.redMul(l),h=a.redSqr().redIAdd(u).redISub(c).redISub(c),f=a.redMul(c.redISub(h)).redISub(i.redMul(u)),d=this.z.redMul(s);return this.curve.jpoint(h,f,d)},ep.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,l=a.redSqr().redSqr(),u=s.redAdd(s);for(e=0;e<t;e++){var c=o.redSqr(),h=u.redSqr(),f=h.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(l)),p=o.redMul(h),m=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),v=d.redMul(g);v=v.redIAdd(v).redISub(f);var y=u.redMul(a);e+1<t&&(l=l.redMul(f)),o=m,a=y,u=v}return this.curve.jpoint(o,u.redMul(i),a)},ep.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},ep.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),l=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=l,e=a.redMul(s.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(c).redISub(f);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),m=p.redSqr(),g=f.redIAdd(f);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},ep.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),l=a.redSqr().redISub(s).redISub(s);t=l;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=a.redMul(s.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),m=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(c);var g=h.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=d.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},ep.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),l=e.redAdd(e),u=(l=l.redIAdd(l)).redMul(s),c=a.redSqr().redISub(u.redAdd(u)),h=u.redISub(c),f=s.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=a.redMul(h).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,d,p)},ep.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),l=n.redIAdd(n);l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(l),c=e.redMul(u);c=(c=c.redIAdd(c)).redIAdd(c);var h=this.x.redMul(a).redISub(c);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.y.redMul(u.redMul(l.redISub(u)).redISub(s.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,f,d)},ep.prototype.mul=function(t,e){return t=new xu(t,e),this.curve._wnafMul(this,t)},ep.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},ep.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},ep.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},ep.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var rp=Dd((function(t,e){var r=e;r.base=Jd,r.short=Qd,r.mont=null,r.edwards=null})),np=Dd((function(t,e){var r,n=e,i=jd.assert;function o(t){"short"===t.type?this.curve=new rp.short(t):"edwards"===t.type?this.curve=new rp.edwards(t):this.curve=new rp.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new o(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Bd.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Bd.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Bd.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Bd.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Bd.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Bd.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Bd.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(t){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Bd.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function ip(t){if(!(this instanceof ip))return new ip(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=zd.toArray(t.entropy,t.entropyEnc||"hex"),r=zd.toArray(t.nonce,t.nonceEnc||"hex"),n=zd.toArray(t.pers,t.persEnc||"hex");Ud(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var op=ip;ip.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},ip.prototype._hmac=function(){return new Bd.hmac(this.hash,this.K)},ip.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},ip.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=zd.toArray(t,e),r=zd.toArray(r,n),Ud(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},ip.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=zd.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,t);return this._update(r),this._reseed++,zd.encode(o,e)};var sp=jd.assert;function ap(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var lp=ap;ap.fromPublic=function(t,e,r){return e instanceof ap?e:new ap(t,{pub:e,pubEnc:r})},ap.fromPrivate=function(t,e,r){return e instanceof ap?e:new ap(t,{priv:e,privEnc:r})},ap.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},ap.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},ap.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},ap.prototype._importPrivate=function(t,e){this.priv=new xu(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},ap.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?sp(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||sp(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},ap.prototype.derive=function(t){return t.validate()||sp(t.validate(),"public point not validated"),t.mul(this.priv).getX()},ap.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},ap.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},ap.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var up=jd.assert;function cp(t,e){if(t instanceof cp)return t;this._importDER(t,e)||(up(t.r&&t.s,"Signature without r or s"),this.r=new xu(t.r,16),this.s=new xu(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var hp=cp;function fp(){this.place=0}function dp(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return!(i<=127)&&(e.place=s,i)}function pp(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function mp(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}cp.prototype._importDER=function(t,e){t=jd.toArray(t,e);var r=new fp;if(48!==t[r.place++])return!1;var n=dp(t,r);if(!1===n)return!1;if(n+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var i=dp(t,r);if(!1===i)return!1;var o=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return!1;var s=dp(t,r);if(!1===s)return!1;if(t.length!==s+r.place)return!1;var a=t.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new xu(o),this.s=new xu(a),this.recoveryParam=null,!0},cp.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=pp(e),r=pp(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];mp(n,e.length),(n=n.concat(e)).push(2),mp(n,r.length);var i=n.concat(r),o=[48];return mp(o,i.length),o=o.concat(i),jd.encode(o,t)};var gp=function(){throw new Error("unsupported")},vp=jd.assert;function yp(t){if(!(this instanceof yp))return new yp(t);"string"==typeof t&&(vp(Object.prototype.hasOwnProperty.call(np,t),"Unknown curve "+t),t=np[t]),t instanceof np.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var bp=yp;yp.prototype.keyPair=function(t){return new lp(this,t)},yp.prototype.keyFromPrivate=function(t,e){return lp.fromPrivate(this,t,e)},yp.prototype.keyFromPublic=function(t,e){return lp.fromPublic(this,t,e)},yp.prototype.genKeyPair=function(t){t||(t={});for(var e=new op({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||gp(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new xu(2));;){var i=new xu(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},yp.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},yp.prototype.sign=function(t,e,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new xu(t,16));for(var i=this.n.byteLength(),o=e.getPrivate().toArray("be",i),s=t.toArray("be",i),a=new op({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),l=this.n.sub(new xu(1)),u=0;;u++){var c=n.k?n.k(u):new xu(a.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||c.cmp(l)>=0)){var h=this.g.mul(c);if(!h.isInfinity()){var f=h.getX(),d=f.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var m=(h.getY().isOdd()?1:0)|(0!==f.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),m^=1),new hp({r:d,s:p,recoveryParam:m})}}}}}},yp.prototype.verify=function(t,e,r,n){t=this._truncateToN(new xu(t,16)),r=this.keyFromPublic(r,n);var i=(e=new hp(e,"hex")).r,o=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),l=a.mul(t).umod(this.n),u=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(l,r.getPublic(),u)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(l,r.getPublic(),u)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},yp.prototype.recoverPubKey=function(t,e,r,n){vp((3&r)===r,"The recovery param is more than two bits"),e=new hp(e,n);var i=this.n,o=new xu(t),s=e.r,a=e.s,l=1&r,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");s=u?this.curve.pointFromX(s.add(this.curve.n),l):this.curve.pointFromX(s,l);var c=e.r.invm(i),h=i.sub(o).mul(c).umod(i),f=a.mul(c).umod(i);return this.g.mulAdd(h,s,f)},yp.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new hp(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var wp=Dd((function(t,e){var r=e;r.version="6.5.4",r.utils=jd,r.rand=function(){throw new Error("unsupported")},r.curve=rp,r.curves=np,r.ec=bp,r.eddsa=null})),_p=wp.ec;const Ep=new Bu("signing-key/5.6.2");let Mp=null;function Ap(){return Mp||(Mp=new _p("secp256k1")),Mp}class Ip{constructor(t){mc(this,"curve","secp256k1"),mc(this,"privateKey",Xu(t)),32!==Zu(this.privateKey)&&Ep.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const e=Ap().keyFromPrivate(Hu(this.privateKey));mc(this,"publicKey","0x"+e.getPublic(!1,"hex")),mc(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),mc(this,"_isSigningKey",!0)}_addPoint(t){const e=Ap().keyFromPublic(Hu(this.publicKey)),r=Ap().keyFromPublic(Hu(t));return"0x"+e.pub.add(r.pub).encodeCompressed("hex")}signDigest(t){const e=Ap().keyFromPrivate(Hu(this.privateKey)),r=Hu(t);32!==r.length&&Ep.throwArgumentError("bad digest length","digest",t);const n=e.sign(r,{canonical:!0});return rc({recoveryParam:n.recoveryParam,r:ec("0x"+n.r.toString(16),32),s:ec("0x"+n.s.toString(16),32)})}computeSharedSecret(t){const e=Ap().keyFromPrivate(Hu(this.privateKey)),r=Ap().keyFromPublic(Hu(Sp(t)));return ec("0x"+e.derive(r.getPublic()).toString(16),32)}static isSigningKey(t){return!(!t||!t._isSigningKey)}}function Sp(t,e){const r=Hu(t);if(32===r.length){const t=new Ip(r);return e?"0x"+Ap().keyFromPrivate(r).getPublic(!0,"hex"):t.publicKey}return 33===r.length?e?Xu(r):"0x"+Ap().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?e?"0x"+Ap().keyFromPublic(r).getPublic(!0,"hex"):Xu(r):Ep.throwArgumentError("invalid public or private key","key","[REDACTED]")}const kp=new Bu("transactions/5.6.2");var xp;function Np(t){return"0x"===t?null:Bc(t)}function Rp(t){return"0x"===t?Dc:lc.from(t)}function Tp(t,e){return function(t){return Bc(Yu(Ic(Yu(Sp(t),1)),12))}(function(t,e){const r=rc(e),n={r:Hu(r.r),s:Hu(r.s)};return"0x"+Ap().recoverPubKey(Hu(t),n,r.recoveryParam).encode("hex",!1)}(Hu(t),e))}function Pp(t,e){const r=Vu(lc.from(t).toHexString());return r.length>32&&kp.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function Op(t,e){return{address:Bc(t),storageKeys:(e||[]).map(((e,r)=>(32!==Zu(e)&&kp.throwArgumentError("invalid access list storageKey",`accessList[${t}:${r}]`,e),e.toLowerCase())))}}function Cp(t){if(Array.isArray(t))return t.map(((t,e)=>Array.isArray(t)?(t.length>2&&kp.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${e}]`,t),Op(t[0],t[1])):Op(t.address,t.storageKeys)));const e=Object.keys(t).map((e=>{const r=t[e].reduce(((t,e)=>(t[e]=!0,t)),{});return Op(e,Object.keys(r).sort())}));return e.sort(((t,e)=>t.address.localeCompare(e.address))),e}function $p(t){return Cp(t).map((t=>[t.address,t.storageKeys]))}function Fp(t,e){if(null!=t.gasPrice){const e=lc.from(t.gasPrice),r=lc.from(t.maxFeePerGas||0);e.eq(r)||kp.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:e,maxFeePerGas:r})}const r=[Pp(t.chainId||0,"chainId"),Pp(t.nonce||0,"nonce"),Pp(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Pp(t.maxFeePerGas||0,"maxFeePerGas"),Pp(t.gasLimit||0,"gasLimit"),null!=t.to?Bc(t.to):"0x",Pp(t.value||0,"value"),t.data||"0x",$p(t.accessList||[])];if(e){const t=rc(e);r.push(Pp(t.recoveryParam,"recoveryParam")),r.push(Vu(t.r)),r.push(Vu(t.s))}return Qu(["0x02",Rc(r)])}function Lp(t,e){const r=[Pp(t.chainId||0,"chainId"),Pp(t.nonce||0,"nonce"),Pp(t.gasPrice||0,"gasPrice"),Pp(t.gasLimit||0,"gasLimit"),null!=t.to?Bc(t.to):"0x",Pp(t.value||0,"value"),t.data||"0x",$p(t.accessList||[])];if(e){const t=rc(e);r.push(Pp(t.recoveryParam,"recoveryParam")),r.push(Vu(t.r)),r.push(Vu(t.s))}return Qu(["0x01",Rc(r)])}function Bp(t,e,r){try{const r=Rp(e[0]).toNumber();if(0!==r&&1!==r)throw new Error("bad recid");t.v=r}catch(t){kp.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=ec(e[1],32),t.s=ec(e[2],32);try{const e=Ic(r(t));t.from=Tp(e,{r:t.r,s:t.s,recoveryParam:t.v})}catch(t){}}function Dp(t){const e=Hu(t);if(e[0]>127)return function(t){const e=Oc(t);9!==e.length&&6!==e.length&&kp.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Rp(e[0]).toNumber(),gasPrice:Rp(e[1]),gasLimit:Rp(e[2]),to:Np(e[3]),value:Rp(e[4]),data:e[5],chainId:0};if(6===e.length)return r;try{r.v=lc.from(e[6]).toNumber()}catch(t){return r}if(r.r=ec(e[7],32),r.s=ec(e[8],32),lc.from(r.r).isZero()&&lc.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);0!==r.chainId&&(i.push(Xu(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);const o=Ic(Rc(i));try{r.from=Tp(o,{r:Xu(r.r),s:Xu(r.s),recoveryParam:n})}catch(t){}r.hash=Ic(t)}return r.type=null,r}(e);switch(e[0]){case 1:return function(t){const e=Oc(t.slice(1));8!==e.length&&11!==e.length&&kp.throwArgumentError("invalid component count for transaction type: 1","payload",Xu(t));const r={type:1,chainId:Rp(e[0]).toNumber(),nonce:Rp(e[1]).toNumber(),gasPrice:Rp(e[2]),gasLimit:Rp(e[3]),to:Np(e[4]),value:Rp(e[5]),data:e[6],accessList:Cp(e[7])};return 8===e.length||(r.hash=Ic(t),Bp(r,e.slice(8),Lp)),r}(e);case 2:return function(t){const e=Oc(t.slice(1));9!==e.length&&12!==e.length&&kp.throwArgumentError("invalid component count for transaction type: 2","payload",Xu(t));const r=Rp(e[2]),n=Rp(e[3]),i={type:2,chainId:Rp(e[0]).toNumber(),nonce:Rp(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Rp(e[4]),to:Np(e[5]),value:Rp(e[6]),data:e[7],accessList:Cp(e[8])};return 9===e.length||(i.hash=Ic(t),Bp(i,e.slice(9),Fp)),i}(e)}return kp.throwError(`unsupported transaction type: ${e[0]}`,Bu.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}!function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(xp||(xp={}));class Up{constructor(t){mc(this,"alphabet",t),mc(this,"base",t.length),mc(this,"_alphabetMap",{}),mc(this,"_leader",t.charAt(0));for(let e=0;e<t.length;e++)this._alphabetMap[t.charAt(e)]=e}encode(t){let e=Hu(t);if(0===e.length)return"";let r=[0];for(let t=0;t<e.length;++t){let n=e[t];for(let t=0;t<r.length;++t)n+=r[t]<<8,r[t]=n%this.base,n=n/this.base|0;for(;n>0;)r.push(n%this.base),n=n/this.base|0}let n="";for(let t=0;0===e[t]&&t<e.length-1;++t)n+=this._leader;for(let t=r.length-1;t>=0;--t)n+=this.alphabet[r[t]];return n}decode(t){if("string"!=typeof t)throw new TypeError("Expected String");let e=[];if(0===t.length)return new Uint8Array(e);e.push(0);for(let r=0;r<t.length;r++){let n=this._alphabetMap[t[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");let i=n;for(let t=0;t<e.length;++t)i+=e[t]*this.base,e[t]=255&i,i>>=8;for(;i>0;)e.push(255&i),i>>=8}for(let r=0;t[r]===this._leader&&r<t.length-1;++r)e.push(0);return Hu(new Uint8Array(e.reverse()))}}new Up("abcdefghijklmnopqrstuvwxyz234567");const qp=new Up("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function zp(t){return"0x"+Bd.sha256().update(Hu(t)).digest("hex")}new Bu("sha2/5.6.1");const jp=new Bu("networks/5.6.4");function Gp(t){const e=function(e,r){null==r&&(r={});const n=[];if(e.InfuraProvider&&"-"!==r.infura)try{n.push(new e.InfuraProvider(t,r.infura))}catch(t){}if(e.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new e.EtherscanProvider(t,r.etherscan))}catch(t){}if(e.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new e.AlchemyProvider(t,r.alchemy))}catch(t){}if(e.PocketProvider&&"-"!==r.pocket){const i=["goerli","ropsten","rinkeby"];try{const o=new e.PocketProvider(t,r.pocket);o.network&&-1===i.indexOf(o.network.name)&&n.push(o)}catch(t){}}if(e.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new e.CloudflareProvider(t))}catch(t){}if(e.AnkrProvider&&"-"!==r.ankr)try{const i=["ropsten"],o=new e.AnkrProvider(t,r.ankr);o.network&&-1===i.indexOf(o.network.name)&&n.push(o)}catch(t){}if(0===n.length)return null;if(e.FallbackProvider){let i=1;return null!=r.quorum?i=r.quorum:"homestead"===t&&(i=2),new e.FallbackProvider(n,i)}return n[0]};return e.renetwork=function(t){return Gp(t)},e}function Hp(t,e){const r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(t,e):null};return r.renetwork=function(e){return Hp(t,e)},r}const Wp={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Gp("homestead")},Vp={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Gp("ropsten")},Jp={chainId:63,name:"classicMordor",_defaultProvider:Hp("https://www.ethercluster.com/mordor","classicMordor")},Kp={unspecified:{chainId:0,name:"unspecified"},homestead:Wp,mainnet:Wp,morden:{chainId:2,name:"morden"},ropsten:Vp,testnet:Vp,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Gp("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Gp("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Gp("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},classic:{chainId:61,name:"classic",_defaultProvider:Hp("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Jp,classicTestnet:Jp,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Hp("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Gp("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:Gp("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Xp(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Hu(e)}function Zp(t){t=Hu(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}var Yp=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};function Qp(t,e){return Yp(this,void 0,void 0,(function*(){null==e&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};!0!==e.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client");const n=yield fetch(t,r),i=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach(((t,e)=>{o[e.toLowerCase()]=t})):n.headers.keys().forEach((t=>{o[t.toLowerCase()]=n.headers.get(t)})),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:Hu(new Uint8Array(i))}}))}var tm=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};const em=new Bu("web/5.6.1");function rm(t){return new Promise((e=>{setTimeout(e,t)}))}function nm(t,e){if(null==t)return null;if("string"==typeof t)return t;if(zu(t)){if(e&&("text"===e.split("/")[0]||"application/json"===e.split(";")[0].trim()))try{return Jc(t)}catch(t){}return Xu(t)}return t}function im(t,e,r){let n=null;if(null!=e){n=Wc(e);const r="string"==typeof t?{url:t}:yc(t);if(r.headers){const t=0!==Object.keys(r.headers).filter((t=>"content-type"===t.toLowerCase())).length;t||(r.headers=yc(r.headers),r.headers["content-type"]="application/json")}else r.headers={"content-type":"application/json"};t=r}return function(t,e,r){const n="object"==typeof t&&null!=t.throttleLimit?t.throttleLimit:12;em.assertArgument(n>0&&n%1==0,"invalid connection throttle limit","connection.throttleLimit",n);const i="object"==typeof t?t.throttleCallback:null,o="object"==typeof t&&"number"==typeof t.throttleSlotInterval?t.throttleSlotInterval:100;em.assertArgument(o>0&&o%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);const s="object"==typeof t&&!!t.errorPassThrough,a={};let l=null;const u={method:"GET"};let c=!1,h=12e4;if("string"==typeof t)l=t;else if("object"==typeof t){if(null!=t&&null!=t.url||em.throwArgumentError("missing URL","connection.url",t),l=t.url,"number"==typeof t.timeout&&t.timeout>0&&(h=t.timeout),t.headers)for(const e in t.headers)a[e.toLowerCase()]={key:e,value:String(t.headers[e])},["if-none-match","if-modified-since"].indexOf(e.toLowerCase())>=0&&(c=!0);if(u.allowGzip=!!t.allowGzip,null!=t.user&&null!=t.password){"https:"!==l.substring(0,6)&&!0!==t.allowInsecureAuthentication&&em.throwError("basic authentication requires a secure https url",Bu.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:t.user,password:"[REDACTED]"});const e=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+Zp(Wc(e))}}null!=t.skipFetchSetup&&(u.skipFetchSetup=!!t.skipFetchSetup)}const f=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),d=l?l.match(f):null;if(d)try{const t={statusCode:200,statusMessage:"OK",headers:{"content-type":d[1]},body:Xp(d[2])};let e=t.body;return r&&(e=r(t.body,t)),Promise.resolve(e)}catch(t){em.throwError("processing response error",Bu.errors.SERVER_ERROR,{body:nm(d[1],d[2]),error:t,requestBody:null,requestMethod:"GET",url:l})}e&&(u.method="POST",u.body=e,null==a["content-type"]&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==a["content-length"]&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const p={};Object.keys(a).forEach((t=>{const e=a[t];p[e.key]=e.value})),u.headers=p;const m=function(){let t=null;return{promise:new Promise((function(e,r){h&&(t=setTimeout((()=>{null!=t&&(t=null,r(em.makeError("timeout",Bu.errors.TIMEOUT,{requestBody:nm(u.body,p["content-type"]),requestMethod:u.method,timeout:h,url:l})))}),h))})),cancel:function(){null!=t&&(clearTimeout(t),t=null)}}}(),g=function(){return tm(this,void 0,void 0,(function*(){for(let t=0;t<n;t++){let e=null;try{if(e=yield Qp(l,u),t<n)if(301===e.statusCode||302===e.statusCode){const t=e.headers.location||"";if("GET"===u.method&&t.match(/^https:/)){l=e.headers.location;continue}}else if(429===e.statusCode){let r=!0;if(i&&(r=yield i(t,l)),r){let r=0;const n=e.headers["retry-after"];r="string"==typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):o*parseInt(String(Math.random()*Math.pow(2,t))),yield rm(r);continue}}}catch(t){e=t.response,null==e&&(m.cancel(),em.throwError("missing response",Bu.errors.SERVER_ERROR,{requestBody:nm(u.body,p["content-type"]),requestMethod:u.method,serverError:t,url:l}))}let a=e.body;if(c&&304===e.statusCode?a=null:!s&&(e.statusCode<200||e.statusCode>=300)&&(m.cancel(),em.throwError("bad response",Bu.errors.SERVER_ERROR,{status:e.statusCode,headers:e.headers,body:nm(a,e.headers?e.headers["content-type"]:null),requestBody:nm(u.body,p["content-type"]),requestMethod:u.method,url:l})),r)try{const t=yield r(a,e);return m.cancel(),t}catch(r){if(r.throttleRetry&&t<n){let e=!0;if(i&&(e=yield i(t,l)),e){const e=o*parseInt(String(Math.random()*Math.pow(2,t)));yield rm(e);continue}}m.cancel(),em.throwError("processing response error",Bu.errors.SERVER_ERROR,{body:nm(a,e.headers?e.headers["content-type"]:null),error:r,requestBody:nm(u.body,p["content-type"]),requestMethod:u.method,url:l})}return m.cancel(),a}return em.throwError("failed response",Bu.errors.SERVER_ERROR,{requestBody:nm(u.body,p["content-type"]),requestMethod:u.method,url:l})}))}();return Promise.race([m.promise,g])}(t,n,((t,e)=>{let n=null;if(null!=t)try{n=JSON.parse(Jc(t))}catch(e){em.throwError("invalid JSON",Bu.errors.SERVER_ERROR,{body:t,error:e})}return r&&(n=r(n,e)),n}))}function om(t,e){return e||(e={}),null==(e=yc(e)).floor&&(e.floor=0),null==e.ceiling&&(e.ceiling=1e4),null==e.interval&&(e.interval=250),new Promise((function(r,n){let i=null,o=!1;const s=()=>!o&&(o=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout((()=>{s()&&n(new Error("timeout"))}),e.timeout));const a=e.retryLimit;let l=0;!function i(){return t().then((function(t){if(void 0!==t)s()&&r(t);else if(e.oncePoll)e.oncePoll.once("poll",i);else if(e.onceBlock)e.onceBlock.once("block",i);else if(!o){if(l++,l>a)return void(s()&&n(new Error("retry limit reached")));let t=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));t<e.floor&&(t=e.floor),t>e.ceiling&&(t=e.ceiling),setTimeout(i,t)}return null}),(function(t){s()&&n(t)}))}()}))}for(var sm="qpzry9x8gf2tvdw0s3jn54khce6mua7l",am={},lm=0;lm<sm.length;lm++){var um=sm.charAt(lm);if(void 0!==am[um])throw new TypeError(um+" is ambiguous");am[um]=lm}function cm(t){var e=t>>25;return(33554431&t)<<5^996825010&-(e>>0&1)^642813549&-(e>>1&1)^513874426&-(e>>2&1)^1027748829&-(e>>3&1)^705979059&-(e>>4&1)}function hm(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=cm(e)^n>>5}for(e=cm(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=cm(e)^31&i}return e}function fm(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;var i=(t=r).lastIndexOf("1");if(-1===i)return"No separator character for "+t;if(0===i)return"Missing prefix for "+t;var o=t.slice(0,i),s=t.slice(i+1);if(s.length<6)return"Data too short";var a=hm(o);if("string"==typeof a)return a;for(var l=[],u=0;u<s.length;++u){var c=s.charAt(u),h=am[c];if(void 0===h)return"Unknown character "+c;a=cm(a)^h,u+6>=s.length||l.push(h)}return 1!==a?"Invalid checksum for "+t:{prefix:o,words:l}}function dm(t,e,r,n){for(var i=0,o=0,s=(1<<r)-1,a=[],l=0;l<t.length;++l)for(i=i<<e|t[l],o+=e;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=e)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}var pm={decodeUnsafe:function(){var t=fm.apply(null,arguments);if("object"==typeof t)return t},decode:function(t){var e=fm.apply(null,arguments);if("object"==typeof e)return e;throw new Error(e)},encode:function(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");var n=hm(t=t.toLowerCase());if("string"==typeof n)throw new Error(n);for(var i=t+"1",o=0;o<e.length;++o){var s=e[o];if(s>>5!=0)throw new Error("Non 5-bit word");n=cm(n)^s,i+=sm.charAt(s)}for(o=0;o<6;++o)n=cm(n);for(n^=1,o=0;o<6;++o){i+=sm.charAt(n>>5*(5-o)&31)}return i},toWordsUnsafe:function(t){var e=dm(t,8,5,!0);if(Array.isArray(e))return e},toWords:function(t){var e=dm(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)},fromWordsUnsafe:function(t){var e=dm(t,5,8,!1);if(Array.isArray(e))return e},fromWords:function(t){var e=dm(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}};const mm="providers/5.6.8",gm=new Bu(mm);class vm{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const t={},e=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),i=this.data.bind(this),o=this.hash.bind(this),s=this.hex.bind(this),a=this.number.bind(this),l=this.type.bind(this);return t.transaction={hash:o,type:l,accessList:vm.allowNull(this.accessList.bind(this),null),blockHash:vm.allowNull(o,null),blockNumber:vm.allowNull(a,null),transactionIndex:vm.allowNull(a,null),confirmations:vm.allowNull(a,null),from:e,gasPrice:vm.allowNull(r),maxPriorityFeePerGas:vm.allowNull(r),maxFeePerGas:vm.allowNull(r),gasLimit:r,to:vm.allowNull(e,null),value:r,nonce:a,data:i,r:vm.allowNull(this.uint256),s:vm.allowNull(this.uint256),v:vm.allowNull(a),creates:vm.allowNull(e,null),raw:vm.allowNull(i)},t.transactionRequest={from:vm.allowNull(e),nonce:vm.allowNull(a),gasLimit:vm.allowNull(r),gasPrice:vm.allowNull(r),maxPriorityFeePerGas:vm.allowNull(r),maxFeePerGas:vm.allowNull(r),to:vm.allowNull(e),value:vm.allowNull(r),data:vm.allowNull((t=>this.data(t,!0))),type:vm.allowNull(a),accessList:vm.allowNull(this.accessList.bind(this),null)},t.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:o,address:e,topics:vm.arrayOf(o),data:i,logIndex:a,blockHash:o},t.receipt={to:vm.allowNull(this.address,null),from:vm.allowNull(this.address,null),contractAddress:vm.allowNull(e,null),transactionIndex:a,root:vm.allowNull(s),gasUsed:r,logsBloom:vm.allowNull(i),blockHash:o,transactionHash:o,logs:vm.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:vm.allowNull(a,null),cumulativeGasUsed:r,effectiveGasPrice:vm.allowNull(r),status:vm.allowNull(a),type:l},t.block={hash:vm.allowNull(o),parentHash:o,number:a,timestamp:a,nonce:vm.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:vm.allowNull(e),extraData:i,transactions:vm.allowNull(vm.arrayOf(o)),baseFeePerGas:vm.allowNull(r)},t.blockWithTransactions=yc(t.block),t.blockWithTransactions.transactions=vm.allowNull(vm.arrayOf(this.transactionResponse.bind(this))),t.filter={fromBlock:vm.allowNull(n,void 0),toBlock:vm.allowNull(n,void 0),blockHash:vm.allowNull(o,void 0),address:vm.allowNull(e,void 0),topics:vm.allowNull(this.topics.bind(this),void 0)},t.filterLog={blockNumber:vm.allowNull(a),blockHash:vm.allowNull(o),transactionIndex:a,removed:vm.allowNull(this.boolean.bind(this)),address:e,data:vm.allowFalsish(i,"0x"),topics:vm.arrayOf(o),transactionHash:o,logIndex:a},t}accessList(t){return Cp(t||[])}number(t){return"0x"===t?0:lc.from(t).toNumber()}type(t){return"0x"===t||null==t?0:lc.from(t).toNumber()}bigNumber(t){return lc.from(t)}boolean(t){if("boolean"==typeof t)return t;if("string"==typeof t){if("true"===(t=t.toLowerCase()))return!0;if("false"===t)return!1}throw new Error("invalid boolean - "+t)}hex(t,e){return"string"==typeof t&&(e||"0x"===t.substring(0,2)||(t="0x"+t),Ju(t))?t.toLowerCase():gm.throwArgumentError("invalid hash","value",t)}data(t,e){const r=this.hex(t,e);if(r.length%2!=0)throw new Error("invalid data; odd-length - "+t);return r}address(t){return Bc(t)}callAddress(t){if(!Ju(t,32))return null;const e=Bc(Yu(t,12));return"0x0000000000000000000000000000000000000000"===e?null:e}contractAddress(t){return function(t){let e=null;try{e=Bc(t.from)}catch(e){Cc.throwArgumentError("missing from address","transaction",t)}return Bc(Yu(Ic(Rc([e,Vu(Hu(lc.from(t.nonce).toHexString()))])),12))}(t)}blockTag(t){if(null==t)return"latest";if("earliest"===t)return"0x0";if("latest"===t||"pending"===t)return t;if("number"==typeof t||Ju(t))return tc(t);throw new Error("invalid blockTag")}hash(t,e){const r=this.hex(t,e);return 32!==Zu(r)?gm.throwArgumentError("invalid hash","value",t):r}difficulty(t){if(null==t)return null;const e=lc.from(t);try{return e.toNumber()}catch(t){}return null}uint256(t){if(!Ju(t))throw new Error("invalid uint256");return ec(t,32)}_block(t,e){null!=t.author&&null==t.miner&&(t.miner=t.author);const r=null!=t._difficulty?t._difficulty:t.difficulty,n=vm.check(e,t);return n._difficulty=null==r?null:lc.from(r),n}block(t){return this._block(t,this.formats.block)}blockWithTransactions(t){return this._block(t,this.formats.blockWithTransactions)}transactionRequest(t){return vm.check(this.formats.transactionRequest,t)}transactionResponse(t){null!=t.gas&&null==t.gasLimit&&(t.gasLimit=t.gas),t.to&&lc.from(t.to).isZero()&&(t.to="0x0000000000000000000000000000000000000000"),null!=t.input&&null==t.data&&(t.data=t.input),null==t.to&&null==t.creates&&(t.creates=this.contractAddress(t)),1!==t.type&&2!==t.type||null!=t.accessList||(t.accessList=[]);const e=vm.check(this.formats.transaction,t);if(null!=t.chainId){let r=t.chainId;Ju(r)&&(r=lc.from(r).toNumber()),e.chainId=r}else{let r=t.networkId;null==r&&null==e.v&&(r=t.chainId),Ju(r)&&(r=lc.from(r).toNumber()),"number"!=typeof r&&null!=e.v&&(r=(e.v-35)/2,r<0&&(r=0),r=parseInt(r)),"number"!=typeof r&&(r=0),e.chainId=r}return e.blockHash&&"x"===e.blockHash.replace(/0/g,"")&&(e.blockHash=null),e}transaction(t){return Dp(t)}receiptLog(t){return vm.check(this.formats.receiptLog,t)}receipt(t){const e=vm.check(this.formats.receipt,t);if(null!=e.root)if(e.root.length<=4){const t=lc.from(e.root).toNumber();0===t||1===t?(null!=e.status&&e.status!==t&&gm.throwArgumentError("alt-root-status/status mismatch","value",{root:e.root,status:e.status}),e.status=t,delete e.root):gm.throwArgumentError("invalid alt-root-status","value.root",e.root)}else 66!==e.root.length&&gm.throwArgumentError("invalid root hash","value.root",e.root);return null!=e.status&&(e.byzantium=!0),e}topics(t){return Array.isArray(t)?t.map((t=>this.topics(t))):null!=t?this.hash(t,!0):null}filter(t){return vm.check(this.formats.filter,t)}filterLog(t){return vm.check(this.formats.filterLog,t)}static check(t,e){const r={};for(const n in t)try{const i=t[n](e[n]);void 0!==i&&(r[n]=i)}catch(t){throw t.checkKey=n,t.checkValue=e[n],t}return r}static allowNull(t,e){return function(r){return null==r?e:t(r)}}static allowFalsish(t,e){return function(r){return r?t(r):e}}static arrayOf(t){return function(e){if(!Array.isArray(e))throw new Error("not an array");const r=[];return e.forEach((function(e){r.push(t(e))})),r}}}var ym=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};const bm=new Bu(mm);function wm(t){return null==t?"null":(32!==Zu(t)&&bm.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function _m(t){for(t=t.slice();t.length>0&&null==t[t.length-1];)t.pop();return t.map((t=>{if(Array.isArray(t)){const e={};t.forEach((t=>{e[wm(t)]=!0}));const r=Object.keys(e);return r.sort(),r.join("|")}return wm(t)})).join("&")}function Em(t){if("string"==typeof t){if(32===Zu(t=t.toLowerCase()))return"tx:"+t;if(-1===t.indexOf(":"))return t}else{if(Array.isArray(t))return"filter:*:"+_m(t);if(class extends class{constructor(t){for(const e in t)this[e]=Ec(t[e])}}{static isForkEvent(t){return!(!t||!t._isForkEvent)}}.isForkEvent(t))throw bm.warn("not implemented"),new Error("not implemented");if(t&&"object"==typeof t)return"filter:"+(t.address||"*")+":"+_m(t.topics||[])}throw new Error("invalid event - "+t)}function Mm(){return(new Date).getTime()}function Am(t){return new Promise((e=>{setTimeout(e,t)}))}const Im=["block","network","pending","poll"];class Sm{constructor(t,e,r){mc(this,"tag",t),mc(this,"listener",e),mc(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const t=this.tag.split(":");return"tx"!==t[0]?null:t[1]}get filter(){const t=this.tag.split(":");if("filter"!==t[0])return null;const e=t[1],r=""===(n=t[2])?[]:n.split(/&/g).map((t=>{if(""===t)return[];const e=t.split("|").map((t=>"null"===t?null:t));return 1===e.length?e[0]:e}));var n;const i={};return r.length>0&&(i.topics=r),e&&"*"!==e&&(i.address=e),i}pollable(){return this.tag.indexOf(":")>=0||Im.indexOf(this.tag)>=0}}const km={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function xm(t){return ec(lc.from(t).toHexString(),32)}function Nm(t){return qp.encode(Wu([t,Yu(zp(zp(t)),0,4)]))}const Rm=new RegExp("^(ipfs)://(.*)$","i"),Tm=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Rm,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Pm(t,e){try{return Jc(Om(t,e))}catch(t){}return null}function Om(t,e){if("0x"===t)return null;const r=lc.from(Yu(t,e,e+32)).toNumber(),n=lc.from(Yu(t,r,r+32)).toNumber();return Yu(t,r+32,r+32+n)}function Cm(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):bm.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function $m(t){const e=Hu(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function Fm(t){if(t.length%32==0)return t;const e=new Uint8Array(32*Math.ceil(t.length/32));return e.set(t),e}function Lm(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=Hu(t[n]);e[n]=$m(r),e.push($m(i.length)),e.push(Fm(i)),r+=32+32*Math.ceil(i.length/32)}return Qu(e)}class Bm{constructor(t,e,r,n){mc(this,"provider",t),mc(this,"name",r),mc(this,"address",t.formatter.address(e)),mc(this,"_resolvedAddress",n)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then((t=>lc.from(t).eq(1))).catch((t=>{if(t.code===Bu.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,t}))),this._supportsEip2544}_fetch(t,e){return ym(this,void 0,void 0,(function*(){const r={to:this.address,ccipReadEnabled:!0,data:Qu([t,fh(this.name),e||"0x"])};let n=!1;(yield this.supportsWildcard())&&(n=!0,r.data=Qu(["0x9061b923",Lm([dh(this.name),r.data])]));try{let t=yield this.provider.call(r);return Hu(t).length%32==4&&bm.throwError("resolver threw error",Bu.errors.CALL_EXCEPTION,{transaction:r,data:t}),n&&(t=Om(t,0)),t}catch(t){if(t.code===Bu.errors.CALL_EXCEPTION)return null;throw t}}))}_fetchBytes(t,e){return ym(this,void 0,void 0,(function*(){const r=yield this._fetch(t,e);return null!=r?Om(r,0):null}))}_getAddress(t,e){const r=km[String(t)];if(null==r&&bm.throwError(`unsupported coin type: ${t}`,Bu.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`}),"eth"===r.ilk)return this.provider.formatter.address(e);const n=Hu(e);if(null!=r.p2pkh){const t=e.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(t){const e=parseInt(t[1],16);if(t[2].length===2*e&&e>=1&&e<=75)return Nm(Wu([[r.p2pkh],"0x"+t[2]]))}}if(null!=r.p2sh){const t=e.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(t){const e=parseInt(t[1],16);if(t[2].length===2*e&&e>=1&&e<=75)return Nm(Wu([[r.p2sh],"0x"+t[2]]))}}if(null!=r.prefix){const t=n[1];let e=n[0];if(0===e?20!==t&&32!==t&&(e=-1):e=-1,e>=0&&n.length===2+t&&t>=1&&t<=75){const t=pm.toWords(n.slice(2));return t.unshift(e),pm.encode(r.prefix,t)}}return null}getAddress(t){return ym(this,void 0,void 0,(function*(){if(null==t&&(t=60),60===t)try{const t=yield this._fetch("0x3b3b57de");return"0x"===t||"0x0000000000000000000000000000000000000000000000000000000000000000"===t?null:this.provider.formatter.callAddress(t)}catch(t){if(t.code===Bu.errors.CALL_EXCEPTION)return null;throw t}const e=yield this._fetchBytes("0xf1cb7e06",xm(t));if(null==e||"0x"===e)return null;const r=this._getAddress(t,e);return null==r&&bm.throwError("invalid or unsupported coin data",Bu.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`,coinType:t,data:e}),r}))}getAvatar(){return ym(this,void 0,void 0,(function*(){const t=[{type:"name",content:this.name}];try{const e=yield this.getText("avatar");if(null==e)return null;for(let r=0;r<Tm.length;r++){const n=e.match(Tm[r]);if(null==n)continue;const i=n[1].toLowerCase();switch(i){case"https":return t.push({type:"url",content:e}),{linkage:t,url:e};case"data":return t.push({type:"data",content:e}),{linkage:t,url:e};case"ipfs":return t.push({type:"ipfs",content:e}),{linkage:t,url:Cm(e)};case"erc721":case"erc1155":{const r="erc721"===i?"0xc87b56dd":"0x0e89341c";t.push({type:i,content:e});const o=this._resolvedAddress||(yield this.getAddress()),s=(n[2]||"").split("/");if(2!==s.length)return null;const a=yield this.provider.formatter.address(s[0]),l=ec(lc.from(s[1]).toHexString(),32);if("erc721"===i){const e=this.provider.formatter.callAddress(yield this.provider.call({to:a,data:Qu(["0x6352211e",l])}));if(o!==e)return null;t.push({type:"owner",content:e})}else if("erc1155"===i){const e=lc.from(yield this.provider.call({to:a,data:Qu(["0x00fdd58e",ec(o,32),l])}));if(e.isZero())return null;t.push({type:"balance",content:e.toString()})}const u={to:this.provider.formatter.address(s[0]),data:Qu([r,l])};let c=Pm(yield this.provider.call(u),0);if(null==c)return null;t.push({type:"metadata-url-base",content:c}),"erc1155"===i&&(c=c.replace("{id}",l.substring(2)),t.push({type:"metadata-url-expanded",content:c})),c.match(/^ipfs:/i)&&(c=Cm(c)),t.push({type:"metadata-url",content:c});const h=yield im(c);if(!h)return null;t.push({type:"metadata",content:JSON.stringify(h)});let f=h.image;if("string"!=typeof f)return null;if(f.match(/^(https:\/\/|data:)/i));else{if(null==f.match(Rm))return null;t.push({type:"url-ipfs",content:f}),f=Cm(f)}return t.push({type:"url",content:f}),{linkage:t,url:f}}}}}catch(t){}return null}))}getContentHash(){return ym(this,void 0,void 0,(function*(){const t=yield this._fetchBytes("0xbc1c58d1");if(null==t||"0x"===t)return null;const e=t.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const t=parseInt(e[3],16);if(e[4].length===2*t)return"ipfs://"+qp.encode("0x"+e[1])}const r=t.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const t=parseInt(r[3],16);if(r[4].length===2*t)return"ipns://"+qp.encode("0x"+r[1])}const n=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return"bzz://"+n[1];const i=t.match(/^0x90b2c605([0-9a-f]*)$/);if(i&&68===i[1].length){const t={"=":"","+":"-","/":"_"},e=Zp("0x"+i[1]).replace(/[=+\/]/g,(e=>t[e]));return"sia://"+e}return bm.throwError("invalid or unsupported content hash data",Bu.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:t})}))}getText(t){return ym(this,void 0,void 0,(function*(){let e=Wc(t);e=Wu([xm(64),xm(e.length),e]),e.length%32!=0&&(e=Wu([e,ec("0x",32-t.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",Xu(e));return null==r||"0x"===r?null:Jc(r)}))}}let Dm=null,Um=1;class qm extends Ph{constructor(t){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),mc(this,"anyNetwork","any"===t),this.anyNetwork&&(t=this.detectNetwork()),t instanceof Promise)this._networkPromise=t,t.catch((t=>{})),this._ready().catch((t=>{}));else{const e=gc(new.target,"getNetwork")(t);e?(mc(this,"_network",e),this.emit("network",e,null)):bm.throwArgumentError("invalid network","network",t)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return ym(this,void 0,void 0,(function*(){if(null==this._network){let t=null;if(this._networkPromise)try{t=yield this._networkPromise}catch(t){}null==t&&(t=yield this.detectNetwork()),t||bm.throwError("no network detected",Bu.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=t:mc(this,"_network",t),this.emit("network",t,null))}return this._network}))}get ready(){return om((()=>this._ready().then((t=>t),(t=>{if(t.code!==Bu.errors.NETWORK_ERROR||"noNetwork"!==t.event)throw t}))))}static getFormatter(){return null==Dm&&(Dm=new vm),Dm}static getNetwork(t){return function(t){if(null==t)return null;if("number"==typeof t){for(const e in Kp){const r=Kp[e];if(r.chainId===t)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:t,name:"unknown"}}if("string"==typeof t){const e=Kp[t];return null==e?null:{name:e.name,chainId:e.chainId,ensAddress:e.ensAddress,_defaultProvider:e._defaultProvider||null}}const e=Kp[t.name];if(!e)return"number"!=typeof t.chainId&&jp.throwArgumentError("invalid network chainId","network",t),t;0!==t.chainId&&t.chainId!==e.chainId&&jp.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;var n;return null==r&&e._defaultProvider&&(r=(n=e._defaultProvider)&&"function"==typeof n.renetwork?e._defaultProvider.renetwork(t):e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}(null==t?"homestead":t)}ccipReadFetch(t,e,r){return ym(this,void 0,void 0,(function*(){if(this.disableCcipRead||0===r.length)return null;const n=t.to.toLowerCase(),i=e.toLowerCase(),o=[];for(let t=0;t<r.length;t++){const e=r[t],s=e.replace("{sender}",n).replace("{data}",i),a=e.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:n}),l=yield im({url:s,errorPassThrough:!0},a,((t,e)=>(t.status=e.statusCode,t)));if(l.data)return l.data;const u=l.message||"unknown error";if(l.status>=400&&l.status<500)return bm.throwError(`response not found during CCIP fetch: ${u}`,Bu.errors.SERVER_ERROR,{url:e,errorMessage:u});o.push(u)}return bm.throwError(`error encountered during CCIP fetch: ${o.map((t=>JSON.stringify(t))).join(", ")}`,Bu.errors.SERVER_ERROR,{urls:r,errorMessages:o})}))}_getInternalBlockNumber(t){return ym(this,void 0,void 0,(function*(){if(yield this._ready(),t>0)for(;this._internalBlockNumber;){const e=this._internalBlockNumber;try{const r=yield e;if(Mm()-r.respTime<=t)return r.blockNumber;break}catch(t){if(this._internalBlockNumber===e)break}}const e=Mm(),r=vc({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((t=>null),(t=>t))}).then((({blockNumber:t,networkError:n})=>{if(n)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),n;const i=Mm();return(t=lc.from(t).toNumber())<this._maxInternalBlockNumber&&(t=this._maxInternalBlockNumber),this._maxInternalBlockNumber=t,this._setFastBlockNumber(t),{blockNumber:t,reqTime:e,respTime:i}}));return this._internalBlockNumber=r,r.catch((t=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)})),(yield r).blockNumber}))}poll(){return ym(this,void 0,void 0,(function*(){const t=Um++,e=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(t){return void this.emit("error",t)}if(this._setFastBlockNumber(r),this.emit("poll",t,r),r!==this._lastBlockNumber){if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)bm.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",bm.makeError("network block skew detected",Bu.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let t=this._emitted.block+1;t<=r;t++)this.emit("block",t);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach((t=>{if("block"===t)return;const e=this._emitted[t];"pending"!==e&&r-e>12&&delete this._emitted[t]}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach((t=>{switch(t.type){case"tx":{const r=t.hash;let n=this.getTransactionReceipt(r).then((t=>t&&null!=t.blockNumber?(this._emitted["t:"+r]=t.blockNumber,this.emit(r,t),null):null)).catch((t=>{this.emit("error",t)}));e.push(n);break}case"filter":if(!t._inflight){t._inflight=!0;const n=t.filter;n.fromBlock=t._lastBlockNumber+1,n.toBlock=r,n.toBlock-this._maxFilterBlockRange>n.fromBlock&&(n.fromBlock=n.toBlock-this._maxFilterBlockRange);const i=this.getLogs(n).then((e=>{t._inflight=!1,0!==e.length&&e.forEach((e=>{e.blockNumber>t._lastBlockNumber&&(t._lastBlockNumber=e.blockNumber),this._emitted["b:"+e.blockHash]=e.blockNumber,this._emitted["t:"+e.transactionHash]=e.blockNumber,this.emit(n,e)}))})).catch((e=>{this.emit("error",e),t._inflight=!1}));e.push(i)}}})),this._lastBlockNumber=r,Promise.all(e).then((()=>{this.emit("didPoll",t)})).catch((t=>{this.emit("error",t)}))}else this.emit("didPoll",t)}))}resetEventsBlock(t){this._lastBlockNumber=t-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return ym(this,void 0,void 0,(function*(){return bm.throwError("provider does not support network detection",Bu.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})}))}getNetwork(){return ym(this,void 0,void 0,(function*(){const t=yield this._ready(),e=yield this.detectNetwork();if(t.chainId!==e.chainId){if(this.anyNetwork)return this._network=e,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",e,t),yield Am(0),this._network;const r=bm.makeError("underlying network changed",Bu.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:e});throw this.emit("error",r),r}return t}))}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then((t=>{this._setFastBlockNumber(t)}),(t=>{})),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(t){t&&!this._poller?(this._poller=setInterval((()=>{this.poll()}),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((()=>{this.poll(),this._bootstrapPoll=setTimeout((()=>{this._poller||this.poll(),this._bootstrapPoll=null}),this.pollingInterval)}),0))):!t&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(t){if("number"!=typeof t||t<=0||parseInt(String(t))!=t)throw new Error("invalid polling interval");this._pollingInterval=t,this._poller&&(clearInterval(this._poller),this._poller=setInterval((()=>{this.poll()}),this._pollingInterval))}_getFastBlockNumber(){const t=Mm();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then((t=>((null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber)))),this._fastBlockNumberPromise}_setFastBlockNumber(t){null!=this._fastBlockNumber&&t<this._fastBlockNumber||(this._fastQueryDate=Mm(),(null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t,this._fastBlockNumberPromise=Promise.resolve(t)))}waitForTransaction(t,e,r){return ym(this,void 0,void 0,(function*(){return this._waitForTransaction(t,null==e?1:e,r||0,null)}))}_waitForTransaction(t,e,r,n){return ym(this,void 0,void 0,(function*(){const i=yield this.getTransactionReceipt(t);return(i?i.confirmations:0)>=e?i:new Promise(((i,o)=>{const s=[];let a=!1;const l=function(){return!!a||(a=!0,s.forEach((t=>{t()})),!1)},u=t=>{t.confirmations<e||l()||i(t)};if(this.on(t,u),s.push((()=>{this.removeListener(t,u)})),n){let r=n.startBlock,i=null;const u=s=>ym(this,void 0,void 0,(function*(){a||(yield Am(1e3),this.getTransactionCount(n.from).then((c=>ym(this,void 0,void 0,(function*(){if(!a){if(c<=n.nonce)r=s;else{{const e=yield this.getTransaction(t);if(e&&null!=e.blockNumber)return}for(null==i&&(i=r-3,i<n.startBlock&&(i=n.startBlock));i<=s;){if(a)return;const r=yield this.getBlockWithTransactions(i);for(let i=0;i<r.transactions.length;i++){const s=r.transactions[i];if(s.hash===t)return;if(s.from===n.from&&s.nonce===n.nonce){if(a)return;const r=yield this.waitForTransaction(s.hash,e);if(l())return;let i="replaced";return s.data===n.data&&s.to===n.to&&s.value.eq(n.value)?i="repriced":"0x"===s.data&&s.from===s.to&&s.value.isZero()&&(i="cancelled"),void o(bm.makeError("transaction was replaced",Bu.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:this._wrapTransaction(s),hash:t,receipt:r}))}}i++}}a||this.once("block",u)}}))),(t=>{a||this.once("block",u)})))}));if(a)return;this.once("block",u),s.push((()=>{this.removeListener("block",u)}))}if("number"==typeof r&&r>0){const t=setTimeout((()=>{l()||o(bm.makeError("timeout exceeded",Bu.errors.TIMEOUT,{timeout:r}))}),r);t.unref&&t.unref(),s.push((()=>{clearTimeout(t)}))}}))}))}getBlockNumber(){return ym(this,void 0,void 0,(function*(){return this._getInternalBlockNumber(0)}))}getGasPrice(){return ym(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield this.perform("getGasPrice",{});try{return lc.from(t)}catch(e){return bm.throwError("bad result from backend",Bu.errors.SERVER_ERROR,{method:"getGasPrice",result:t,error:e})}}))}getBalance(t,e){return ym(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield vc({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getBalance",r);try{return lc.from(n)}catch(t){return bm.throwError("bad result from backend",Bu.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:t})}}))}getTransactionCount(t,e){return ym(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield vc({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getTransactionCount",r);try{return lc.from(n).toNumber()}catch(t){return bm.throwError("bad result from backend",Bu.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:t})}}))}getCode(t,e){return ym(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield vc({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getCode",r);try{return Xu(n)}catch(t){return bm.throwError("bad result from backend",Bu.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:t})}}))}getStorageAt(t,e,r){return ym(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield vc({address:this._getAddress(t),blockTag:this._getBlockTag(r),position:Promise.resolve(e).then((t=>tc(t)))}),i=yield this.perform("getStorageAt",n);try{return Xu(i)}catch(t){return bm.throwError("bad result from backend",Bu.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:i,error:t})}}))}_wrapTransaction(t,e,r){if(null!=e&&32!==Zu(e))throw new Error("invalid response - sendTransaction");const n=t;return null!=e&&t.hash!==e&&bm.throwError("Transaction hash mismatch from Provider.sendTransaction.",Bu.errors.UNKNOWN_ERROR,{expectedHash:t.hash,returnedHash:e}),n.wait=(e,n)=>ym(this,void 0,void 0,(function*(){let i;null==e&&(e=1),null==n&&(n=0),0!==e&&null!=r&&(i={data:t.data,from:t.from,nonce:t.nonce,to:t.to,value:t.value,startBlock:r});const o=yield this._waitForTransaction(t.hash,e,n,i);return null==o&&0===e?null:(this._emitted["t:"+t.hash]=o.blockNumber,0===o.status&&bm.throwError("transaction failed",Bu.errors.CALL_EXCEPTION,{transactionHash:t.hash,transaction:t,receipt:o}),o)})),n}sendTransaction(t){return ym(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield Promise.resolve(t).then((t=>Xu(t))),r=this.formatter.transaction(t);null==r.confirmations&&(r.confirmations=0);const n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const t=yield this.perform("sendTransaction",{signedTransaction:e});return this._wrapTransaction(r,t,n)}catch(t){throw t.transaction=r,t.transactionHash=r.hash,t}}))}_getTransactionRequest(t){return ym(this,void 0,void 0,(function*(){const e=yield t,r={};return["from","to"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?this._getAddress(t):null)))})),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?lc.from(t):null)))})),["type"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>null!=t?t:null)))})),e.accessList&&(r.accessList=this.formatter.accessList(e.accessList)),["data"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?Xu(t):null)))})),this.formatter.transactionRequest(yield vc(r))}))}_getFilter(t){return ym(this,void 0,void 0,(function*(){t=yield t;const e={};return null!=t.address&&(e.address=this._getAddress(t.address)),["blockHash","topics"].forEach((r=>{null!=t[r]&&(e[r]=t[r])})),["fromBlock","toBlock"].forEach((r=>{null!=t[r]&&(e[r]=this._getBlockTag(t[r]))})),this.formatter.filter(yield vc(e))}))}_call(t,e,r){return ym(this,void 0,void 0,(function*(){r>=10&&bm.throwError("CCIP read exceeded maximum redirections",Bu.errors.SERVER_ERROR,{redirects:r,transaction:t});const n=t.to,i=yield this.perform("call",{transaction:t,blockTag:e});if(r>=0&&"latest"===e&&null!=n&&"0x556f1830"===i.substring(0,10)&&Zu(i)%32==4)try{const o=Yu(i,4),s=Yu(o,0,32);lc.from(s).eq(n)||bm.throwError("CCIP Read sender did not match",Bu.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i});const a=[],l=lc.from(Yu(o,32,64)).toNumber(),u=lc.from(Yu(o,l,l+32)).toNumber(),c=Yu(o,l+32);for(let e=0;e<u;e++){const r=Pm(c,32*e);null==r&&bm.throwError("CCIP Read contained corrupt URL string",Bu.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i}),a.push(r)}const h=Om(o,64);lc.from(Yu(o,100,128)).isZero()||bm.throwError("CCIP Read callback selector included junk",Bu.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i});const f=Yu(o,96,100),d=Om(o,128),p=yield this.ccipReadFetch(t,h,a);null==p&&bm.throwError("CCIP Read disabled or provided no URLs",Bu.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i});const m={to:n,data:Qu([f,Lm([p,d])])};return this._call(m,e,r+1)}catch(t){if(t.code===Bu.errors.SERVER_ERROR)throw t}try{return Xu(i)}catch(r){return bm.throwError("bad result from backend",Bu.errors.SERVER_ERROR,{method:"call",params:{transaction:t,blockTag:e},result:i,error:r})}}))}call(t,e){return ym(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield vc({transaction:this._getTransactionRequest(t),blockTag:this._getBlockTag(e),ccipReadEnabled:Promise.resolve(t.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)}))}estimateGas(t){return ym(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield vc({transaction:this._getTransactionRequest(t)}),r=yield this.perform("estimateGas",e);try{return lc.from(r)}catch(t){return bm.throwError("bad result from backend",Bu.errors.SERVER_ERROR,{method:"estimateGas",params:e,result:r,error:t})}}))}_getAddress(t){return ym(this,void 0,void 0,(function*(){"string"!=typeof(t=yield t)&&bm.throwArgumentError("invalid address or ENS name","name",t);const e=yield this.resolveName(t);return null==e&&bm.throwError("ENS name not configured",Bu.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(t)})`}),e}))}_getBlock(t,e){return ym(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;let r=-128;const n={includeTransactions:!!e};if(Ju(t,32))n.blockHash=t;else try{n.blockTag=yield this._getBlockTag(t),Ju(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16))}catch(e){bm.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",t)}return om((()=>ym(this,void 0,void 0,(function*(){const t=yield this.perform("getBlock",n);if(null==t)return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?null:void 0;if(e){let e=null;for(let r=0;r<t.transactions.length;r++){const n=t.transactions[r];if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){null==e&&(e=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let t=e-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}}const r=this.formatter.blockWithTransactions(t);return r.transactions=r.transactions.map((t=>this._wrapTransaction(t))),r}return this.formatter.block(t)}))),{oncePoll:this})}))}getBlock(t){return this._getBlock(t,!1)}getBlockWithTransactions(t){return this._getBlock(t,!0)}getTransaction(t){return ym(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return om((()=>ym(this,void 0,void 0,(function*(){const r=yield this.perform("getTransaction",e);if(null==r)return null==this._emitted["t:"+t]?null:void 0;const n=this.formatter.transactionResponse(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let t=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}return this._wrapTransaction(n)}))),{oncePoll:this})}))}getTransactionReceipt(t){return ym(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return om((()=>ym(this,void 0,void 0,(function*(){const r=yield this.perform("getTransactionReceipt",e);if(null==r)return null==this._emitted["t:"+t]?null:void 0;if(null==r.blockHash)return;const n=this.formatter.receipt(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let t=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}return n}))),{oncePoll:this})}))}getLogs(t){return ym(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield vc({filter:this._getFilter(t)}),r=yield this.perform("getLogs",e);return r.forEach((t=>{null==t.removed&&(t.removed=!1)})),vm.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)}))}getEtherPrice(){return ym(this,void 0,void 0,(function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})}))}_getBlockTag(t){return ym(this,void 0,void 0,(function*(){if("number"==typeof(t=yield t)&&t<0){t%1&&bm.throwArgumentError("invalid BlockTag","blockTag",t);let e=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return e+=t,e<0&&(e=0),this.formatter.blockTag(e)}return this.formatter.blockTag(t)}))}getResolver(t){return ym(this,void 0,void 0,(function*(){let e=t;for(;;){if(""===e||"."===e)return null;if("eth"!==t&&"eth"===e)return null;const r=yield this._getResolver(e,"getResolver");if(null!=r){const n=new Bm(this,r,t);return e===t||(yield n.supportsWildcard())?n:null}e=e.split(".").slice(1).join(".")}}))}_getResolver(t,e){return ym(this,void 0,void 0,(function*(){null==e&&(e="ENS");const r=yield this.getNetwork();r.ensAddress||bm.throwError("network does not support ENS",Bu.errors.UNSUPPORTED_OPERATION,{operation:e,network:r.name});try{const e=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+fh(t).substring(2)});return this.formatter.callAddress(e)}catch(t){}return null}))}resolveName(t){return ym(this,void 0,void 0,(function*(){t=yield t;try{return Promise.resolve(this.formatter.address(t))}catch(e){if(Ju(t))throw e}"string"!=typeof t&&bm.throwArgumentError("invalid ENS name","name",t);const e=yield this.getResolver(t);return e?yield e.getAddress():null}))}lookupAddress(t){return ym(this,void 0,void 0,(function*(){t=yield t;const e=(t=this.formatter.address(t)).substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(e,"lookupAddress");if(null==r)return null;const n=Pm(yield this.call({to:r,data:"0x691f3431"+fh(e).substring(2)}),0);return(yield this.resolveName(n))!=t?null:n}))}getAvatar(t){return ym(this,void 0,void 0,(function*(){let e=null;if(Ju(t)){const r=this.formatter.address(t).substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"getAvatar");if(!n)return null;e=new Bm(this,n,r);try{const t=yield e.getAvatar();if(t)return t.url}catch(t){if(t.code!==Bu.errors.CALL_EXCEPTION)throw t}try{const t=Pm(yield this.call({to:n,data:"0x691f3431"+fh(r).substring(2)}),0);e=yield this.getResolver(t)}catch(t){if(t.code!==Bu.errors.CALL_EXCEPTION)throw t;return null}}else if(e=yield this.getResolver(t),!e)return null;const r=yield e.getAvatar();return null==r?null:r.url}))}perform(t,e){return bm.throwError(t+" not implemented",Bu.errors.NOT_IMPLEMENTED,{operation:t})}_startEvent(t){this.polling=this._events.filter((t=>t.pollable())).length>0}_stopEvent(t){this.polling=this._events.filter((t=>t.pollable())).length>0}_addEventListener(t,e,r){const n=new Sm(Em(t),e,r);return this._events.push(n),this._startEvent(n),this}on(t,e){return this._addEventListener(t,e,!1)}once(t,e){return this._addEventListener(t,e,!0)}emit(t,...e){let r=!1,n=[],i=Em(t);return this._events=this._events.filter((t=>t.tag!==i||(setTimeout((()=>{t.listener.apply(this,e)}),0),r=!0,!t.once||(n.push(t),!1)))),n.forEach((t=>{this._stopEvent(t)})),r}listenerCount(t){if(!t)return this._events.length;let e=Em(t);return this._events.filter((t=>t.tag===e)).length}listeners(t){if(null==t)return this._events.map((t=>t.listener));let e=Em(t);return this._events.filter((t=>t.tag===e)).map((t=>t.listener))}off(t,e){if(null==e)return this.removeAllListeners(t);const r=[];let n=!1,i=Em(t);return this._events=this._events.filter((t=>t.tag!==i||t.listener!=e||(!!n||(n=!0,r.push(t),!1)))),r.forEach((t=>{this._stopEvent(t)})),this}removeAllListeners(t){let e=[];if(null==t)e=this._events,this._events=[];else{const r=Em(t);this._events=this._events.filter((t=>t.tag!==r||(e.push(t),!1)))}return e.forEach((t=>{this._stopEvent(t)})),this}}var zm=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};const jm=new Bu(mm),Gm=["call","estimateGas"];function Hm(t,e){if(null==t)return null;if("string"==typeof t.message&&t.message.match("reverted")){const r=Ju(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if("object"==typeof t){for(const r in t){const n=Hm(t[r],e);if(n)return n}return null}if("string"==typeof t)try{return Hm(JSON.parse(t),e)}catch(t){}return null}function Wm(t,e,r){const n=r.transaction||r.signedTransaction;if("call"===t){const t=Hm(e,!0);if(t)return t.data;jm.throwError("missing revert data in call exception; Transaction reverted without a reason string",Bu.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if("estimateGas"===t){let r=Hm(e.body,!1);null==r&&(r=Hm(e,!1)),r&&jm.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Bu.errors.UNPREDICTABLE_GAS_LIMIT,{reason:r.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===Bu.errors.SERVER_ERROR&&e.error&&"string"==typeof e.error.message?i=e.error.message:"string"==typeof e.body?i=e.body:"string"==typeof e.responseText&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit/i)&&jm.throwError("insufficient funds for intrinsic transaction cost",Bu.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&jm.throwError("nonce has already been used",Bu.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&jm.throwError("replacement fee too low",Bu.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&jm.throwError("legacy pre-eip-155 transactions not supported",Bu.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),Gm.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&jm.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Bu.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function Vm(t){return new Promise((function(e){setTimeout(e,t)}))}function Jm(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function Km(t){return t?t.toLowerCase():t}const Xm={};class Zm extends Lh{constructor(t,e,r){if(super(),t!==Xm)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");mc(this,"provider",e),null==r&&(r=0),"string"==typeof r?(mc(this,"_address",this.provider.formatter.address(r)),mc(this,"_index",null)):"number"==typeof r?(mc(this,"_index",r),mc(this,"_address",null)):jm.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(t){return jm.throwError("cannot alter JSON-RPC Signer connection",Bu.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new Ym(Xm,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((t=>(t.length<=this._index&&jm.throwError("unknown account #"+this._index,Bu.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(t[this._index]))))}sendUncheckedTransaction(t){t=yc(t);const e=this.getAddress().then((t=>(t&&(t=t.toLowerCase()),t)));if(null==t.gasLimit){const r=yc(t);r.from=e,t.gasLimit=this.provider.estimateGas(r)}return null!=t.to&&(t.to=Promise.resolve(t.to).then((t=>zm(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.provider.resolveName(t);return null==e&&jm.throwArgumentError("provided ENS name resolves to null","tx.to",t),e}))))),vc({tx:vc(t),sender:e}).then((({tx:e,sender:r})=>{null!=e.from?e.from.toLowerCase()!==r&&jm.throwArgumentError("from address mismatch","transaction",t):e.from=r;const n=this.provider.constructor.hexlifyTransaction(e,{from:!0});return this.provider.send("eth_sendTransaction",[n]).then((t=>t),(t=>Wm("sendTransaction",t,n)))}))}signTransaction(t){return jm.throwError("signing transactions is unsupported",Bu.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(t){return zm(this,void 0,void 0,(function*(){const e=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(t);try{return yield om((()=>zm(this,void 0,void 0,(function*(){const t=yield this.provider.getTransaction(r);if(null!==t)return this.provider._wrapTransaction(t,r,e)}))),{oncePoll:this.provider})}catch(t){throw t.transactionHash=r,t}}))}signMessage(t){return zm(this,void 0,void 0,(function*(){const e="string"==typeof t?Wc(t):t,r=yield this.getAddress();return yield this.provider.send("personal_sign",[Xu(e),r.toLowerCase()])}))}_legacySignMessage(t){return zm(this,void 0,void 0,(function*(){const e="string"==typeof t?Wc(t):t,r=yield this.getAddress();return yield this.provider.send("eth_sign",[r.toLowerCase(),Xu(e)])}))}_signTypedData(t,e,r){return zm(this,void 0,void 0,(function*(){const n=yield Nh.resolveNames(t,e,r,(t=>this.provider.resolveName(t))),i=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(Nh.getPayload(n.domain,e,n.value))])}))}unlock(t){return zm(this,void 0,void 0,(function*(){const e=this.provider,r=yield this.getAddress();return e.send("personal_unlockAccount",[r.toLowerCase(),t,null])}))}}class Ym extends Zm{sendTransaction(t){return this.sendUncheckedTransaction(t).then((t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:e=>this.provider.waitForTransaction(t,e)})))}}const Qm={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class tg extends qm{constructor(t,e){let r=e;null==r&&(r=new Promise(((t,e)=>{setTimeout((()=>{this.detectNetwork().then((e=>{t(e)}),(t=>{e(t)}))}),0)}))),super(r),t||(t=gc(this.constructor,"defaultUrl")()),mc(this,"connection","string"==typeof t?Object.freeze({url:t}):Object.freeze(yc(t))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((()=>{this._cache.detectNetwork=null}),0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return zm(this,void 0,void 0,(function*(){yield Vm(0);let t=null;try{t=yield this.send("eth_chainId",[])}catch(e){try{t=yield this.send("net_version",[])}catch(t){}}if(null!=t){const e=gc(this.constructor,"getNetwork");try{return e(lc.from(t).toNumber())}catch(e){return jm.throwError("could not detect network",Bu.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:e})}}return jm.throwError("could not detect network",Bu.errors.NETWORK_ERROR,{event:"noNetwork"})}))}getSigner(t){return new Zm(Xm,this,t)}getUncheckedSigner(t){return this.getSigner(t).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then((t=>t.map((t=>this.formatter.address(t)))))}send(t,e){const r={method:t,params:e,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Ec(r),provider:this});const n=["eth_chainId","eth_blockNumber"].indexOf(t)>=0;if(n&&this._cache[t])return this._cache[t];const i=im(this.connection,JSON.stringify(r),Jm).then((t=>(this.emit("debug",{action:"response",request:r,response:t,provider:this}),t)),(t=>{throw this.emit("debug",{action:"response",error:t,request:r,provider:this}),t}));return n&&(this._cache[t]=i,setTimeout((()=>{this._cache[t]=null}),0)),i}prepareRequest(t,e){switch(t){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Km(e.address),e.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Km(e.address),e.blockTag]];case"getCode":return["eth_getCode",[Km(e.address),e.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Km(e.address),ec(e.position,32),e.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[e.signedTransaction]];case"getBlock":return e.blockTag?["eth_getBlockByNumber",[e.blockTag,!!e.includeTransactions]]:e.blockHash?["eth_getBlockByHash",[e.blockHash,!!e.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[e.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[e.transactionHash]];case"call":return["eth_call",[gc(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0}),e.blockTag]];case"estimateGas":return["eth_estimateGas",[gc(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0})]];case"getLogs":return e.filter&&null!=e.filter.address&&(e.filter.address=Km(e.filter.address)),["eth_getLogs",[e.filter]]}return null}perform(t,e){return zm(this,void 0,void 0,(function*(){if("call"===t||"estimateGas"===t){const t=e.transaction;if(t&&null!=t.type&&lc.from(t.type).isZero()&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const r=yield this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&((e=yc(e)).transaction=yc(t),delete e.transaction.type)}}const r=this.prepareRequest(t,e);null==r&&jm.throwError(t+" not implemented",Bu.errors.NOT_IMPLEMENTED,{operation:t});try{return yield this.send(r[0],r[1])}catch(r){return Wm(t,r,e)}}))}_startEvent(t){"pending"===t.tag&&this._startPending(),super._startEvent(t)}_startPending(){if(null!=this._pendingFilter)return;const t=this,e=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=e,e.then((function(r){return function n(){t.send("eth_getFilterChanges",[r]).then((function(r){if(t._pendingFilter!=e)return null;let n=Promise.resolve();return r.forEach((function(e){t._emitted["t:"+e.toLowerCase()]="pending",n=n.then((function(){return t.getTransaction(e).then((function(e){return t.emit("pending",e),null}))}))})),n.then((function(){return Vm(1e3)}))})).then((function(){if(t._pendingFilter==e)return setTimeout((function(){n()}),0),null;t.send("eth_uninstallFilter",[r])})).catch((t=>{}))}(),r})).catch((t=>{}))}_stopEvent(t){"pending"===t.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(t)}static hexlifyTransaction(t,e){const r=yc(Qm);if(e)for(const t in e)e[t]&&(r[t]=!0);var n,i;i=r,(n=t)&&"object"==typeof n||pc.throwArgumentError("invalid object","object",n),Object.keys(n).forEach((t=>{i[t]||pc.throwArgumentError("invalid object key - "+t,"transaction:"+t,n)}));const o={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(e){if(null==t[e])return;const r=tc(lc.from(t[e]));"gasLimit"===e&&(e="gas"),o[e]=r})),["from","to","data"].forEach((function(e){null!=t[e]&&(o[e]=Xu(t[e]))})),t.accessList&&(o.accessList=Cp(t.accessList)),o}}const eg=new Bu(mm);let rg=1;function ng(t,e){const r="Web3LegacyFetcher";return function(t,n){const i={method:t,params:n,id:rg++,jsonrpc:"2.0"};return new Promise(((t,n)=>{this.emit("debug",{action:"request",fetcher:r,request:Ec(i),provider:this}),e(i,((e,o)=>{if(e)return this.emit("debug",{action:"response",fetcher:r,error:e,request:i,provider:this}),n(e);if(this.emit("debug",{action:"response",fetcher:r,request:i,response:o,provider:this}),o.error){const t=new Error(o.error.message);return t.code=o.error.code,t.data=o.error.data,n(t)}t(o.result)}))}))}}class ig extends tg{constructor(t,e){null==t&&eg.throwArgumentError("missing provider","provider",t);let r=null,n=null,i=null;"function"==typeof t?(r="unknown:",n=t):(r=t.host||t.path||"",!r&&t.isMetaMask&&(r="metamask"),i=t,t.request?(""===r&&(r="eip-1193:"),n=function(t){return function(e,r){null==r&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Ec(n),provider:this}),t.request(n).then((t=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:t,provider:this}),t)),(t=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:t,provider:this}),t}))}}(t)):t.sendAsync?n=ng(0,t.sendAsync.bind(t)):t.send?n=ng(0,t.send.bind(t)):eg.throwArgumentError("unsupported provider","provider",t),r||(r="unknown:")),super(r,e),mc(this,"jsonRpcFetchFunc",n),mc(this,"provider",i)}send(t,e){return this.jsonRpcFetchFunc(t,e)}}const og=(t=window.location.hash)=>{let e="",r=0,n="",i="-1",o="",s="";if(t){const a=t.match(/^#\/(([a-z]+)|([0-9]+))?(\/(0x[0-9abcdefABCDEF]{40})(\/([0-9]+))?)?(\/([a-z]+))?(@(0x[0-9abcdefABCDEF]{40}))?$/);if(a){const t=a[2],l=Number(a[3]);e=t||jl(l),r=l||(t=>{var e;return null===(e=Tl.find((e=>e.chainName===t)))||void 0===e?void 0:e.chainId})(t),n=a[5],i=a[7],o=a[9],s=a[11]}}return{chainName:e,chainId:r,address:n,tokenID:i,action:o,account:s}},sg=xt(),ag=xt(),lg=xt(),ug=xt();let cg,hg=!1;const fg="Connect to Metamask",dg="Please install MetaMask extension to connect";let pg=!1;const mg=t=>{gg(t).catch(console.error)},gg=async t=>{if(console.log(`handleChainId ${t}`),t&&t!=h(sg)){const e=Bl(t);e?sg.set(Number(e.chainId)):await yg(Tl[0].chainId)}},vg=t=>{console.log("handleAccountsSync",t),0===(null==t?void 0:t.length)?bg():t[0]!==String(h(ag))&&(ug.set(h(lg).getSigner(0)),ag.set(Ll(t[0])))},yg=async t=>{if(console.log(`metamaskSwitchChain ${t}`),t>0&&t!=Number(h(sg)))try{await cg.request({method:"wallet_switchEthereumChain",params:[{chainId:Yl(t)}]})}catch(e){4902===e.code&&(t=>{if(t&&(console.log("addEthereumChain",t),pg&&console.warn("Already connecting network..."),pg=!0,1!==t)){const e=Bl(t);if(e){const t={chainId:Yl(e.chainId),blockExplorerUrls:e.blockExplorerUrls,chainName:e.chainName,iconUrls:[],nativeCurrency:e.nativeCurrency,rpcUrls:e.rpcUrls};cg.request({method:"wallet_addEthereumChain",params:[t]}).catch((t=>console.error("Metamask ERROR wallet_addEthereumChain",t)))}}})(t)}},bg=()=>{console.log("metamaskConnect"),cg.request({method:"eth_requestAccounts"}).then(vg).catch((t=>{4001===t.code?alert(fg):console.error("Metamask ERROR eth_requestAccounts",t)}))};function wg(t){let e,r,n,i,o,s,a,l,u,c;return{c(){e=T("span"),r=P("Address\n    "),n=T("a"),i=T("i"),a=O(),l=T("div"),u=T("input"),F(i,"class","fas fa-info-circle"),F(n,"class","info-button"),F(n,"href",o=cu(`/address/${t[0]}`)),F(n,"target","_blank"),F(n,"title",s="\tOwner address (click to view account in explorer )\r"+t[2]),F(e,"class","label"),F(u,"type","text"),u.value=c=Kl(t[2],10),F(l,"class","form-field")},m(t,o){x(t,e,o),I(e,r),I(e,n),I(n,i),x(t,a,o),x(t,l,o),I(l,u)},p(t,e){1&e&&o!==(o=cu(`/address/${t[0]}`))&&F(n,"href",o),4&e&&s!==(s="\tOwner address (click to view account in explorer )\r"+t[2])&&F(n,"title",s),4&e&&c!==(c=Kl(t[2],10))&&u.value!==c&&(u.value=c)},d(t){t&&N(e),t&&N(a),t&&N(l)}}}function _g(t){let e,r;return{c(){e=P("Address\n  "),r=P(t[2])},m(t,n){x(t,e,n),x(t,r,n)},p(t,e){4&e&&L(r,t[2])},d(t){t&&N(e),t&&N(r)}}}function Eg(t){let r;function n(t,e){return t[1]?_g:wg}let i=n(t),o=i(t);return{c(){o.c(),r=C()},m(t,e){o.m(t,e),x(t,r,e)},p(t,[e]){i===(i=n(t))&&o?o.p(t,e):(o.d(1),o=i(t),o&&(o.c(),o.m(r.parentNode,r)))},i:e,o:e,d(t){o.d(t),t&&N(r)}}}function Mg(t,e,r){let n,{account:i}=e,{txt:o}=e;const s=async t=>r(2,n=await(async t=>{let e="";try{const r=new Sl("https://mainnet.infura.io/v3/fc2d1a3eead04bdf9dd64a8b7be9f701");e=await r.lookupAddress(t)||""}catch(t){console.error("NO ENS found")}return e||t||""})(t));return t.$$set=t=>{"account"in t&&r(0,i=t.account),"txt"in t&&r(1,o=t.txt)},t.$$.update=()=>{1&t.$$.dirty&&i&&(r(2,n=i),s(i).catch(console.error))},[i,o,n]}class Ag extends St{constructor(t){super(),It(this,t,Mg,Eg,a,{account:0,txt:1})}}function Ig(t){let e,r,n,i;const o=[Ng,xg,kg],s=[];function a(t,e){return t[0]?0:2}return r=a(t),n=s[r]=o[r](t),{c(){e=T("div"),n.c(),F(e,"class","col col-xs-12 col-sm-3")},m(t,n){x(t,e,n),s[r].m(e,null),i=!0},p(t,i){let l=r;r=a(t),r===l?s[r].p(t,i):(pt(),vt(s[l],1,1,(()=>{s[l]=null})),mt(),n=s[r],n?n.p(t,i):(n=s[r]=o[r](t),n.c()),gt(n,1),n.m(e,null))},i(t){i||(gt(n),i=!0)},o(t){vt(n),i=!1},d(t){t&&N(e),s[r].d()}}}function Sg(t){let e,r,n,i;const o=[Pg,Tg,Rg],s=[];function a(t,e){return t[0]?0:2}return e=a(t),r=s[e]=o[e](t),{c(){r.c(),n=C()},m(t,r){s[e].m(t,r),x(t,n,r),i=!0},p(t,i){let l=e;e=a(t),e===l?s[e].p(t,i):(pt(),vt(s[l],1,1,(()=>{s[l]=null})),mt(),r=s[e],r?r.p(t,i):(r=s[e]=o[e](t),r.c()),gt(r,1),r.m(n.parentNode,n))},i(t){i||(gt(r),i=!0)},o(t){vt(r),i=!1},d(t){s[e].d(t),t&&N(n)}}}function kg(t){let r,n,i;return{c(){r=T("a"),r.textContent="Connect to Metamask",F(r,"href","."),F(r,"class","btn btn-light btn-metamask")},m(e,o){x(e,r,o),n||(i=$(r,"click",t[2]),n=!0)},p:e,i:e,o:e,d(t){t&&N(r),n=!1,i()}}}function xg(t){let r;return{c(){r=T("div"),r.textContent=`${dg}`,F(r,"class","btn btn-light btn-metamask")},m(t,e){x(t,r,e)},p:e,i:e,o:e,d(t){t&&N(r)}}}function Ng(t){let e,r;return e=new Ag({props:{account:t[0],txt:t[1]}}),{c(){_t(e.$$.fragment)},m(t,n){Et(e,t,n),r=!0},p(t,r){const n={};1&r&&(n.account=t[0]),2&r&&(n.txt=t[1]),e.$set(n)},i(t){r||(gt(e.$$.fragment,t),r=!0)},o(t){vt(e.$$.fragment,t),r=!1},d(t){Mt(e,t)}}}function Rg(t){let r,n,i;return{c(){r=T("a"),r.textContent="Connect to Metamask",F(r,"href",".")},m(e,o){x(e,r,o),n||(i=$(r,"click",t[2]),n=!0)},p:e,i:e,o:e,d(t){t&&N(r),n=!1,i()}}}function Tg(t){let r;return{c(){r=P(dg)},m(t,e){x(t,r,e)},p:e,i:e,o:e,d(t){t&&N(r)}}}function Pg(t){let e,r;return e=new Ag({props:{account:t[0],txt:t[1]}}),{c(){_t(e.$$.fragment)},m(t,n){Et(e,t,n),r=!0},p(t,r){const n={};1&r&&(n.account=t[0]),2&r&&(n.txt=t[1]),e.$set(n)},i(t){r||(gt(e.$$.fragment,t),r=!0)},o(t){vt(e.$$.fragment,t),r=!1},d(t){Mt(e,t)}}}function Og(t){let e,r,n,i;const o=[Sg,Ig],s=[];function a(t,e){return t[1]?0:1}return e=a(t),r=s[e]=o[e](t),{c(){r.c(),n=C()},m(t,r){s[e].m(t,r),x(t,n,r),i=!0},p(t,[i]){let l=e;e=a(t),e===l?s[e].p(t,i):(pt(),vt(s[l],1,1,(()=>{s[l]=null})),mt(),r=s[e],r?r.p(t,i):(r=s[e]=o[e](t),r.c()),gt(r,1),r.m(n.parentNode,n))},i(t){i||(gt(r),i=!0)},o(t){vt(r),i=!1},d(t){s[e].d(t),t&&N(n)}}}function Cg(t,e,r){let n;f(t,ag,(t=>r(3,n=t)));let{account:i}=e,{txt:o}=e;return K((async()=>{await(async()=>{if(!h(sg))if(console.log("metamaskInit"),cg=await Su(),cg){hg=!0,cg!==window.ethereum&&alert("Do you have multiple wallets installed?");const t=new ig(window.ethereum,"any");let e;lg.set(t);try{e=await cg.request({method:"eth_chainId"})}catch(t){console.error("Metamask ERROR eth_chainId",t)}const{chainId:r}=og();r>0&&r!=e&&(e=r,await yg(r)),await gg(Number(e));try{const t=await cg.request({method:"eth_accounts"});vg(t)}catch(t){console.error("Metamask ERROR eth_accounts",t)}cg.on("chainChanged",mg),cg.on("accountsChanged",vg)}else console.log(dg);return hg})()})),t.$$set=t=>{"account"in t&&r(0,i=t.account),"txt"in t&&r(1,o=t.txt)},t.$$.update=()=>{8&t.$$.dirty&&r(0,i=n)},[i,o,t=>{t.preventDefault(),bg()},n]}class $g extends St{constructor(t){super(),It(this,t,Cg,Og,a,{account:0,txt:1})}}const Fg=(t,e)=>{const r=r=>!r.composedPath().includes(t)&&e();return document.addEventListener("click",r,!0),{destroy(){document.removeEventListener("click",r,!0)}}};function Lg(t){let e,r,n,i=t[2](jl(t[0]))+"";return{c(){e=T("span"),r=P(i),F(e,"class",n=jl(t[0]))},m(t,n){x(t,e,n),I(e,r)},p(t,o){1&o&&i!==(i=t[2](jl(t[0]))+"")&&L(r,i),1&o&&n!==(n=jl(t[0]))&&F(e,"class",n)},d(t){t&&N(e)}}}function Bg(t){let e,r=jl(t[0])+"";return{c(){e=P(r)},m(t,r){x(t,e,r)},p(t,n){1&n&&r!==(r=jl(t[0])+"")&&L(e,r)},d(t){t&&N(e)}}}function Dg(t){let r;function n(t,e){return t[1]?Bg:Lg}let i=n(t),o=i(t);return{c(){o.c(),r=C()},m(t,e){o.m(t,e),x(t,r,e)},p(t,[e]){i===(i=n(t))&&o?o.p(t,e):(o.d(1),o=i(t),o&&(o.c(),o.m(r.parentNode,r)))},i:e,o:e,d(t){o.d(t),t&&N(r)}}}function Ug(t,e,r){let{chainId:n}=e,{txt:i=!1}=e;return t.$$set=t=>{"chainId"in t&&r(0,n=t.chainId),"txt"in t&&r(1,i=t.txt)},[n,i,t=>t.length>=1?t.charAt(0).toUpperCase()+t.substring(1):""]}class qg extends St{constructor(t){super(),It(this,t,Ug,Dg,a,{chainId:0,txt:1})}}function zg(t,e,r){const n=t.slice();return n[17]=e[r],n}function jg(t,e,r){const n=t.slice();return n[17]=e[r],n}function Gg(t,e,r){const n=t.slice();return n[14]=e[r],n}function Hg(t){let e,r,n,i,a,l,u,c,h,f,d,p,m,g,v,y=t[3]&&Vg(t);l=new qg({props:{chainId:t[0],txt:t[1]}});let w=Tl.filter(t[8]),_=[];for(let e=0;e<w.length;e+=1)_[e]=Jg(jg(t,w,e));const E=t=>vt(_[t],1,1,(()=>{_[t]=null}));let M=function(t){let e,r,n=Tl.filter(t[10]),i=[];for(let e=0;e<n.length;e+=1)i[e]=Kg(zg(t,n,e));const o=t=>vt(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=C()},m(t,n){for(let e=0;e<i.length;e+=1)i[e].m(t,n);x(t,e,n),r=!0},p(t,r){if(69&r){let s;for(n=Tl.filter(t[10]),s=0;s<n.length;s+=1){const o=zg(t,n,s);i[s]?(i[s].p(o,r),gt(i[s],1)):(i[s]=Kg(o),i[s].c(),gt(i[s],1),i[s].m(e.parentNode,e))}for(pt(),s=n.length;s<i.length;s+=1)o(s);mt()}},i(t){if(!r){for(let t=0;t<n.length;t+=1)gt(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)vt(i[t]);r=!1},d(t){R(i,t),t&&N(e)}}}(t);return{c(){e=T("div"),y&&y.c(),r=O(),n=T("div"),i=T("div"),a=T("div"),_t(l.$$.fragment),u=O(),c=T("div"),h=O(),f=T("div");for(let t=0;t<_.length;t+=1)_[t].c();d=O(),M&&M.c(),F(a,"class","select-trigger"),F(c,"class","custom-options"),F(f,"class","custom-options"),F(i,"class","select"),U(i,"open",t[4]),F(n,"class","select-wrapper select-network"),F(e,"class","col col-xs-12 col-sm-3")},m(o,s){x(o,e,s),y&&y.m(e,null),I(e,r),I(e,n),I(n,i),I(i,a),Et(l,a,null),I(i,u),I(i,c),I(i,h),I(i,f);for(let t=0;t<_.length;t+=1)_[t].m(f,null);I(f,d),M&&M.m(f,null),m=!0,g||(v=[b(p=Fg.call(null,n,t[12])),$(n,"click",t[13])],g=!0)},p(t,n){t[3]?y?y.p(t,n):(y=Vg(t),y.c(),y.m(e,r)):y&&(y.d(1),y=null);const o={};if(1&n&&(o.chainId=t[0]),2&n&&(o.txt=t[1]),l.$set(o),69&n){let e;for(w=Tl.filter(t[8]),e=0;e<w.length;e+=1){const r=jg(t,w,e);_[e]?(_[e].p(r,n),gt(_[e],1)):(_[e]=Jg(r),_[e].c(),gt(_[e],1),_[e].m(f,d))}for(pt(),e=w.length;e<_.length;e+=1)E(e);mt()}M.p(t,n),16&n&&U(i,"open",t[4]),p&&s(p.update)&&16&n&&p.update.call(null,t[12])},i(t){if(!m){gt(l.$$.fragment,t);for(let t=0;t<w.length;t+=1)gt(_[t]);gt(M),m=!0}},o(t){vt(l.$$.fragment,t),_=_.filter(Boolean);for(let t=0;t<_.length;t+=1)vt(_[t]);vt(M),m=!1},d(t){t&&N(e),y&&y.d(),Mt(l),R(_,t),M&&M.d(),g=!1,o(v)}}}function Wg(t){let e,r,n,i,o,s=t[3]&&Xg(),a=Tl.filter(Qg),l=[];for(let e=0;e<a.length;e+=1)l[e]=Zg(Gg(t,a,e));const u=t=>vt(l[t],1,1,(()=>{l[t]=null}));return{c(){s&&s.c(),e=O(),r=T("select");for(let t=0;t<l.length;t+=1)l[t].c()},m(a,u){s&&s.m(a,u),x(a,e,u),x(a,r,u);for(let t=0;t<l.length;t+=1)l[t].m(r,null);n=!0,i||(o=$(r,"change",t[5]),i=!0)},p(t,n){if(t[3]?s||(s=Xg(),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),3&n){let e;for(a=Tl.filter(Qg),e=0;e<a.length;e+=1){const i=Gg(t,a,e);l[e]?(l[e].p(i,n),gt(l[e],1)):(l[e]=Zg(i),l[e].c(),gt(l[e],1),l[e].m(r,null))}for(pt(),e=a.length;e<l.length;e+=1)u(e);mt()}},i(t){if(!n){for(let t=0;t<a.length;t+=1)gt(l[t]);n=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)vt(l[t]);n=!1},d(t){s&&s.d(t),t&&N(e),t&&N(r),R(l,t),i=!1,o()}}}function Vg(t){let e,r,n,i,o,s;return{c(){e=T("span"),r=P("Network\n        "),n=T("a"),i=T("i"),F(i,"class","fas fa-info-circle"),F(n,"class","info-button"),F(n,"href",o=du(t[0])),F(n,"target","_blank"),F(n,"title",s="\t NFTs Factory address (click to view in explorer )\n        "+Dl(t[0])),F(e,"class","label")},m(t,o){x(t,e,o),I(e,r),I(e,n),I(n,i)},p(t,e){1&e&&o!==(o=du(t[0]))&&F(n,"href",o),1&e&&s!==(s="\t NFTs Factory address (click to view in explorer )\n        "+Dl(t[0]))&&F(n,"title",s)},d(t){t&&N(e)}}}function Jg(t){let e,r,n,i,o,s,a,l;function u(...e){return t[9](t[17],...e)}return r=new qg({props:{chainId:t[17].chainId,txt:!0}}),{c(){e=T("span"),_t(r.$$.fragment),n=O(),F(e,"class",i="custom-option "+(t[17].chainId==t[0]&&"selected")),F(e,"data-value",o=jl(t[17].chainId))},m(t,i){x(t,e,i),Et(r,e,null),I(e,n),s=!0,a||(l=$(e,"click",u),a=!0)},p(n,a){t=n;const l={};4&a&&(l.chainId=t[17].chainId),r.$set(l),(!s||5&a&&i!==(i="custom-option "+(t[17].chainId==t[0]&&"selected")))&&F(e,"class",i),(!s||4&a&&o!==(o=jl(t[17].chainId)))&&F(e,"data-value",o)},i(t){s||(gt(r.$$.fragment,t),s=!0)},o(t){vt(r.$$.fragment,t),s=!1},d(t){t&&N(e),Mt(r),a=!1,l()}}}function Kg(t){let e,r,n,i,o,s,a,l;function u(...e){return t[11](t[17],...e)}return r=new qg({props:{chainId:t[17].chainId,txt:!0}}),{c(){e=T("span"),_t(r.$$.fragment),n=O(),F(e,"class",i="custom-option "+(t[17].chainId==t[0]&&"selected")),F(e,"data-value",o=jl(t[17].chainId))},m(t,i){x(t,e,i),Et(r,e,null),I(e,n),s=!0,a||(l=$(e,"click",u),a=!0)},p(n,a){t=n;const l={};4&a&&(l.chainId=t[17].chainId),r.$set(l),(!s||5&a&&i!==(i="custom-option "+(t[17].chainId==t[0]&&"selected")))&&F(e,"class",i),(!s||4&a&&o!==(o=jl(t[17].chainId)))&&F(e,"data-value",o)},i(t){s||(gt(r.$$.fragment,t),s=!0)},o(t){vt(r.$$.fragment,t),s=!1},d(t){t&&N(e),Mt(r),a=!1,l()}}}function Xg(t){let e;return{c(){e=P("Network")},m(t,r){x(t,e,r)},d(t){t&&N(e)}}}function Zg(t){let e,r,n,i,o,s;return r=new qg({props:{chainId:t[14].chainId,txt:t[1]}}),{c(){e=T("option"),_t(r.$$.fragment),n=P("\n        \n      "),e.__value=i=t[14].chainId,e.value=e.__value,e.selected=o=t[14].chainId==t[0]},m(t,i){x(t,e,i),Et(r,e,null),I(e,n),s=!0},p(t,n){const i={};2&n&&(i.txt=t[1]),r.$set(i),(!s||1&n&&o!==(o=t[14].chainId==t[0]))&&(e.selected=o)},i(t){s||(gt(r.$$.fragment,t),s=!0)},o(t){vt(r.$$.fragment,t),s=!1},d(t){t&&N(e),Mt(r)}}}function Yg(t){let e,r,n,i;const o=[Wg,Hg],s=[];function a(t,e){return t[1]?0:1}return e=a(t),r=s[e]=o[e](t),{c(){r.c(),n=C()},m(t,r){s[e].m(t,r),x(t,n,r),i=!0},p(t,[i]){let l=e;e=a(t),e===l?s[e].p(t,i):(pt(),vt(s[l],1,1,(()=>{s[l]=null})),mt(),r=s[e],r?r.p(t,i):(r=s[e]=o[e](t),r.c()),gt(r,1),r.m(n.parentNode,n))},i(t){i||(gt(r),i=!0)},o(t){vt(r),i=!1},d(t){s[e].d(t),t&&N(n)}}}const Qg=t=>t.mainnet;function tv(t,e,r){let n;f(t,sg,(t=>r(7,n=t)));let{chainId:i}=e,{txt:o}=e,{all:s=!0}=e,{label:a=!0}=e,l=!1;const u=async(t,e)=>{e.preventDefault(),await yg(t),r(0,i=t)};return t.$$set=t=>{"chainId"in t&&r(0,i=t.chainId),"txt"in t&&r(1,o=t.txt),"all"in t&&r(2,s=t.all),"label"in t&&r(3,a=t.label)},t.$$.update=()=>{129&t.$$.dirty&&(i||r(0,i=n))},[i,o,s,a,l,t=>{const e=Number(t.target.value);u(e,t).catch(console.error)},u,n,t=>t.mainnet&&s,(t,e)=>u(t.chainId,e),t=>t.testnet&&s,(t,e)=>u(t.chainId,e),()=>r(4,l=!1),()=>r(4,l=!l)]}class ev extends St{constructor(t){super(),It(this,t,tv,Yg,a,{chainId:0,txt:1,all:2,label:3})}}var rv=["function supportsInterface(bytes4) view returns (bool)"],nv=["event Approval(address indexed,address indexed,uint256 indexed)","event ApprovalForAll(address indexed,address indexed,bool)","event Transfer(address indexed,address indexed,uint256 indexed)","function approve(address,uint256)","function balanceOf(address) view returns (uint256)","function getApproved(uint256) view returns (address)","function isApprovedForAll(address,address) view returns (bool)","function ownerOf(uint256) view returns (address)","function safeTransferFrom(address,address,uint256)","function safeTransferFrom(address,address,uint256,bytes)","function setApprovalForAll(address,bool)","function transferFrom(address,address,uint256)"],iv=["function tokenByIndex(uint256) view returns (uint256)","function tokenOfOwnerByIndex(address,uint256) view returns (uint256)","function totalSupply() view returns (uint256)"],ov=["function name() view returns (string)","function symbol() view returns (string)","function tokenURI(uint256) view returns (string)"],sv=["event ApprovalForAll(address indexed,address indexed,bool)","event TransferBatch(address indexed,address indexed,address indexed,uint256[],uint256[])","event TransferSingle(address indexed,address indexed,address indexed,uint256,uint256)","event URI(string,uint256 indexed)","function balanceOf(address,uint256) view returns (uint256)","function balanceOfBatch(address[],uint256[]) view returns (uint256[])","function isApprovedForAll(address,address) view returns (bool)","function safeBatchTransferFrom(address,address,uint256[],uint256[],bytes)","function safeTransferFrom(address,address,uint256,uint256,bytes)","function setApprovalForAll(address,bool)"],av=["function uri(uint256) view returns (string)"],lv=["event OwnershipTransferred(address indexed,address indexed)","function owner() view returns (address)","function transferOwnership(address)"],uv=["function claim(uint256)","function exists(uint256) returns (bool)"],cv=["function initialize(string,string)","function mintNFT(address,string) returns (uint256)","function owner() view returns (address)","function transferOwnership(address)"],hv=["function burnable() view returns (bool)","function open() view returns (bool)"];const fv=async(t,e,r,n={chainId:t,address:e})=>{var i;if(!(t&&e&&await $l(r,t)))return n;const o=["0xF6d53C7e96696391Bb8e73bE75629B37439938AF","0x792f8e3C36Ac3c1C6D62ECc44a88cA1317fEce93"],s=["0x82a398243EBc2CB26a4A21B9427EC6Db8c224471","0xbEaAb0f00D236862527dcF5a88dF3CEd043ab253","0xC9D75c6dC5A75315ff68A4CB6fba5c53aBed82d0","0xd9C43494D2b3B5Ae86C57d12eB7683956472d5E9"];null!==(i=n.supports)&&void 0!==i||(n.supports={});const a=n.supports;try{const n=new ha(e,rv,r);try{const t=n.supportsInterface(Mu(nv)),e=n.supportsInterface(Mu(sv)),r=n.supportsInterface(Mu(lv));if([a.IERC721,a.IERC1155,a.IERC173]=await Promise.all([t,e,r]),a.IERC721){const t=n.supportsInterface(Mu(ov)),e=n.supportsInterface(Mu(iv)),r=n.supportsInterface(Mu(cv)),i=n.supportsInterface(Mu(hv)),l=n.supportsInterface(Mu(uv));[a.IERC721Metadata,a.IERC721Enumerable,a.IOpenNFTsV2,a.IOpenNFTsV3,a.IOpenMulti]=await Promise.all([t,e,r,i,l]),a.IERC165=!0,a.IOpenNFTsV3?a.IOpenNFTs=!0:a.IOpenNFTsV2||(s.includes(n.address)?a.IOpenNFTsV1=!0:o.includes(n.address)&&(a.IOpenNFTsV0=!0))}else a.IERC1155&&(a.IERC1155MetadataURI=await n.supportsInterface(Mu(av)));for(const t in a)a[t]||delete a[t]}catch(n){console.info(`ERROR collectionGetSupports @ ${Iu(t,e)}\n`,await $l(r,t),JSON.stringify(n))}}catch(r){console.log(`No contract found @ ${Iu(t,e)}\n`)}return n};const dv={IERC165:rv,IERC721:nv,IERC721Enumerable:iv,IERC721Metadata:ov,IERC1155:sv,IERC173:lv,IERC1155MetadataURI:av,IOpenMulti:uv,IOpenNFTs:["function burnOpenNFT(uint256)","function initialize(string,string,address,bool[])","function mintOpenNFT(address,string) returns (uint256)"],IOpenNFTsV0:["function addUser(address,string) returns (uint256)"],IOpenNFTsV1:["function mintNFT(address,string) returns (uint256)"],IOpenNFTsV2:cv,IOpenNFTsV3:hv},pv=async(t,e,r,n={chainId:t,address:e})=>{console.log(`collectionContractGet ${Iu(t,e)}\n`);let i=[];"supports"in n||await fv(t,e,r,n);for(const[t,e]of Object.entries(n.supports||{}))e&&(i=i.concat(dv[t]));return new ha(e,i,r)},mv=(t,e)=>{const r=Object.assign({chainId:1,address:""},t||{},e||{});return(null==t?void 0:t.balancesOf)&&(null==e?void 0:e.balancesOf)&&(r.balancesOf=new Map([...t.balancesOf,...e.balancesOf])),r},gv=async(t,e,r,n,i={chainId:t,address:e})=>{if(!(t&&e&&await $l(r,t)))return i;try{await fv(t,e,r,i),await(async(t,e,r,n,i={chainId:t,address:e})=>{var o;if(!(t&&e&&i.supports&&await $l(r,t)))return i;try{const s=new ha(e,lv.concat(nv).concat(ov).concat(iv).concat(hv),r),a=i.supports;try{a.IERC721&&n&&(null!==(o=i.balancesOf)&&void 0!==o||(i.balancesOf=new Map),i.balancesOf.set(n,Number(await s.balanceOf(n)))),a.IERC721Enumerable&&(i.totalSupply=Number(await s.totalSupply())),(a.IERC173||a.IOpenNFTsV2)&&(i.owner=await s.owner()),a.IERC721Metadata&&(i.name=await s.name(),i.symbol=await s.symbol()),a.IOpenNFTsV3?(i.burnable=await s.burnable(),i.open=await s.open(),i.version=3):a.IOpenNFTsV2?(i.version=2,i.open=!0):a.IOpenNFTsV1?(i.version=1,i.open=!0):a.IOpenNFTsV0&&(i.version=0,i.open=!0)}catch(i){console.info(`ERROR collectionGetSupports @ ${Iu(t,e,n)}\n`,await $l(r,t),JSON.stringify(i))}if(a.IERC1155)try{i.name=await s.name()}catch(t){console.log("ERC1155 collection with no name",i)}i.name||1===t&&"0x57f1887a8BF19b14fC0dF6Fd9B2acc9Af147eA85"===i.address&&(i.name="ENS domains",i.symbol="ENS")}catch(r){console.log(`No contract found @ ${Iu(t,e,n)}\n`)}return i})(t,e,r,n,i)}catch(r){console.error(`ERROR collectionGet  ${Iu(t,e,n)}\n`,r)}return i},vv=(t,e)=>e instanceof Map?{dataType:"Map",value:[...e]}:e,yv=(t,e)=>"object"==typeof e&&"Map"===(null==e?void 0:e.dataType)?new Map(null==e?void 0:e.value):e,{subscribe:bv,set:wv,update:_v}=xt((()=>{const t=new Map;for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);(null==n?void 0:n.startsWith("collection://"))&&t.set(n,(e=localStorage.getItem(n)||"",JSON.parse(e,yv)))}var e;return t})()),Ev={subscribe:bv,set:wv,update:_v},Mv=async(t,e={})=>{let r;if(t)try{const n=await fetch(t,e);r=await n.json()}catch(e){r={error:e},console.error("OpenNFTs.fetchJson ERROR",e,t,r)}else{const t="OpenNFTs.fetchJson URL not defined";console.error(t),r={error:t}}return r},Av=async(t,e={})=>await Mv(lu(t),e),Iv=async(t,e)=>{let r="";const n=kv(t);if(1===t?r="KuKF370Z37IHk4byllQTZIDSARVpqy7b":137===t&&(r="lqPRNbFz_YG6XbqLEwJ344BNKy6WOsXm"),!(t&&n&&r&&e))return;const i=`${n}/${r}${e}`,o=await Av(i,{method:"GET",headers:{Accept:"application/json"}});return o.error&&console.error("alchemyFetch ERROR",o.error),o},Sv=t=>{var e,r;return Boolean(null===(r=null===(e=Bl(t))||void 0===e?void 0:e.alchemy)||void 0===r?void 0:r.active)},kv=t=>{var e,r,n,i;return(null===(r=null===(e=Bl(t))||void 0===e?void 0:e.alchemy)||void 0===r?void 0:r.active)&&(null===(i=null===(n=Bl(t))||void 0===n?void 0:n.alchemy)||void 0===i?void 0:i.url)||""},xv=async t=>{const e=`https://api.covalenthq.com/v1${t}&key=ckey_98d4408f061540cca3687f0d3a0`,r=await Av(e,{method:"GET",headers:{Accept:"application/json"}});return r.error&&console.error("covalentFetch ERROR",r.error),null==r?void 0:r.data},Nv=t=>{var e,r;return Boolean(null===(r=null===(e=Bl(t))||void 0===e?void 0:e.covalent)||void 0===r?void 0:r.active)},Rv=async(t,e)=>await(async(t,e)=>{const r={method:"POST",body:JSON.stringify({query:e})},n=await Mv(t,r);return n.error&&console.error("fetchGQL ERROR",n.error),null==n?void 0:n.data})(Pv(t),e),Tv=t=>{var e,r;return Boolean(null===(r=null===(e=Bl(t))||void 0===e?void 0:e.subgraph)||void 0===r?void 0:r.active)},Pv=t=>{var e,r,n,i;return(null===(r=null===(e=Bl(t))||void 0===e?void 0:e.subgraph)||void 0===r?void 0:r.active)&&(null===(i=null===(n=Bl(t))||void 0===n?void 0:n.subgraph)||void 0===i?void 0:i.url)||""},Ov=async(t,e,r,n)=>{let i=new Map;if(Bl(t)&&e){let n=new Map,o=new Map;Sv(t)?(n=await(async(t,e)=>{var r,n;const i=new Map,o=jl(t);if(!(t&&o&&e))return i;const s=await Iv(t,`/getNFTs?owner=${e}&withMetadata=false`),a=s.totalCount,l=s.ownedNfts;if(!(l&&a>=0))return i;for(let o=0;o<a;o++){const s=l[o],a=Ll(null===(r=s.contract)||void 0===r?void 0:r.address),u=Gl(t,a),c=i.get(u),h=Number((null===(n=null==c?void 0:c.balancesOf)||void 0===n?void 0:n.get(e))||0),f={chainId:t,owner:e,address:a,balancesOf:new Map([[e,h+1]])};i.set(u,f)}return i})(t,e),console.log("collectionList alchemyCollectionList",n)):Tv(t)?(n=await(async(t,e)=>{const r=new Map,n=Bl(t);if(e){const i=`\n        {\n          ownerPerTokenContracts(\n            where: {\n              owner: "${e.toLowerCase()}"\n              }\n          ) {\n            contract {\n              id\n              name\n              symbol\n              numTokens\n            }\n            numTokens\n          }\n        }\n    `,o=await Rv(t,i),s=(null==o?void 0:o.ownerPerTokenContracts)||[];for(let i=0;i<s.length;i++){const o=s[i],{contract:a,numTokens:l}=o,{id:u,name:c,symbol:h,numTokens:f}=a,d=Number(f),p=Ll(u),m=null==n?void 0:n.chainName,g=Math.max(l,0);if(o.numTokens>0){const n={chainId:t,chainName:m,address:p,name:c,symbol:h,totalSupply:d};n.balancesOf=new Map([[e,g]]),r.set(Gl(t,p),n)}}}return r})(t,e),console.log("collectionList thegraphCollectionList",n)):Nv(t)&&(n=await(async(t,e)=>{const r=new Map,n=jl(t);if(!(t&&n&&e))return r;const i=`/${Number(t)}/address/${e}/balances_v2/?nft=true&no-nft-fetch=false&match=${encodeURIComponent('{$or:[{supports_erc:{$elemmatch:"erc721"}},{supports_erc:{$elemmatch:"erc1155"}}]}')}`,o=await xv(i),s=null==o?void 0:o.items;if(null==s?void 0:s.length)for(let i=0;i<s.length;i++){const o=s[i],a=Ll(o.contract_address),l=o.contract_name||Ol,u=o.contract_ticker_symbol||Cl,c=Number(o.balance),h={chainId:t,chainName:n,address:a,name:l,symbol:u};h.balancesOf=new Map([[e,c]]),r.set(Gl(t,a),h)}return r})(t,e),console.log("collectionList covalentCollectionList",n)),o=await(async(t,e,r)=>{const n=Bl(t),i=new Map,o=Rl(t,r);if(o){const r=await o.balancesOf(e);for(let o=0;o<r.length;o++){const s=null==n?void 0:n.chainName,a=r[o],l=Ll(a[0]),u=Ll(a[2]),c=a[3]||Ol,h=a[4]||Cl,f=Number(a[5]),d=Number(a[1]),p={chainId:t,chainName:s,address:l,owner:u,name:c,symbol:h,totalSupply:f};p.balancesOf=new Map([[e,d]]),i.set(Gl(t,l),p)}}return i})(t,e,r),console.log("collectionList collectionListFromFactory",o),i=((t,e)=>{const r=e;if(t)for(const[r,n]of t.entries()){const t=e.get(r);if(t){const i=mv(n,t);e.set(r,i)}else e.set(r,n)}return r})(n,o),console.log("collectionList merge",i)}return n&&(i=new Map([...i].filter((([,t])=>t.open||t.owner===e&&3==t.version)))),i},Cv=(t,e)=>`collectionDefault://${String(t)}${e?"@"+e:""}`,$v=t=>{var e;return(null===(e=Bl(t))||void 0===e?void 0:e.defaultOpenNFTs)||""},{subscribe:Fv,set:Lv,update:Bv}=xt((()=>{const t=new Map;for(let e=0;e<localStorage.length;e++){const r=localStorage.key(e);(null==r?void 0:r.startsWith("collectionDefault://"))&&t.set(r,JSON.parse(localStorage.getItem(r)))}return t})()),Dv=(t,e=$v(t),r=!1,n)=>{t&&e&&(jv.refreshOne(t,e,n).catch(console.error),Bv((i=>{const o=Cv(t,n);let s,a;r?(a=e,[s]=i.get(o)||["",""]):(s=e,[,a]=i.get(o)||["",""]);const l=[s,a];return"undefined"!=typeof localStorage&&localStorage.setItem(o,JSON.stringify(l)),i.set(o,l)})))},Uv={subscribe:Fv,set:Lv,update:Bv},qv=(t,e)=>`collection://${String(t)}/${e}`,zv=t=>{const{chainId:e,address:r}=t||{};e&&r&&Ev.update((n=>{const i=qv(e,r),o=mv(n.get(i),t);var s;return"undefined"!=typeof localStorage&&localStorage.setItem(i,(s=o,JSON.stringify(s,vv))),n.set(i,o)}))},jv={getKey:qv,getOneStore:(t,e)=>{const r=qv(t,e);return Nt(Ev,(t=>t.get(r)))},refreshOne:async(t,e,r)=>{if(!t||!e)return;const n=await gv(t,e,h(lg),r);zv(n)},setOne:zv,getListStore:Ev,getSubListStore:(t,e,r=!1)=>Nt([jv.getListStore,jv.getDefaultStore],(([n,i])=>{const[o,s]=i.get(jv.getDefaultKey(t,e))||["",""],a=new Map([...n].filter((([,n])=>{var i;const a=t>0&&Boolean(e),l=n.chainId===t,u=((null===(i=n.balancesOf)||void 0===i?void 0:i.get(e))||0)>0,c=n.owner===e,h=n.address==s,f=h||n.open||c&&3==n.version,d=n.address==o||h;return a&&l&&(c||u||d)&&(!r||f)})).sort((([,t],[,r])=>{var n,i;return((null===(n=r.balancesOf)||void 0===n?void 0:n.get(e))||0)-((null===(i=t.balancesOf)||void 0===i?void 0:i.get(e))||0)})));return a})),refreshSubList:async(t,e,r=!1)=>{if(!t)return;const n=await Ov(t,e,h(lg),r);for(const t of n.values())jv.setOne(t)},getDefaultStore:Uv,getDefaultSubStore:(t,e=!1,r)=>{const n=Cv(t,r);return Nt(Uv,(t=>{const r=t.get(n)||["",""];return e?r[1]:r[0]}))},getDefaultKey:Cv,getDefaultOpenNFTs:$v,refreshDefault:(t,e)=>{if(!t)return;const r=Cv(t,e);let[n,i]=h(Uv).get(r)||["",""];i||(i=$v(t),Dv(t,i,!0,e)),n||(n=i,Dv(t,n,!1,e))},setDefaultOne:Dv};function Gv(t){let r;return{c(){r=P("Choose one collection")},m(t,e){x(t,r,e)},p:e,d(t){t&&N(r)}}}function Hv(t){let e,r,n,i,o,s,a=(t[2].name||Ol)+"",l=(t[2].balancesOf?.get(t[0])||0)+"",u=(t[2].symbol||Cl)+"";return{c(){e=P(a),r=P("\n  ("),n=P(l),i=O(),o=P(u),s=P(")")},m(t,a){x(t,e,a),x(t,r,a),x(t,n,a),x(t,i,a),x(t,o,a),x(t,s,a)},p(t,r){4&r&&a!==(a=(t[2].name||Ol)+"")&&L(e,a),5&r&&l!==(l=(t[2].balancesOf?.get(t[0])||0)+"")&&L(n,l),4&r&&u!==(u=(t[2].symbol||Cl)+"")&&L(o,u)},d(t){t&&N(e),t&&N(r),t&&N(n),t&&N(i),t&&N(o),t&&N(s)}}}function Wv(t){let r;function n(t,e){return t[2]?Hv:Gv}let i=n(t),o=i(t);return{c(){o.c(),r=C()},m(t,e){o.m(t,e),x(t,r,e)},p(t,[e]){i===(i=n(t))&&o?o.p(t,e):(o.d(1),o=i(t),o&&(o.c(),o.m(r.parentNode,r)))},i:e,o:e,d(t){o.d(t),t&&N(r)}}}function Vv(t,r,n){let i,o=e;t.$$.on_destroy.push((()=>o()));let s,{chainId:a}=r,{address:l}=r,{account:u}=r;const h=()=>{n(1,s=jv.getOneStore(a,l)),o(),o=c(s,(t=>n(2,i=t))),jv.refreshOne(a,l,u).catch(console.error)};return t.$$set=t=>{"chainId"in t&&n(3,a=t.chainId),"address"in t&&n(4,l=t.address),"account"in t&&n(0,u=t.account)},t.$$.update=()=>{25&t.$$.dirty&&a&&l&&h()},[u,s,i,a,l]}class Jv extends St{constructor(t){super(),It(this,t,Vv,Wv,a,{chainId:3,address:4,account:0})}}function Kv(t,e,r){const n=t.slice();return n[25]=e[r][0],n[26]=e[r][1],n}function Xv(t,e,r){const n=t.slice();return n[25]=e[r][0],n[26]=e[r][1],n}function Zv(t){let e,r,n,i,a,l,u,c,h,f,d,p=t[4]&&Qv(t);const m=[ny,ry],g=[];function v(t,e){return t[10]?.size>0?0:1}return a=v(t),l=g[a]=m[a](t),{c(){e=T("div"),p&&p.c(),r=O(),n=T("div"),i=T("div"),l.c(),F(i,"class","select"),U(i,"open",t[7]),F(n,"class","select-wrapper select-storeCollection"),F(e,"class",c="col col-xs-12 col-sm-"+(t[3]?"8":"3"))},m(o,s){x(o,e,s),p&&p.m(e,null),I(e,r),I(e,n),I(n,i),g[a].m(i,null),h=!0,f||(d=[b(u=Fg.call(null,n,t[21])),$(n,"click",t[22])],f=!0)},p(t,n){t[4]?p?p.p(t,n):(p=Qv(t),p.c(),p.m(e,r)):p&&(p.d(1),p=null);let o=a;a=v(t),a===o?g[a].p(t,n):(pt(),vt(g[o],1,1,(()=>{g[o]=null})),mt(),l=g[a],l?l.p(t,n):(l=g[a]=m[a](t),l.c()),gt(l,1),l.m(i,null)),128&n&&U(i,"open",t[7]),u&&s(u.update)&&128&n&&u.update.call(null,t[21]),(!h||8&n&&c!==(c="col col-xs-12 col-sm-"+(t[3]?"8":"3")))&&F(e,"class",c)},i(t){h||(gt(l),h=!0)},o(t){vt(l),h=!1},d(t){t&&N(e),p&&p.d(),g[a].d(),f=!1,o(d)}}}function Yv(t){let e,r,n,i;const o=[ly,ay],s=[];function a(t,e){return t[10]?.size>0?0:1}return r=a(t),n=s[r]=o[r](t),{c(){e=T("p"),n.c()},m(t,n){x(t,e,n),s[r].m(e,null),i=!0},p(t,i){let l=r;r=a(t),r===l?s[r].p(t,i):(pt(),vt(s[l],1,1,(()=>{s[l]=null})),mt(),n=s[r],n?n.p(t,i):(n=s[r]=o[r](t),n.c()),gt(n,1),n.m(e,null))},i(t){i||(gt(n),i=!0)},o(t){vt(n),i=!1},d(t){t&&N(e),s[r].d()}}}function Qv(t){let e,r,n,i=t[11]&&ty(),o=t[0]&&ey(t);return{c(){e=T("span"),r=P("Collection\n        "),i&&i.c(),n=O(),o&&o.c(),F(e,"class","label")},m(t,s){x(t,e,s),I(e,r),i&&i.m(e,null),I(e,n),o&&o.m(e,null)},p(t,r){t[11]?i||(i=ty(),i.c(),i.m(e,n)):i&&(i.d(1),i=null),t[0]?o?o.p(t,r):(o=ey(t),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(t){t&&N(e),i&&i.d(),o&&o.d()}}}function ty(t){let e;return{c(){e=P("...")},m(t,r){x(t,e,r)},d(t){t&&N(e)}}}function ey(t){let e,r,n,i;return{c(){e=T("a"),r=T("i"),F(r,"class","fas fa-info-circle"),F(e,"class","info-button"),F(e,"href",n=t[16](t[0])),F(e,"title",i="\t  Collection address (click to view in explorer)\r\n      "+t[17](t[0])),F(e,"target","_blank")},m(t,n){x(t,e,n),I(e,r)},p(t,r){1&r&&n!==(n=t[16](t[0]))&&F(e,"href",n),1&r&&i!==(i="\t  Collection address (click to view in explorer)\r\n      "+t[17](t[0]))&&F(e,"title",i)},d(t){t&&N(e)}}}function ry(t){let r,n;function i(t,e){return t[11]?oy:iy}let o=i(t),s=o(t);return{c(){r=T("div"),n=T("em"),s.c(),F(r,"class","select-trigger")},m(t,e){x(t,r,e),I(r,n),s.m(n,null)},p(t,e){o!==(o=i(t))&&(s.d(1),s=o(t),s&&(s.c(),s.m(n,null)))},i:e,o:e,d(t){t&&N(r),s.d()}}}function ny(t){let e,r,n,i,o,s;n=new Jv({props:{chainId:t[1],address:t[0],account:t[2]}});let a=[...t[10]],l=[];for(let e=0;e<a.length;e+=1)l[e]=sy(Kv(t,a,e));const u=t=>vt(l[t],1,1,(()=>{l[t]=null}));return{c(){e=T("div"),r=T("span"),_t(n.$$.fragment),i=O(),o=T("div");for(let t=0;t<l.length;t+=1)l[t].c();F(e,"class","select-trigger"),F(o,"class","custom-options")},m(t,a){x(t,e,a),I(e,r),Et(n,r,null),x(t,i,a),x(t,o,a);for(let t=0;t<l.length;t+=1)l[t].m(o,null);s=!0},p(t,e){const r={};if(2&e&&(r.chainId=t[1]),1&e&&(r.address=t[0]),4&e&&(r.account=t[2]),n.$set(r),17413&e){let r;for(a=[...t[10]],r=0;r<a.length;r+=1){const n=Kv(t,a,r);l[r]?(l[r].p(n,e),gt(l[r],1)):(l[r]=sy(n),l[r].c(),gt(l[r],1),l[r].m(o,null))}for(pt(),r=a.length;r<l.length;r+=1)u(r);mt()}},i(t){if(!s){gt(n.$$.fragment,t);for(let t=0;t<a.length;t+=1)gt(l[t]);s=!0}},o(t){vt(n.$$.fragment,t),l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)vt(l[t]);s=!1},d(t){t&&N(e),Mt(n),t&&N(i),t&&N(o),R(l,t)}}}function iy(t){let e;return{c(){e=P("NO Collection found !")},m(t,r){x(t,e,r)},d(t){t&&N(e)}}}function oy(t){let e;return{c(){e=P("Refreshing collections...")},m(t,r){x(t,e,r)},d(t){t&&N(e)}}}function sy(t){let e,r,n,i,o,s,a,l,u;function c(){return t[20](t[26])}return r=new Jv({props:{chainId:t[26].chainId,address:t[26].address,account:t[2]}}),{c(){e=T("span"),_t(r.$$.fragment),n=O(),F(e,"id",i=t[25]),F(e,"class",o="custom-option "+(t[26].address==t[0]?"selected":"")),F(e,"data-value",s=t[26].address)},m(t,i){x(t,e,i),Et(r,e,null),I(e,n),a=!0,l||(u=$(e,"click",c),l=!0)},p(n,l){t=n;const u={};1024&l&&(u.chainId=t[26].chainId),1024&l&&(u.address=t[26].address),4&l&&(u.account=t[2]),r.$set(u),(!a||1024&l&&i!==(i=t[25]))&&F(e,"id",i),(!a||1025&l&&o!==(o="custom-option "+(t[26].address==t[0]?"selected":"")))&&F(e,"class",o),(!a||1024&l&&s!==(s=t[26].address))&&F(e,"data-value",s)},i(t){a||(gt(r.$$.fragment,t),a=!0)},o(t){vt(r.$$.fragment,t),a=!1},d(t){t&&N(e),Mt(r),l=!1,u()}}}function ay(t){let r;function n(t,e){return t[6]?cy:uy}let i=n(t),o=i(t);return{c(){r=T("p"),o.c()},m(t,e){x(t,r,e),o.m(r,null)},p(t,e){i!==(i=n(t))&&(o.d(1),o=i(t),o&&(o.c(),o.m(r,null)))},i:e,o:e,d(t){t&&N(r),o.d()}}}function ly(t){let e,r,n,i,o,s,a,l,u,c=Gl(t[1],t[0])+"",h=t[6]&&hy(),f=[...t[10]],d=[];for(let e=0;e<f.length;e+=1)d[e]=fy(Xv(t,f,e));const p=t=>vt(d[t],1,1,(()=>{d[t]=null}));return{c(){e=P("Collection\n      "),h&&h.c(),r=O(),n=T("select");for(let t=0;t<d.length;t+=1)d[t].c();i=O(),o=T("p"),s=P(c)},m(c,f){x(c,e,f),h&&h.m(c,f),x(c,r,f),x(c,n,f);for(let t=0;t<d.length;t+=1)d[t].m(n,null);x(c,i,f),x(c,o,f),I(o,s),a=!0,l||(u=$(n,"change",t[15]),l=!0)},p(t,e){if(t[6]?h||(h=hy(),h.c(),h.m(r.parentNode,r)):h&&(h.d(1),h=null),1029&e){let r;for(f=[...t[10]],r=0;r<f.length;r+=1){const i=Xv(t,f,r);d[r]?(d[r].p(i,e),gt(d[r],1)):(d[r]=fy(i),d[r].c(),gt(d[r],1),d[r].m(n,null))}for(pt(),r=f.length;r<d.length;r+=1)p(r);mt()}(!a||3&e)&&c!==(c=Gl(t[1],t[0])+"")&&L(s,c)},i(t){if(!a){for(let t=0;t<f.length;t+=1)gt(d[t]);a=!0}},o(t){d=d.filter(Boolean);for(let t=0;t<d.length;t+=1)vt(d[t]);a=!1},d(t){t&&N(e),h&&h.d(t),t&&N(r),t&&N(n),R(d,t),t&&N(i),t&&N(o),l=!1,u()}}}function uy(t){let e;return{c(){e=P("NO Collection found !")},m(t,r){x(t,e,r)},d(t){t&&N(e)}}}function cy(t){let e;return{c(){e=P("Refreshing collections...")},m(t,r){x(t,e,r)},d(t){t&&N(e)}}}function hy(t){let e;return{c(){e=P("...")},m(t,r){x(t,e,r)},d(t){t&&N(e)}}}function fy(t){let e,r,n,i,o,s,a;return r=new Jv({props:{chainId:t[26].chainId,address:t[26].address,account:t[2]}}),{c(){e=T("option"),_t(r.$$.fragment),n=O(),F(e,"id",i=t[25]),e.selected=o=t[26].address==t[0],e.__value=s=t[26].address,e.value=e.__value},m(t,i){x(t,e,i),Et(r,e,null),I(e,n),a=!0},p(t,n){const l={};1024&n&&(l.chainId=t[26].chainId),1024&n&&(l.address=t[26].address),4&n&&(l.account=t[2]),r.$set(l),(!a||1024&n&&i!==(i=t[25]))&&F(e,"id",i),(!a||1025&n&&o!==(o=t[26].address==t[0]))&&(e.selected=o),(!a||1024&n&&s!==(s=t[26].address))&&(e.__value=s,e.value=e.__value)},i(t){a||(gt(r.$$.fragment,t),a=!0)},o(t){vt(r.$$.fragment,t),a=!1},d(t){t&&N(e),Mt(r)}}}function dy(t){let e,r,n,i;const o=[Yv,Zv],s=[];function a(t,e){return t[5]?0:1}return e=a(t),r=s[e]=o[e](t),{c(){r.c(),n=C()},m(t,r){s[e].m(t,r),x(t,n,r),i=!0},p(t,[i]){let l=e;e=a(t),e===l?s[e].p(t,i):(pt(),vt(s[l],1,1,(()=>{s[l]=null})),mt(),r=s[e],r?r.p(t,i):(r=s[e]=o[e](t),r.c()),gt(r,1),r.m(n.parentNode,n))},i(t){i||(gt(r),i=!0)},o(t){vt(r),i=!1},d(t){s[e].d(t),t&&N(n)}}}function py(t,r,n){let i,o,s,a,l=e,u=e,h=()=>(u(),u=c(E,(t=>n(10,o=t))),E);t.$$.on_destroy.push((()=>l())),t.$$.on_destroy.push((()=>u()));let{chainId:d}=r,{address:p}=r,{account:m}=r,{mintable:g=!1}=r,{label:v=!0}=r,{txt:b=!1}=r,w=Z("refreshCollectionList");f(t,w,(t=>n(19,a=t)));let _=Z("refreshing");f(t,_,(t=>n(11,s=t)));let E,M,A=!1,I=!1;const S=async()=>{b&&(h(n(8,E=jv.getSubListStore(d,m,!1))),await jv.refreshSubList(d,m,!1)),h(n(8,E=jv.getSubListStore(d,m,g))),console.log("COLLECTIONS 1",o),n(9,M=jv.getDefaultSubStore(d,g,m)),l(),l=c(M,(t=>n(18,i=t))),b?n(6,A=!0):y(_,s=!0,s),await jv.refreshSubList(d,m,g),b?n(6,A=!1):y(_,s=!1,s),console.log("COLLECTIONS",o),jv.refreshDefault(d,m)},k=t=>jv.setDefaultOne(d,t,g,m);return t.$$set=t=>{"chainId"in t&&n(1,d=t.chainId),"address"in t&&n(0,p=t.address),"account"in t&&n(2,m=t.account),"mintable"in t&&n(3,g=t.mintable),"label"in t&&n(4,v=t.label),"txt"in t&&n(5,b=t.txt)},t.$$.update=()=>{524302&t.$$.dirty&&d&&m&&S(),262144&t.$$.dirty&&i&&n(0,p=i)},[p,d,m,g,v,b,A,I,E,M,o,s,w,_,k,t=>k(t.target.value),t=>mu(d,t),t=>Gl(d,t),i,a,t=>k(t.address),()=>n(7,I=!1),()=>n(7,I=!I)]}class my extends St{constructor(t){super(),It(this,t,py,dy,a,{chainId:1,address:0,account:2,mintable:3,label:4,txt:5})}}const gy=t=>{let e="";if(t.logs){const r=new Un(["event ImplementationNew(address indexed implementation, address indexed creator, uint256 index)"]).parseLog(t.logs[0]);({implementation:e}=r.args)}return e};function vy(t,e,r){const n=t.slice();return n[4]=e[r][0],n[5]=e[r][1],n}function yy(t){let e,r,n,i,o,s,a,l,u,c,h,f,d,p=t[5].name+"";function m(){return t[3](t[4])}return{c(){e=T("input"),s=O(),a=T("label"),l=T("i"),c=P(p),F(e,"class","box-field collection-type"),F(e,"id",r="collection-type-"+t[4]),F(e,"name","collection-type"),F(e,"type","radio"),e.value=n=t[5].name,F(e,"data-toggle","tooltip"),F(e,"title",i=t[5].description),e.checked=o=t[4]==t[0],F(l,"class",u="fas fa-"+t[5].icon),F(a,"class","field"),F(a,"for",h="collection-type-"+t[4])},m(t,r){x(t,e,r),x(t,s,r),x(t,a,r),I(a,l),I(a,c),f||(d=$(e,"click",m),f=!0)},p(r,n){t=r,1&n&&o!==(o=t[4]==t[0])&&(e.checked=o)},d(t){t&&N(e),t&&N(s),t&&N(a),f=!1,d()}}}function by(t){let e,r=t[1].get(t[0]).description+"";return{c(){e=P(r)},m(t,r){x(t,e,r)},p(t,n){1&n&&r!==(r=t[1].get(t[0]).description+"")&&L(e,r)},d(t){t&&N(e)}}}function wy(t){let r,n,i,o,s,a,l,u,c=t[1].get(t[0]),h=[...t[1]],f=[];for(let e=0;e<h.length;e+=1)f[e]=yy(vy(t,h,e));let d=c&&by(t);return{c(){r=T("div"),n=T("span"),n.textContent="Collection type",i=O(),o=T("div");for(let t=0;t<f.length;t+=1)f[t].c();s=O(),a=T("div"),l=T("p"),u=T("i"),d&&d.c(),F(n,"class","label label-big"),F(o,"class","box-fields"),F(a,"class","description"),F(r,"class","section")},m(t,e){x(t,r,e),I(r,n),I(r,i),I(r,o);for(let t=0;t<f.length;t+=1)f[t].m(o,null);I(r,s),I(r,a),I(a,l),I(l,u),d&&d.m(u,null)},p(t,[e]){if(7&e){let r;for(h=[...t[1]],r=0;r<h.length;r+=1){const n=vy(t,h,r);f[r]?f[r].p(n,e):(f[r]=yy(n),f[r].c(),f[r].m(o,null))}for(;r<f.length;r+=1)f[r].d(1);f.length=h.length}1&e&&(c=t[1].get(t[0])),c?d?d.p(t,e):(d=by(t),d.c(),d.m(u,null)):d&&(d.d(1),d=null)},i:e,o:e,d(t){t&&N(r),R(f,t),d&&d.d()}}}function _y(t,e,r){let{template:n="ownable"}=e;const i=new Map([["ownable",{name:"Ownable",description:"Ownable NFTs Collection: own your Collection, only you can Mint NFTs",icon:"user"}],["generic",{name:"Generic",description:"Generic NFTs Collection: anyone can Mint NFTs",icon:"building"}]]),o=t=>{r(0,n=t)};return t.$$set=t=>{"template"in t&&r(0,n=t.template)},[n,i,o,t=>o(t)]}class Ey extends St{constructor(t){super(),It(this,t,_y,wy,a,{template:0})}}function My(t){let e,r,n,i,s,a,l,u,c,h,f,d,p,m,g,v,y,b,w,_,E;function M(e){t[13](e)}let A={};return void 0!==t[1]&&(A.template=t[1]),m=new Ey({props:A}),Q.push((()=>wt(m,"template",M))),{c(){e=T("div"),e.innerHTML='<i class="fas fa-plus fa-left c-green"></i>Name your CollectionType',r=O(),n=T("div"),i=T("div"),s=T("input"),a=O(),l=T("div"),l.innerHTML='<i class="fas fa-plus fa-left c-green"></i>Attach a Symbol to your CollectionType',u=O(),c=T("div"),h=T("div"),f=T("input"),d=O(),p=T("div"),_t(m.$$.fragment),v=O(),y=T("div"),b=T("button"),b.textContent="Create",F(e,"class","titre"),F(s,"type","text"),F(s,"placeholder","My NFTs collection"),F(i,"class","form-field"),F(n,"class","section"),F(l,"class","titre"),F(f,"type","text"),F(f,"placeholder","MYNFT"),F(h,"class","form-field"),F(c,"class","section"),F(p,"class","section"),F(b,"class","btn btn-default btn-sell"),F(b,"type","submit"),F(y,"class","txtright")},m(o,g){x(o,e,g),x(o,r,g),x(o,n,g),I(n,i),I(i,s),B(s,t[5]),x(o,a,g),x(o,l,g),x(o,u,g),x(o,c,g),I(c,h),I(h,f),B(f,t[6]),x(o,d,g),x(o,p,g),Et(m,p,null),x(o,v,g),x(o,y,g),I(y,b),w=!0,_||(E=[$(s,"input",t[11]),$(f,"input",t[12]),$(b,"click",t[8])],_=!0)},p(t,e){32&e&&s.value!==t[5]&&B(s,t[5]),64&e&&f.value!==t[6]&&B(f,t[6]);const r={};!g&&2&e&&(g=!0,r.template=t[1],ot((()=>g=!1))),m.$set(r)},i(t){w||(gt(m.$$.fragment,t),w=!0)},o(t){vt(m.$$.fragment,t),w=!1},d(t){t&&N(e),t&&N(r),t&&N(n),t&&N(a),t&&N(l),t&&N(u),t&&N(c),t&&N(d),t&&N(p),Mt(m),t&&N(v),t&&N(y),_=!1,o(E)}}}function Ay(t){let r,n,i;function o(t,e){return t[3]?ky:Sy}let s=o(t),a=s(t);return{c(){r=T("div"),r.innerHTML='<i class="fas fa-sync fa-left c-green"></i>Creating new CollectionType...',n=O(),i=T("div"),a.c(),F(r,"class","titre"),F(i,"class","section")},m(t,e){x(t,r,e),x(t,n,e),x(t,i,e),a.m(i,null)},p(t,e){s!==(s=o(t))&&(a.d(1),a=s(t),a&&(a.c(),a.m(i,null)))},i:e,o:e,d(t){t&&N(r),t&&N(n),t&&N(i),a.d()}}}function Iy(t){let r,n,i,o,s,a,l,u,c=t[4]?.name+"";return{c(){r=T("div"),n=T("div"),i=T("i"),o=P("\n              CollectionType '"),s=T("a"),a=P(c),u=P("' created!"),F(i,"class","fas fa-check fa-left c-green"),F(s,"class","link"),F(s,"href",l=hu(t[0],t[4].address)),F(s,"target","_blank"),F(n,"class","titre")},m(t,e){x(t,r,e),I(r,n),I(n,i),I(n,o),I(n,s),I(s,a),I(n,u)},p(t,e){16&e&&c!==(c=t[4]?.name+"")&&L(a,c),17&e&&l!==(l=hu(t[0],t[4].address))&&F(s,"href",l)},i:e,o:e,d(t){t&&N(r)}}}function Sy(t){let e;return{c(){e=P("Sign the transaction")},m(t,r){x(t,e,r)},d(t){t&&N(e)}}}function ky(t){let e;return{c(){e=P("Wait till completed, it may take one minute or more.")},m(t,r){x(t,e,r)},d(t){t&&N(e)}}}function xy(t){let e,r,n,i,o=Jl(t[3])+"";return{c(){e=T("div"),r=T("a"),n=P(o),F(r,"class","link"),F(r,"href",i=fu(t[0],t[3])),F(r,"target","_blank"),F(e,"class","flex")},m(t,i){x(t,e,i),I(e,r),I(r,n)},p(t,e){8&e&&o!==(o=Jl(t[3])+"")&&L(n,o),9&e&&i!==(i=fu(t[0],t[3]))&&F(r,"href",i)},d(t){t&&N(e)}}}function Ny(t){let e,r,n,i,o,s,a,l,u,c,h,f;const d=[Iy,Ay,My],p=[];function m(t,e){return t[4]?0:t[2]?1:2}a=m(t),l=p[a]=d[a](t);let g=t[3]&&xy(t);return{c(){e=T("div"),r=T("div"),n=T("a"),n.innerHTML='<i class="fa fa-times"></i>',i=O(),o=T("div"),s=T("div"),l.c(),u=O(),g&&g.c(),F(n,"href","./#"),F(n,"title","Close"),F(n,"class","modal-close"),F(o,"class","modal-body"),F(r,"class","modal-content"),F(e,"id","kredeum-create-collection")},m(l,d){x(l,e,d),I(e,r),I(r,n),I(r,i),I(r,o),I(o,s),p[a].m(s,null),I(s,u),g&&g.m(s,null),c=!0,h||(f=$(n,"click",t[9]),h=!0)},p(t,[e]){let r=a;a=m(t),a===r?p[a].p(t,e):(pt(),vt(p[r],1,1,(()=>{p[r]=null})),mt(),l=p[a],l?l.p(t,e):(l=p[a]=d[a](t),l.c()),gt(l,1),l.m(s,u)),t[3]?g?g.p(t,e):(g=xy(t),g.c(),g.m(s,null)):g&&(g.d(1),g=null)},i(t){c||(gt(l),c=!0)},o(t){vt(l),c=!1},d(t){t&&N(e),p[a].d(),g&&g.d(),h=!1,f()}}}function Ry(t,e,r){let n,i;f(t,ug,(t=>r(15,i=t)));let o,{chainId:s}=e,{collection:a}=e,l=!1,u=null,c=null,h="",d="",p=Z("refreshCollectionList");f(t,p,(t=>r(14,n=t)));const m=function(){const t=J();return(e,r,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=q(e,r,{cancelable:n});return i.slice().forEach((e=>{e.call(t,o)})),!o.defaultPrevented}return!0}}();return t.$$set=t=>{"chainId"in t&&r(0,s=t.chainId),"collection"in t&&r(10,a=t.collection)},[s,o,l,u,c,h,d,p,async()=>{if(r(2,l=!0),r(3,u=null),r(4,c=null),i){const t=await(async(t,e,r,n,i)=>{var o;const s=Bl(t),a=Rl(t,i.provider),{_name:l,_symbol:u}=await(async(t,e,r)=>{const n=(await t.implementationsCount()).toString();return{_name:e||`Open NFTs #${n}`,_symbol:r||`NFTs${n}`}})(a,e,r),c="ownable"==n?[!1,!0]:[!0,!1],h=await a.connect(i).clone(l,u,"OpenNFTsV3",c);return console.log(`${(null===(o=null==s?void 0:s.blockExplorerUrls)||void 0===o?void 0:o[0])||""}/tx/${null==h?void 0:h.hash}`),h})(s,h,d,o,i);if(t){r(3,u=t.hash);const e=await(async t=>await t.wait())(t);e.status?(r(4,c={chainId:s,name:h,address:gy(e),owner:await i.getAddress()}),c?(r(10,a=c),m("collection",{collection:c.address})):console.error("ERROR createCollection no collection created")):console.error("ERROR createCollection bad status")}else console.error("ERROR createCollection no txResp")}else console.error("ERROR createCollection not signer");r(2,l=!1),y(p,n+=1,n)},()=>{c&&(r(3,u=null),r(4,c=null),r(5,h=""),r(6,d=""))},a,function(){h=this.value,r(5,h)},function(){d=this.value,r(6,d)},function(t){o=t,r(1,o)}]}class Ty extends St{constructor(t){super(),It(this,t,Ry,Ny,a,{chainId:0,collection:10})}}const Py=new Map,Oy=t=>nu(null==t?void 0:t.ipfs)||su(null==t?void 0:t.swarm)||t.image||"",Cy=async t=>{const{chainId:e,address:r,tokenID:n}=t||{},i=Bl(e);if(!(e&&r&&n&&i))return t;if(t.tokenURI){if(!t.ipfsJson){const e=tu(t.tokenURI);e&&(t.ipfsJson=e)}if(!t.swarmJson){const e=iu(t.tokenURI);e&&(t.swarmJson=e)}try{const e=await Av(t.ipfsJson||t.tokenURI);if(e.error)console.error("ERROR nftGetMetadata tokenURIAnswer.error ",e.error);else{const r=e;r&&(t.metadata=r,!t.name&&r.name&&(t.name=r.name),!t.description&&r.description&&(t.description=r.description),!t.creator&&r.creator&&(t.creator=Ll(r.creator)),!t.minter&&r.minter&&(t.minter=Ll(r.minter)),!t.owner&&r.owner&&(t.owner=Ll(r.owner)),t.image||!r.image&&!r.image_url||(t.image=r.image||r.image_url),t.ipfs||!r.ipfs&&!tu(t.image)||(t.ipfs=r.ipfs||tu(t.image)),t.swarm||!r.swarm&&!iu(t.image)||(t.swarm=r.swarm||iu(t.image)),!t.animation_url&&r.animation_url&&(t.animation_url=r.animation_url))}}catch(t){console.error("ERROR nftGetMetadata tokenURIAnswer",t)}}return t.chainName||(t.chainName=i.chainName),t.nid||(t.nid=Au(e,r,n)),t.contentType||(t.contentType=await(async t=>{const{chainId:e,address:r,tokenID:n}=t||{},i=Oy(t);let o="text";if(!(e&&r&&n&&i))return o;if(o=Py.get(i)||"",o)return o;o="image";try{const t=await fetch(i,{method:"HEAD"});200===t.status&&(o=t.headers.get("content-type")||o,Py.set(i,o))}catch(e){console.error("ERROR nftGetContentType",e,i,t)}return console.log(`nftGetContentType ${Au(e,r,n)}\n`,i,o),o})(t)),t};class $y extends class{constructor(t){this.jsonPrepare=t=>JSON.stringify(t,null,2),this.endpoint=t}async pin(t,e){return"Ipfs.pin is abstract"}async add(t,e={}){let r="";const n=new FormData;n.append("file",t),e.method="POST",e.body=n;try{const t=await fetch(`${this.endpoint}/api/v0/add`,e);r=(await t.json()).Hash}catch(t){console.log("ERROR Ipfs.add",t)}return r}async pinUrl(t,e){return await this.pin(await(await fetch(t)).blob(),e)}async addUrl(t,e){const r=await fetch(t),n=await r.buffer();return await this.add(n,e)}async pinJson(t,e){return await this.pin(this.jsonPrepare(t),e)}async addJson(t,e){return await this.add(this.jsonPrepare(t),e)}}{constructor(t){super("https://api.nft.storage"),this.key=t||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDcyMDA4ODA4NjAxQjNmNmU0OEZCQTZlNjIzM2E4RDkwQ2VmRjhiMDkiLCJpc3MiOiJuZnQtc3RvcmFnZSIsImlhdCI6MTYzMTc5NDgzODYwMywibmFtZSI6IkRFViJ9.1vUbgACZJYsiAK280fg3IeKjToYrEKFpI0-IkMTZWsM"}async pin(t){var e;let r="";const n=`${this.endpoint}/upload`;console.log(`NftStorage.pin <= ${n}`);const i=await fetch(n,{method:"POST",body:t,headers:{Authorization:"Bearer "+this.key}}),o=await i.json();return o.ok?r=(null===(e=o.value)||void 0===e?void 0:e.cid)||"":console.error("NftStorage.pin",o.error),console.log(`NftStorage.pin => ipfs://${r}`),r}}let Fy;const Ly=async(t,e="")=>{Fy=Fy||new $y(e);return`ipfs://${await Fy.pinUrl(t)}`},By=async(t="No name",e="",r="",n="",i="",o="{}")=>{const s={name:t,description:e||t||"",image:nu(r),ipfs:r,origin:Jl(i,140),minter:n};o&&(s.metadata=JSON.parse(o));return`ipfs://${await Fy.pinJson(s)}`};class Dy extends Error{constructor(t){super(t)}}class Uy extends Dy{constructor(t,e){super(t),this.value=e}}class qy extends Dy{constructor(t,e){super(t),this.requestOptions=e}}class zy extends Dy{constructor(t,e,r,n,i){super(i),this.status=t,this.response=e,this.responseBody=r,this.requestOptions=n}}class jy extends Dy{constructor(){super("Received response is not valid JSON.")}}function Gy(t){const e=function(t){if(!t)throw new Dy("missing content-disposition header");const e=t.match(/filename\*?=['"]?(?:UTF-\d['"]*)?([^;\r\n"']*)['"]?;?/i);if(e&&e.length>0)return e[1];throw new Dy("invalid content-disposition header")}(t.get("content-disposition")),r=function(t){if(t)return parseInt(t,10)}(t.get("swarm-tag-uid"));return{name:e,tagUid:r,contentType:t.get("content-type")||void 0}}function Hy(t,e){if(!t)throw new Dy("Postage BatchID has to be specified!");const r={"swarm-postage-batch-id":t};return(null==e?void 0:e.pin)&&(r["swarm-pin"]=String(e.pin)),(null==e?void 0:e.encrypt)&&(r["swarm-encrypt"]=String(e.encrypt)),(null==e?void 0:e.tag)&&(r["swarm-tag"]=String(e.tag)),"boolean"==typeof(null==e?void 0:e.deferred)&&(r["swarm-deferred-upload"]=e.deferred.toString()),r}
/*! MIT License  Sindre Sorhus */const Wy={},Vy=t=>"undefined"!=typeof self&&self&&t in self?self:"undefined"!=typeof window&&window&&t in window?window:"undefined"!=typeof global&&global&&t in global?global:"undefined"!=typeof globalThis&&globalThis?globalThis:void 0,Jy=["Headers","Request","Response","ReadableStream","fetch","AbortController","FormData"];for(const t of Jy)Object.defineProperty(Wy,t,{get(){const e=Vy(t),r=e&&e[t];return"function"==typeof r?r.bind(e):r}});const Ky=t=>null!==t&&"object"==typeof t,Xy="function"==typeof Wy.AbortController,Zy="function"==typeof Wy.ReadableStream,Yy="function"==typeof Wy.FormData,Qy=(t,e)=>{const r=new Wy.Headers(t||{}),n=e instanceof Wy.Headers,i=new Wy.Headers(e||{});for(const[t,e]of i)n&&"undefined"===e||void 0===e?r.delete(t):r.set(t,e);return r},tb=(...t)=>{let e={},r={};for(const n of t){if(Array.isArray(n))Array.isArray(e)||(e=[]),e=[...e,...n];else if(Ky(n)){for(let[t,r]of Object.entries(n))Ky(r)&&t in e&&(r=tb(e[t],r)),e={...e,[t]:r};Ky(n.headers)&&(r=Qy(r,n.headers))}e.headers=r}return e},eb=["get","post","put","patch","head","delete"],rb={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},nb=[413,429,503],ib=Symbol("stop");class ob extends Error{constructor(t){super(t.statusText||String(0===t.status||t.status?t.status:"Unknown response error")),this.name="HTTPError",this.response=t}}class sb extends Error{constructor(t){super("Request timed out"),this.name="TimeoutError",this.request=t}}const ab=t=>new Promise((e=>setTimeout(e,t))),lb=t=>eb.includes(t)?t.toUpperCase():t,ub={limit:2,methods:["get","put","head","delete","options","trace"],statusCodes:[408,413,429,500,502,503,504],afterStatusCodes:nb},cb=(t={})=>{if("number"==typeof t)return{...ub,limit:t};if(t.methods&&!Array.isArray(t.methods))throw new Error("retry.methods must be an array");if(t.statusCodes&&!Array.isArray(t.statusCodes))throw new Error("retry.statusCodes must be an array");return{...ub,...t,afterStatusCodes:nb}},hb=2147483647;class fb{constructor(t,e={}){if(this._retryCount=0,this._input=t,this._options={credentials:this._input.credentials||"same-origin",...e,headers:Qy(this._input.headers,e.headers),hooks:tb({beforeRequest:[],beforeRetry:[],afterResponse:[]},e.hooks),method:lb(e.method||this._input.method),prefixUrl:String(e.prefixUrl||""),retry:cb(e.retry),throwHttpErrors:!1!==e.throwHttpErrors,timeout:void 0===e.timeout?1e4:e.timeout,fetch:e.fetch||Wy.fetch},"string"!=typeof this._input&&!(this._input instanceof URL||this._input instanceof Wy.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&"string"==typeof this._input){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(Xy&&(this.abortController=new Wy.AbortController,this._options.signal&&this._options.signal.addEventListener("abort",(()=>{this.abortController.abort()})),this._options.signal=this.abortController.signal),this.request=new Wy.Request(this._input,this._options),this._options.searchParams){const t="?"+new URLSearchParams(this._options.searchParams).toString(),e=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,t);!(Yy&&this._options.body instanceof Wy.FormData||this._options.body instanceof URLSearchParams)||this._options.headers&&this._options.headers["content-type"]||this.request.headers.delete("content-type"),this.request=new Wy.Request(new Wy.Request(e,this.request),this._options)}void 0!==this._options.json&&(this._options.body=JSON.stringify(this._options.json),this.request.headers.set("content-type","application/json"),this.request=new Wy.Request(this.request,{body:this._options.body}));const r=async()=>{if(this._options.timeout>hb)throw new RangeError("The `timeout` option cannot be greater than 2147483647");await ab(1);let t=await this._fetch();for(const e of this._options.hooks.afterResponse){const r=await e(this.request,this._options,this._decorateResponse(t.clone()));r instanceof Wy.Response&&(t=r)}if(this._decorateResponse(t),!t.ok&&this._options.throwHttpErrors)throw new ob(t);if(this._options.onDownloadProgress){if("function"!=typeof this._options.onDownloadProgress)throw new TypeError("The `onDownloadProgress` option must be a function");if(!Zy)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return this._stream(t.clone(),this._options.onDownloadProgress)}return t},n=this._options.retry.methods.includes(this.request.method.toLowerCase())?this._retry(r):r();for(const[t,r]of Object.entries(rb))n[t]=async()=>{this.request.headers.set("accept",this.request.headers.get("accept")||r);const i=(await n).clone();if("json"===t){if(204===i.status)return"";if(e.parseJson)return e.parseJson(await i.text())}return i[t]()};return n}_calculateRetryDelay(t){if(this._retryCount++,this._retryCount<this._options.retry.limit&&!(t instanceof sb)){if(t instanceof ob){if(!this._options.retry.statusCodes.includes(t.response.status))return 0;const e=t.response.headers.get("Retry-After");if(e&&this._options.retry.afterStatusCodes.includes(t.response.status)){let t=Number(e);return Number.isNaN(t)?t=Date.parse(e)-Date.now():t*=1e3,void 0!==this._options.retry.maxRetryAfter&&t>this._options.retry.maxRetryAfter?0:t}if(413===t.response.status)return 0}return.3*2**(this._retryCount-1)*1e3}return 0}_decorateResponse(t){return this._options.parseJson&&(t.json=async()=>this._options.parseJson(await t.text())),t}async _retry(t){try{return await t()}catch(e){const r=Math.min(this._calculateRetryDelay(e),hb);if(0!==r&&this._retryCount>0){await ab(r);for(const t of this._options.hooks.beforeRetry){if(await t({request:this.request,options:this._options,error:e,retryCount:this._retryCount})===ib)return}return this._retry(t)}if(this._options.throwHttpErrors)throw e}}async _fetch(){for(const t of this._options.hooks.beforeRequest){const e=await t(this.request,this._options);if(e instanceof Request){this.request=e;break}if(e instanceof Response)return e}return!1===this._options.timeout?this._options.fetch(this.request.clone()):(t=this.request.clone(),e=this.abortController,r=this._options,new Promise(((n,i)=>{const o=setTimeout((()=>{e&&e.abort(),i(new sb(t))}),r.timeout);r.fetch(t).then(n).catch(i).then((()=>{clearTimeout(o)}))})));var t,e,r}_stream(t,e){const r=Number(t.headers.get("content-length"))||0;let n=0;return new Wy.Response(new Wy.ReadableStream({start(i){const o=t.body.getReader();e&&e({percent:0,transferredBytes:0,totalBytes:r},new Uint8Array),async function t(){const{done:s,value:a}=await o.read();if(s)i.close();else{if(e){n+=a.byteLength;e({percent:0===r?0:n/r,transferredBytes:n,totalBytes:r},a)}i.enqueue(a),t()}}()}}))}}const db=(...t)=>{for(const e of t)if((!Ky(e)||Array.isArray(e))&&void 0!==e)throw new TypeError("The `options` argument must be an object");return tb({},...t)},pb=t=>{const e=(e,r)=>new fb(e,db(t,r));for(const r of eb)e[r]=(e,n)=>new fb(e,db(t,n,{method:r}));return e.HTTPError=ob,e.TimeoutError=sb,e.create=t=>pb(db(t)),e.extend=e=>pb(db(t,e)),e.stop=ib,e};var mb,gb=pb();!function(t){t.FULL="full",t.LIGHT="light",t.ULTRA_LIGHT="ultra-light",t.DEV="dev"}(mb||(mb={}));var vb=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};function yb(t){if("function"==typeof File)return t instanceof File;const e=t;return"object"==typeof e&&"string"==typeof e.name&&("function"==typeof e.stream||"function"==typeof e.arrayBuffer)}function bb(t){return vb(this,void 0,void 0,(function*(){return t.arrayBuffer?t.arrayBuffer():new Promise((e=>{const r=new FileReader;r.onload=()=>e(r.result),r.readAsArrayBuffer(t)}))}))}function wb(t,e){return t instanceof Uint8Array&&t.length===e}function _b(t,e,r){if(!(t instanceof Uint8Array))throw new TypeError("Data has to an Uint8Array!");return wb(t.slice(e,e+r),r)}function Eb(t,e){if(!wb(t,e))throw new TypeError(`Parameter is not valid Bytes of length: ${e} !== ${t.length}`)}function Mb(t,e,r){if(!function(t,e,r){return t instanceof Uint8Array&&t.length>=e&&t.length<=r}(t,e,r))throw new TypeError(`Parameter is not valid FlexBytes of  min: ${e}, max: ${r}, length: ${t.length}`)}function Ab(t,e,r){const n=t.slice(e,e+r);return Eb(n,r),n}function Ib(t,e,r,n){return t.slice(e)}function Sb(t,e){return t.length===e.length&&t.every(((t,r)=>t===e[r]))}function kb(t){return new Uint8Array(t)}function xb(t){return Object.assign(t,{text:()=>new TextDecoder("utf-8").decode(t),json:()=>JSON.parse(new TextDecoder("utf-8").decode(t)),hex:()=>Tb(t)})}function Nb(t,e){if("number"==typeof t)return function(t,e){if(!Number.isInteger(t))throw new TypeError("the value provided is not integer");if(t>Number.MAX_SAFE_INTEGER)throw new TypeError("the value provided exceeds safe integer");if(t<0)throw new TypeError("the value provided is a negative integer");const r=t.toString(16);if(e&&r.length!==e)throw new TypeError(`Resulting HexString does not have expected length ${e}: ${r}`);return r}(t,e);if(t instanceof Uint8Array)return Tb(t,e);if("string"==typeof t){if(Ob(t)){const r=t.slice(2);if(e&&r.length!==e)throw new TypeError(`Length mismatch for valid hex string. Expecting length ${e}: ${r}`);return r}return Cb(t,e),t}throw new TypeError("Not HexString compatible type!")}function Rb(t){Cb(t);const e=kb(t.length/2);for(let r=0;r<e.length;r++){const n=t.substr(2*r,2);e[r]=parseInt(n,16)}return e}function Tb(t,e){const r=Array.from(t,(t=>t.toString(16).padStart(2,"0"))).join("");if(e&&r.length!==e)throw new TypeError(`Resulting HexString does not have expected length ${e}: ${r}`);return r}function Pb(t,e){return"string"==typeof t&&/^[0-9a-f]+$/i.test(t)&&(!e||t.length===e)}function Ob(t){return"string"==typeof t&&/^0x[0-9a-f]+$/i.test(t)}function Cb(t,e,r="value"){if(!Pb(t,e)){if(Ob(t))throw new TypeError(`${r} not valid non prefixed hex string (has 0x prefix): ${t}`);throw new TypeError(`${r} not valid hex string${e?` of length ${e}`:""}: ${t}`)}}var $b={},Fb=function t(e,r,n){r=r||[];var i=n=n||0;for(;e>=Lb;)r[n++]=255&e|128,e/=128;for(;-128&e;)r[n++]=255&e|128,e>>>=7;return r[n]=0|e,t.bytes=n-i+1,r},Lb=Math.pow(2,31);var Bb=function t(e,r){var n,i=0,o=0,s=r=r||0,a=e.length;do{if(s>=a)throw t.bytes=0,new RangeError("Could not decode varint");n=e[s++],i+=o<28?(127&n)<<o:(127&n)*Math.pow(2,o),o+=7}while(n>=128);return t.bytes=s-r,i};var Db=Math.pow(2,7),Ub=Math.pow(2,14),qb=Math.pow(2,21),zb=Math.pow(2,28),jb=Math.pow(2,35),Gb=Math.pow(2,42),Hb=Math.pow(2,49),Wb=Math.pow(2,56),Vb=Math.pow(2,63),Jb={encode:Fb,decode:Bb,encodingLength:function(t){return t<Db?1:t<Ub?2:t<qb?3:t<zb?4:t<jb?5:t<Gb?6:t<Hb?7:t<Wb?8:t<Vb?9:10}};const Kb=t=>[Jb.decode(t),Jb.decode.bytes],Xb=(t,e,r=0)=>(Jb.encode(t,e,r),e),Zb=t=>Jb.encodingLength(t);var Yb=Object.freeze({__proto__:null,decode:Kb,encodeTo:Xb,encodingLength:Zb});const Qb=new Uint8Array(0),tw=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},ew=t=>{if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var rw=Object.freeze({__proto__:null,equals:tw,coerce:ew,isBinary:t=>t instanceof ArrayBuffer||ArrayBuffer.isView(t),fromHex:t=>{const e=t.match(/../g);return e?new Uint8Array(e.map((t=>parseInt(t,16)))):Qb},toHex:t=>t.reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),""),fromString:t=>(new TextEncoder).encode(t),toString:t=>(new TextDecoder).decode(t),empty:Qb});const nw=(t,e)=>{const r=e.byteLength,n=Zb(t),i=n+Zb(r),o=new Uint8Array(i+r);return Xb(t,o,0),Xb(r,o,n),o.set(e,i),new sw(t,r,e,o)},iw=t=>{const e=ew(t),[r,n]=Kb(e),[i,o]=Kb(e.subarray(n)),s=e.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new sw(r,i,s,e)},ow=(t,e)=>t===e||t.code===e.code&&t.size===e.size&&tw(t.bytes,e.bytes);class sw{constructor(t,e,r,n){this.code=t,this.size=e,this.digest=r,this.bytes=n}}var aw=Object.freeze({__proto__:null,create:nw,decode:iw,equals:ow,Digest:sw});var lw=function(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=i}var a=t.length,l=t.charAt(0),u=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function h(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;var e=0;if(" "!==t[e]){for(var n=0,i=0;t[e]===l;)n++,e++;for(var o=(t.length-e)*u+1>>>0,s=new Uint8Array(o);t[e];){var c=r[t.charCodeAt(e)];if(255===c)return;for(var h=0,f=o-1;(0!==c||h<i)&&-1!==f;f--,h++)c+=a*s[f]>>>0,s[f]=c%256>>>0,c=c/256>>>0;if(0!==c)throw new Error("Non-zero carry");i=h,e++}if(" "!==t[e]){for(var d=o-i;d!==o&&0===s[d];)d++;for(var p=new Uint8Array(n+(o-d)),m=n;d!==o;)p[m++]=s[d++];return p}}}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,n=0,i=0,o=e.length;i!==o&&0===e[i];)i++,r++;for(var s=(o-i)*c+1>>>0,u=new Uint8Array(s);i!==o;){for(var h=e[i],f=0,d=s-1;(0!==h||f<n)&&-1!==d;d--,f++)h+=256*u[d]>>>0,u[d]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");n=f,i++}for(var p=s-n;p!==s&&0===u[p];)p++;for(var m=l.repeat(r);p<s;++p)m+=t.charAt(u[p]);return m},decodeUnsafe:h,decode:function(t){var r=h(t);if(r)return r;throw new Error(`Non-${e} character`)}}},uw=lw;class cw{constructor(t,e,r){this.name=t,this.prefix=e,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class hw{constructor(t,e,r){if(this.name=t,this.prefix=e,void 0===e.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=r}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return dw(this,t)}}class fw{constructor(t){this.decoders=t}or(t){return dw(this,t)}decode(t){const e=t[0],r=this.decoders[e];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const dw=(t,e)=>new fw({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class pw{constructor(t,e,r,n){this.name=t,this.prefix=e,this.baseEncode=r,this.baseDecode=n,this.encoder=new cw(t,e,r),this.decoder=new hw(t,e,n)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const mw=({name:t,prefix:e,encode:r,decode:n})=>new pw(t,e,r,n),gw=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=uw(r,e);return mw({prefix:t,name:e,encode:n,decode:t=>ew(i(t))})},vw=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>mw({prefix:e,name:t,encode:t=>((t,e,r)=>{const n="="===e[e.length-1],i=(1<<r)-1;let o="",s=0,a=0;for(let n=0;n<t.length;++n)for(a=a<<8|t[n],s+=8;s>r;)s-=r,o+=e[i&a>>s];if(s&&(o+=e[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o})(t,n,r),decode:e=>((t,e,r,n)=>{const i={};for(let t=0;t<e.length;++t)i[e[t]]=t;let o=t.length;for(;"="===t[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,l=0,u=0;for(let e=0;e<o;++e){const o=i[t[e]];if(void 0===o)throw new SyntaxError(`Non-${n} character`);l=l<<r|o,a+=r,a>=8&&(a-=8,s[u++]=255&l>>a)}if(a>=r||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return s})(e,n,r,t)}),yw=gw({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});gw({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});const bw=vw({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});vw({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),vw({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),vw({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),vw({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),vw({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),vw({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),vw({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),vw({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});class ww{constructor(t,e,r,n){this.code=e,this.version=t,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Nw,byteLength:Nw,code:xw,version:xw,multihash:xw,bytes:xw,_baseCache:Nw,asCID:Nw})}toV0(){if(0===this.version)return this;{const{code:t,multihash:e}=this;if(t!==Aw)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(e.code!==Iw)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return ww.createV0(e)}}toV1(){switch(this.version){case 0:{const{code:t,digest:e}=this.multihash,r=nw(t,e);return ww.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(t){return t&&this.code===t.code&&this.version===t.version&&ow(this.multihash,t.multihash)}toString(t){const{bytes:e,version:r,_baseCache:n}=this;return 0===r?Ew(e,n,t||yw.encoder):Mw(e,n,t||bw.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(t){return Rw(/^0\.0/,Tw),!(!t||!t[kw]&&t.asCID!==t)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof ww)return t;if(null!=t&&t.asCID===t){const{version:e,code:r,multihash:n,bytes:i}=t;return new ww(e,r,n,i||Sw(e,r,n.bytes))}if(null!=t&&!0===t[kw]){const{version:e,multihash:r,code:n}=t,i=iw(r);return ww.create(e,n,i)}return null}static create(t,e,r){if("number"!=typeof e)throw new Error("String codecs are no longer supported");switch(t){case 0:if(e!==Aw)throw new Error(`Version 0 CID must use dag-pb (code: ${Aw}) block encoding`);return new ww(t,e,r,r.bytes);case 1:{const n=Sw(t,e,r.bytes);return new ww(t,e,r,n)}default:throw new Error("Invalid version")}}static createV0(t){return ww.create(0,Aw,t)}static createV1(t,e){return ww.create(1,t,e)}static decode(t){const[e,r]=ww.decodeFirst(t);if(r.length)throw new Error("Incorrect length");return e}static decodeFirst(t){const e=ww.inspectBytes(t),r=e.size-e.multihashSize,n=ew(t.subarray(r,r+e.multihashSize));if(n.byteLength!==e.multihashSize)throw new Error("Incorrect length");const i=n.subarray(e.multihashSize-e.digestSize),o=new sw(e.multihashCode,e.digestSize,i,n);return[0===e.version?ww.createV0(o):ww.createV1(e.codec,o),t.subarray(e.size)]}static inspectBytes(t){let e=0;const r=()=>{const[r,n]=Kb(t.subarray(e));return e+=n,r};let n=r(),i=Aw;if(18===n?(n=0,e=0):1===n&&(i=r()),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);const o=e,s=r(),a=r(),l=e+a;return{version:n,codec:i,multihashCode:s,digestSize:a,multihashSize:l-o,size:l}}static parse(t,e){const[r,n]=_w(t,e),i=ww.decode(n);return i._baseCache.set(r,t),i}}const _w=(t,e)=>{switch(t[0]){case"Q":{const r=e||yw;return[yw.prefix,r.decode(`${yw.prefix}${t}`)]}case yw.prefix:{const r=e||yw;return[yw.prefix,r.decode(t)]}case bw.prefix:{const r=e||bw;return[bw.prefix,r.decode(t)]}default:if(null==e)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}},Ew=(t,e,r)=>{const{prefix:n}=r;if(n!==yw.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const i=e.get(n);if(null==i){const i=r.encode(t).slice(1);return e.set(n,i),i}return i},Mw=(t,e,r)=>{const{prefix:n}=r,i=e.get(n);if(null==i){const i=r.encode(t);return e.set(n,i),i}return i},Aw=112,Iw=18,Sw=(t,e,r)=>{const n=Zb(t),i=n+Zb(e),o=new Uint8Array(i+r.byteLength);return Xb(t,o,0),Xb(e,o,n),o.set(r,i),o},kw=Symbol.for("@ipld/js-cid/CID"),xw={writable:!1,configurable:!1,enumerable:!0},Nw={writable:!1,enumerable:!1,configurable:!1},Rw=(t,e)=>{if(!t.test("0.0.0-dev"))throw new Error(e);console.warn(e)},Tw="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n",Pw=({name:t,code:e,encode:r})=>new Ow(t,e,r);class Ow{constructor(t,e,r){this.name=t,this.code=e,this.encode=r}digest(t){if(t instanceof Uint8Array){const e=this.encode(t);return e instanceof Uint8Array?nw(this.code,e):e.then((t=>nw(this.code,t)))}throw Error("Unknown type, must be binary type")}}var Cw=Object.freeze({__proto__:null,from:Pw,Hasher:Ow}),$w=Tt(Object.freeze({__proto__:null,CID:ww,hasher:Cw,digest:aw,varint:Yb,bytes:rw})),Fw=Tt(aw);function Lw(t){return null!==t&&"object"==typeof t}function Bw(t){return Lw(t)&&!Array.isArray(t)}function Dw(t,e="value"){if(!function(t){return"string"==typeof t&&/^-?(0|[1-9][0-9]*)$/g.test(t)||"number"==typeof t&&t>Number.MIN_SAFE_INTEGER&&t<Number.MAX_SAFE_INTEGER&&Number.isInteger(t)}(t))throw new TypeError(`${e} is not integer`)}function Uw(t,e="Value"){if(Dw(t,e),Number(t)<0)throw new Uy(`${e} has to be bigger or equal to zero`,t)}function qw(t){try{Cb(t,64)}catch(e){Cb(t,128)}}function zw(t){if("string"!=typeof t)throw new TypeError("ReferenceOrEns has to be a string!");if(Pb(t))return void qw(t);if(!/^(?:(?:[^-.\/?:\s][^.\/?:\s]{0,61}[^-.\/?:\s]|[^-.\/?:\s]{1,2})\.)+[^-.\/?:\s][^.\/?:\s]{0,61}[^-.\/?:\s]$/.test(t))throw new TypeError("ReferenceOrEns is not valid Reference, but also not valid ENS domain.")}function jw(t,e){var r;if("string"!=typeof t)throw new TypeError("ReferenceCidOrEns has to be a string!");try{const n=$b.decodeCid(t);if(n.type!==e)throw new Dy(`CID was expected to be of type ${e}, but got instead ${null!==(r=n.type)&&void 0!==r?r:"non-Swarm CID"}`);return n.reference}catch(t){if(t instanceof Dy)throw t}return zw(t),t}function Gw(t,e){return Object.assign(Object.assign({},t),{get cid(){return $b.encodeReference(t.reference,e).toString()}})}function Hw(t){Cb(t,64,"Address")}function Ww(t){Cb(t,64,"BatchId")}function Vw(t,e="RequestOptions"){if(void 0===t)return;if(!Bw(t))throw new TypeError(`${e} has to be an object!`);const r=t;if(r.retry&&Uw(r.retry,`${e}.retry`),r.timeout&&Uw(r.timeout,`${e}.timeout`),r.fetch&&"function"!=typeof r.fetch)throw new TypeError(`${e}.fetch has to be a function or undefined!`)}function Jw(t,e="UploadOptions"){if(!Bw(t))throw new TypeError(`${e} has to be an object!`);Vw(t,e);const r=t;if(r.pin&&"boolean"!=typeof r.pin)throw new TypeError(`options.pin property in ${e} has to be boolean or undefined!`);if(r.encrypt&&"boolean"!=typeof r.encrypt)throw new TypeError(`options.encrypt property in ${e} has to be boolean or undefined!`);if(r.tag){if("number"!=typeof r.tag)throw new TypeError(`options.tag property in ${e} has to be number or undefined!`);Uw(r.tag,"options.tag")}}function Kw(t){Jw(t,"CollectionUploadOptions");const e=t;if(e.indexDocument&&"string"!=typeof e.indexDocument)throw new TypeError("indexDocument property in CollectionUploadOptions has to be string or undefined!");if(e.errorDocument&&"string"!=typeof e.errorDocument)throw new TypeError("errorDocument property in CollectionUploadOptions has to be string or undefined!")}function Xw(t){if("string"!=typeof t&&!(t instanceof Uint8Array))throw new TypeError("Data must be either string or Uint8Array!")}function Zw(t){if(null==t)throw new TypeError("TagUid was expected but got undefined or null instead!");if(function(t){if(!Bw(t))return!1;const e=t;return!(!["total","processed","synced","uid"].every((t=>"number"==typeof e[t]))||!e.startedAt||"string"!=typeof e.startedAt)}(t))return t.uid;if("number"==typeof t)return Uw(t,"UID"),t;if("string"==typeof t){const e=parseInt(t);if(isNaN(e))throw new TypeError("Passed tagUid string is not valid integer!");if(e<0)throw new TypeError(`TagUid was expected to be positive non-negative integer! Got ${e}`);return e}throw new TypeError("tagUid has to be either Tag or a number (UID)!")}
/**
     * @license
     * web-streams-polyfill v4.0.0-beta.3
     * Copyright 2021 Mattias Buelens, Diwank Singh Tomer and other contributors.
     * This code is released under the MIT license.
     * SPDX-License-Identifier: MIT
     */!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeCid=t.decodeManifestCid=t.decodeFeedCid=t.encodeManifestReference=t.encodeFeedReference=t.encodeReference=t.ReferenceType=t.REFERENCE_HEX_LENGTH=t.SWARM_FEED_CODEC=t.SWARM_MANIFEST_CODEC=t.SWARM_NS_CODEC=t.KECCAK_256_CODEC=void 0;const e=$w,r=Fw;var n;t.KECCAK_256_CODEC=27,t.SWARM_NS_CODEC=228,t.SWARM_MANIFEST_CODEC=250,t.SWARM_FEED_CODEC=251,t.REFERENCE_HEX_LENGTH=64,function(t){t.FEED="feed",t.MANIFEST="manifest"}(n=t.ReferenceType||(t.ReferenceType={}));const i={[t.SWARM_FEED_CODEC]:n.FEED,[t.SWARM_MANIFEST_CODEC]:n.MANIFEST};function o(t){return"string"==typeof t&&(t=e.CID.parse(t)),{reference:a(t.multihash.digest),type:i[t.code]}}function s(n,i){!function(e){if(l(e),e.length!==t.REFERENCE_HEX_LENGTH)throw new TypeError("Reference does not have expected length 64 characters. Encrypted references are not supported.")}(n);const o=function(t){l(t);const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=t.substr(2*r,2);e[r]=parseInt(n,16)}return e}(n);return e.CID.createV1(i,(0,r.create)(t.KECCAK_256_CODEC,o))}function a(t,e){const r=Array.from(t,(t=>t.toString(16).padStart(2,"0"))).join("");if(e&&r.length!==e)throw new TypeError(`Resulting HexString does not have expected length ${e}: ${r}`);return r}function l(t,e,r="value"){if(!function(t,e){return"string"==typeof t&&/^[0-9a-f]+$/i.test(t)&&(!e||t.length===e)}(t,e)){throw new TypeError(`${r} not valid hex string${e?` of length ${e}`:""}: ${t}`)}}t.encodeReference=function(e,r){switch(r){case n.FEED:return s(e,t.SWARM_FEED_CODEC);case n.MANIFEST:return s(e,t.SWARM_MANIFEST_CODEC);default:throw new Error("Unknown reference type.")}},t.encodeFeedReference=function(e){return s(e,t.SWARM_FEED_CODEC)},t.encodeManifestReference=function(e){return s(e,t.SWARM_MANIFEST_CODEC)},t.decodeFeedCid=function(t){const e=o(t);if(e.type!==n.FEED)throw new Error("CID did not have Swarm Feed codec!");return e.reference},t.decodeManifestCid=function(t){const e=o(t);if(e.type!==n.MANIFEST)throw new Error("CID did not have Swarm Manifest codec!");return e.reference},t.decodeCid=function(t){return o(t)}}($b);const Yw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:t=>`Symbol(${t})`;function Qw(){}function t_(t){return"object"==typeof t&&null!==t||"function"==typeof t}const e_=Qw;function r_(t,e){try{Object.defineProperty(t,"name",{value:e,configurable:!0})}catch(t){}}const n_=Promise,i_=Promise.prototype.then,o_=Promise.resolve.bind(n_),s_=Promise.reject.bind(n_);function a_(t){return new n_(t)}function l_(t){return o_(t)}function u_(t){return s_(t)}function c_(t,e,r){return i_.call(t,e,r)}function h_(t,e,r){c_(c_(t,e,r),void 0,e_)}function f_(t,e){h_(t,e)}function d_(t,e){h_(t,void 0,e)}function p_(t,e,r){return c_(t,e,r)}function m_(t){c_(t,void 0,e_)}let g_=t=>{if("function"==typeof queueMicrotask)g_=queueMicrotask;else{const t=l_(void 0);g_=e=>c_(t,e)}return g_(t)};function v_(t,e,r){if("function"!=typeof t)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(t,e,r)}function y_(t,e,r){try{return l_(v_(t,e,r))}catch(t){return u_(t)}}class b_{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(t){const e=this._back;let r=e;16383===e._elements.length&&(r={_elements:[],_next:void 0}),e._elements.push(t),r!==e&&(this._back=r,e._next=r),++this._size}shift(){const t=this._front;let e=t;const r=this._cursor;let n=r+1;const i=t._elements,o=i[r];return 16384===n&&(e=t._next,n=0),--this._size,this._cursor=n,t!==e&&(this._front=e),i[r]=void 0,o}forEach(t){let e=this._cursor,r=this._front,n=r._elements;for(;!(e===n.length&&void 0===r._next||e===n.length&&(r=r._next,n=r._elements,e=0,0===n.length));)t(n[e]),++e}peek(){const t=this._front,e=this._cursor;return t._elements[e]}}const w_=Yw("[[AbortSteps]]"),__=Yw("[[ErrorSteps]]"),E_=Yw("[[CancelSteps]]"),M_=Yw("[[PullSteps]]"),A_=Yw("[[ReleaseSteps]]");function I_(t,e){t._ownerReadableStream=e,e._reader=t,"readable"===e._state?N_(t):"closed"===e._state?function(t){N_(t),P_(t)}(t):R_(t,e._storedError)}function S_(t,e){return YM(t._ownerReadableStream,e)}function k_(t){const e=t._ownerReadableStream;"readable"===e._state?T_(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,e){R_(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}(t),e._readableStreamController[A_](),e._reader=void 0,t._ownerReadableStream=void 0}function x_(t){return new TypeError("Cannot "+t+" a stream using a released reader")}function N_(t){t._closedPromise=a_(((e,r)=>{t._closedPromise_resolve=e,t._closedPromise_reject=r}))}function R_(t,e){N_(t),T_(t,e)}function T_(t,e){void 0!==t._closedPromise_reject&&(m_(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}function P_(t){void 0!==t._closedPromise_resolve&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}const O_=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},C_=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};function $_(t,e){if(void 0!==t&&"object"!=typeof(r=t)&&"function"!=typeof r)throw new TypeError(`${e} is not an object.`);var r}function F_(t,e){if("function"!=typeof t)throw new TypeError(`${e} is not a function.`)}function L_(t,e){if(!function(t){return"object"==typeof t&&null!==t||"function"==typeof t}(t))throw new TypeError(`${e} is not an object.`)}function B_(t,e,r){if(void 0===t)throw new TypeError(`Parameter ${e} is required in '${r}'.`)}function D_(t,e,r){if(void 0===t)throw new TypeError(`${e} is required in '${r}'.`)}function U_(t){return Number(t)}function q_(t){return 0===t?0:t}function z_(t,e){const r=Number.MAX_SAFE_INTEGER;let n=Number(t);if(n=q_(n),!O_(n))throw new TypeError(`${e} is not a finite number`);if(n=function(t){return q_(C_(t))}(n),n<0||n>r)throw new TypeError(`${e} is outside the accepted range of 0 to ${r}, inclusive`);return O_(n)&&0!==n?n:0}function j_(t){if(!t_(t))return!1;if("function"!=typeof t.getReader)return!1;try{return"boolean"==typeof t.locked}catch(t){return!1}}function G_(t){if(!t_(t))return!1;if("function"!=typeof t.getWriter)return!1;try{return"boolean"==typeof t.locked}catch(t){return!1}}function H_(t,e){if(!XM(t))throw new TypeError(`${e} is not a ReadableStream.`)}function W_(t,e){t._reader._readRequests.push(e)}function V_(t,e,r){const n=t._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(e)}function J_(t){return t._reader._readRequests.length}function K_(t){const e=t._reader;return void 0!==e&&!!Z_(e)}class X_{constructor(t){if(B_(t,1,"ReadableStreamDefaultReader"),H_(t,"First parameter"),ZM(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");I_(this,t),this._readRequests=new b_}get closed(){return Z_(this)?this._closedPromise:u_(Q_("closed"))}cancel(t){return Z_(this)?void 0===this._ownerReadableStream?u_(x_("cancel")):S_(this,t):u_(Q_("cancel"))}read(){if(!Z_(this))return u_(Q_("read"));if(void 0===this._ownerReadableStream)return u_(x_("read from"));let t,e;const r=a_(((r,n)=>{t=r,e=n}));return function(t,e){const r=t._ownerReadableStream;r._disturbed=!0,"closed"===r._state?e._closeSteps():"errored"===r._state?e._errorSteps(r._storedError):r._readableStreamController[M_](e)}(this,{_chunkSteps:e=>t({value:e,done:!1}),_closeSteps:()=>t({value:void 0,done:!0}),_errorSteps:t=>e(t)}),r}releaseLock(){if(!Z_(this))throw Q_("releaseLock");void 0!==this._ownerReadableStream&&function(t){k_(t);Y_(t,new TypeError("Reader was released"))}(this)}}function Z_(t){return!!t_(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readRequests")&&t instanceof X_}function Y_(t,e){const r=t._readRequests;t._readRequests=new b_,r.forEach((t=>{t._errorSteps(e)}))}function Q_(t){return new TypeError(`ReadableStreamDefaultReader.prototype.${t} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(X_.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),r_(X_.prototype.cancel,"cancel"),r_(X_.prototype.read,"read"),r_(X_.prototype.releaseLock,"releaseLock"),"symbol"==typeof Yw.toStringTag&&Object.defineProperty(X_.prototype,Yw.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});class tE{constructor(t,e){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=e}next(){const t=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?p_(this._ongoingPromise,t,t):t(),this._ongoingPromise}return(t){const e=()=>this._returnSteps(t);return this._ongoingPromise?p_(this._ongoingPromise,e,e):e()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const t=this._reader;return void 0===t?u_(x_("iterate")):c_(t.read(),(t=>{var e;return this._ongoingPromise=void 0,t.done&&(this._isFinished=!0,null===(e=this._reader)||void 0===e||e.releaseLock(),this._reader=void 0),t}),(t=>{var e;throw this._ongoingPromise=void 0,this._isFinished=!0,null===(e=this._reader)||void 0===e||e.releaseLock(),this._reader=void 0,t}))}_returnSteps(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;const e=this._reader;if(void 0===e)return u_(x_("finish iterating"));if(this._reader=void 0,!this._preventCancel){const r=e.cancel(t);return e.releaseLock(),p_(r,(()=>({value:t,done:!0})))}return e.releaseLock(),l_({value:t,done:!0})}}const eE={next(){return rE(this)?this._asyncIteratorImpl.next():u_(nE("next"))},return(t){return rE(this)?this._asyncIteratorImpl.return(t):u_(nE("return"))}};function rE(t){if(!t_(t))return!1;if(!Object.prototype.hasOwnProperty.call(t,"_asyncIteratorImpl"))return!1;try{return t._asyncIteratorImpl instanceof tE}catch(t){return!1}}function nE(t){return new TypeError(`ReadableStreamAsyncIterator.${t} can only be used on a ReadableSteamAsyncIterator`)}"symbol"==typeof Yw.asyncIterator&&Object.defineProperty(eE,Yw.asyncIterator,{value(){return this},writable:!0,configurable:!0});const iE=Number.isNaN||function(t){return t!=t};function oE(t,e,r,n,i){new Uint8Array(t).set(new Uint8Array(r,n,i),e)}function sE(t){const e=function(t,e,r){if(t.slice)return t.slice(e,r);const n=r-e,i=new ArrayBuffer(n);return oE(i,0,t,e,n),i}(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new Uint8Array(e)}function aE(t){const e=t._queue.shift();return t._queueTotalSize-=e.size,t._queueTotalSize<0&&(t._queueTotalSize=0),e.value}function lE(t,e,r){if("number"!=typeof(n=r)||iE(n)||n<0||r===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var n;t._queue.push({value:e,size:r}),t._queueTotalSize+=r}function uE(t){t._queue=new b_,t._queueTotalSize=0}class cE{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!dE(this))throw PE("view");return this._view}respond(t){if(!dE(this))throw PE("respond");if(B_(t,1,"respond"),t=z_(t,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,function(t,e){const r=t._pendingPullIntos.peek();if("closed"===t._controlledReadableByteStream._state){if(0!==e)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===e)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+e>r.byteLength)throw new RangeError("bytesWritten out of range")}r.buffer=r.buffer,SE(t,e)}(this._associatedReadableByteStreamController,t)}respondWithNewView(t){if(!dE(this))throw PE("respondWithNewView");if(B_(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");t.buffer,function(t,e){const r=t._pendingPullIntos.peek();if("closed"===t._controlledReadableByteStream._state){if(0!==e.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===e.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==e.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==e.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+e.byteLength>r.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const n=e.byteLength;r.buffer=e.buffer,SE(t,n)}(this._associatedReadableByteStreamController,t)}}Object.defineProperties(cE.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),r_(cE.prototype.respond,"respond"),r_(cE.prototype.respondWithNewView,"respondWithNewView"),"symbol"==typeof Yw.toStringTag&&Object.defineProperty(cE.prototype,Yw.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class hE{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!fE(this))throw OE("byobRequest");return function(t){if(null===t._byobRequest&&t._pendingPullIntos.length>0){const e=t._pendingPullIntos.peek(),r=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),n=Object.create(cE.prototype);!function(t,e,r){t._associatedReadableByteStreamController=e,t._view=r}(n,t,r),t._byobRequest=n}return t._byobRequest}(this)}get desiredSize(){if(!fE(this))throw OE("desiredSize");return TE(this)}close(){if(!fE(this))throw OE("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be closed`);!function(t){const e=t._controlledReadableByteStream;if(!t._closeRequested&&"readable"===e._state)if(t._queueTotalSize>0)t._closeRequested=!0;else{if(t._pendingPullIntos.length>0&&t._pendingPullIntos.peek().bytesFilled>0){const e=new TypeError("Insufficient bytes to fill elements in the given buffer");throw NE(t,e),e}xE(t),QM(e)}}(this)}enqueue(t){if(!fE(this))throw OE("enqueue");if(B_(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(0===t.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===t.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be enqueued to`);!function(t,e){const r=t._controlledReadableByteStream;if(t._closeRequested||"readable"!==r._state)return;const n=e.buffer,i=e.byteOffset,o=e.byteLength,s=n;if(t._pendingPullIntos.length>0){const e=t._pendingPullIntos.peek();e.buffer,AE(t),e.buffer=e.buffer,"none"===e.readerType&&wE(t,e)}K_(r)?(function(t){const e=t._controlledReadableByteStream._reader;for(;e._readRequests.length>0;){if(0===t._queueTotalSize)return;RE(t,e._readRequests.shift())}}(t),0===J_(r)?yE(t,s,i,o):(t._pendingPullIntos.length>0&&kE(t),V_(r,new Uint8Array(s,i,o),!1))):FE(r)?(yE(t,s,i,o),IE(t)):yE(t,s,i,o),pE(t)}(this,t)}error(t){if(!fE(this))throw OE("error");NE(this,t)}[E_](t){mE(this),uE(this);const e=this._cancelAlgorithm(t);return xE(this),e}[M_](t){const e=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void RE(this,t);const r=this._autoAllocateChunkSize;if(void 0!==r){let n;try{n=new ArrayBuffer(r)}catch(e){return void t._errorSteps(e)}const i={buffer:n,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(i)}W_(e,t),pE(this)}[A_](){if(this._pendingPullIntos.length>0){const t=this._pendingPullIntos.peek();t.readerType="none",this._pendingPullIntos=new b_,this._pendingPullIntos.push(t)}}}function fE(t){return!!t_(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableByteStream")&&t instanceof hE}function dE(t){return!!t_(t)&&!!Object.prototype.hasOwnProperty.call(t,"_associatedReadableByteStreamController")&&t instanceof cE}function pE(t){const e=function(t){const e=t._controlledReadableByteStream;return"readable"===e._state&&(!t._closeRequested&&(!!t._started&&(!!(K_(e)&&J_(e)>0)||(!!(FE(e)&&$E(e)>0)||TE(t)>0))))}(t);e&&(t._pulling?t._pullAgain=!0:(t._pulling=!0,h_(t._pullAlgorithm(),(()=>(t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,pE(t)),null)),(e=>(NE(t,e),null)))))}function mE(t){AE(t),t._pendingPullIntos=new b_}function gE(t,e){let r=!1;"closed"===t._state&&(r=!0);const n=vE(e);"default"===e.readerType?V_(t,n,r):function(t,e,r){const n=t._reader._readIntoRequests.shift();r?n._closeSteps(e):n._chunkSteps(e)}(t,n,r)}function vE(t){const e=t.bytesFilled,r=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,e/r)}function yE(t,e,r,n){t._queue.push({buffer:e,byteOffset:r,byteLength:n}),t._queueTotalSize+=n}function bE(t,e,r,n){let i;try{i=e.slice(r,r+n)}catch(e){throw NE(t,e),e}yE(t,i,0,n)}function wE(t,e){e.bytesFilled>0&&bE(t,e.buffer,e.byteOffset,e.bytesFilled),kE(t)}function _E(t,e){const r=e.elementSize,n=e.bytesFilled-e.bytesFilled%r,i=Math.min(t._queueTotalSize,e.byteLength-e.bytesFilled),o=e.bytesFilled+i,s=o-o%r;let a=i,l=!1;s>n&&(a=s-e.bytesFilled,l=!0);const u=t._queue;for(;a>0;){const r=u.peek(),n=Math.min(a,r.byteLength),i=e.byteOffset+e.bytesFilled;oE(e.buffer,i,r.buffer,r.byteOffset,n),r.byteLength===n?u.shift():(r.byteOffset+=n,r.byteLength-=n),t._queueTotalSize-=n,EE(t,n,e),a-=n}return l}function EE(t,e,r){r.bytesFilled+=e}function ME(t){0===t._queueTotalSize&&t._closeRequested?(xE(t),QM(t._controlledReadableByteStream)):pE(t)}function AE(t){null!==t._byobRequest&&(t._byobRequest._associatedReadableByteStreamController=void 0,t._byobRequest._view=null,t._byobRequest=null)}function IE(t){for(;t._pendingPullIntos.length>0;){if(0===t._queueTotalSize)return;const e=t._pendingPullIntos.peek();_E(t,e)&&(kE(t),gE(t._controlledReadableByteStream,e))}}function SE(t,e){const r=t._pendingPullIntos.peek();AE(t),"closed"===t._controlledReadableByteStream._state?function(t,e){"none"===e.readerType&&kE(t);const r=t._controlledReadableByteStream;if(FE(r))for(;$E(r)>0;)gE(r,kE(t))}(t,r):function(t,e,r){if(EE(0,e,r),"none"===r.readerType)return wE(t,r),void IE(t);if(r.bytesFilled<r.elementSize)return;kE(t);const n=r.bytesFilled%r.elementSize;if(n>0){const e=r.byteOffset+r.bytesFilled;bE(t,r.buffer,e-n,n)}r.bytesFilled-=n,gE(t._controlledReadableByteStream,r),IE(t)}(t,e,r),pE(t)}function kE(t){return t._pendingPullIntos.shift()}function xE(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0}function NE(t,e){const r=t._controlledReadableByteStream;"readable"===r._state&&(mE(t),uE(t),xE(t),tA(r,e))}function RE(t,e){const r=t._queue.shift();t._queueTotalSize-=r.byteLength,ME(t);const n=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);e._chunkSteps(n)}function TE(t){const e=t._controlledReadableByteStream._state;return"errored"===e?null:"closed"===e?0:t._strategyHWM-t._queueTotalSize}function PE(t){return new TypeError(`ReadableStreamBYOBRequest.prototype.${t} can only be used on a ReadableStreamBYOBRequest`)}function OE(t){return new TypeError(`ReadableByteStreamController.prototype.${t} can only be used on a ReadableByteStreamController`)}function CE(t,e){t._reader._readIntoRequests.push(e)}function $E(t){return t._reader._readIntoRequests.length}function FE(t){const e=t._reader;return void 0!==e&&!!BE(e)}Object.defineProperties(hE.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),r_(hE.prototype.close,"close"),r_(hE.prototype.enqueue,"enqueue"),r_(hE.prototype.error,"error"),"symbol"==typeof Yw.toStringTag&&Object.defineProperty(hE.prototype,Yw.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class LE{constructor(t){if(B_(t,1,"ReadableStreamBYOBReader"),H_(t,"First parameter"),ZM(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!fE(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");I_(this,t),this._readIntoRequests=new b_}get closed(){return BE(this)?this._closedPromise:u_(UE("closed"))}cancel(t){return BE(this)?void 0===this._ownerReadableStream?u_(x_("cancel")):S_(this,t):u_(UE("cancel"))}read(t){if(!BE(this))return u_(UE("read"));if(!ArrayBuffer.isView(t))return u_(new TypeError("view must be an array buffer view"));if(0===t.byteLength)return u_(new TypeError("view must have non-zero byteLength"));if(0===t.buffer.byteLength)return u_(new TypeError("view's buffer must have non-zero byteLength"));if(t.buffer,void 0===this._ownerReadableStream)return u_(x_("read from"));let e,r;const n=a_(((t,n)=>{e=t,r=n}));return function(t,e,r){const n=t._ownerReadableStream;n._disturbed=!0,"errored"===n._state?r._errorSteps(n._storedError):function(t,e,r){const n=t._controlledReadableByteStream;let i=1;e.constructor!==DataView&&(i=e.constructor.BYTES_PER_ELEMENT);const o=e.constructor,s=e.buffer,a={buffer:s,bufferByteLength:s.byteLength,byteOffset:e.byteOffset,byteLength:e.byteLength,bytesFilled:0,elementSize:i,viewConstructor:o,readerType:"byob"};if(t._pendingPullIntos.length>0)return t._pendingPullIntos.push(a),void CE(n,r);if("closed"!==n._state){if(t._queueTotalSize>0){if(_E(t,a)){const e=vE(a);return ME(t),void r._chunkSteps(e)}if(t._closeRequested){const e=new TypeError("Insufficient bytes to fill elements in the given buffer");return NE(t,e),void r._errorSteps(e)}}t._pendingPullIntos.push(a),CE(n,r),pE(t)}else{const t=new o(a.buffer,a.byteOffset,0);r._closeSteps(t)}}(n._readableStreamController,e,r)}(this,t,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:t=>e({value:t,done:!0}),_errorSteps:t=>r(t)}),n}releaseLock(){if(!BE(this))throw UE("releaseLock");void 0!==this._ownerReadableStream&&function(t){k_(t);DE(t,new TypeError("Reader was released"))}(this)}}function BE(t){return!!t_(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readIntoRequests")&&t instanceof LE}function DE(t,e){const r=t._readIntoRequests;t._readIntoRequests=new b_,r.forEach((t=>{t._errorSteps(e)}))}function UE(t){return new TypeError(`ReadableStreamBYOBReader.prototype.${t} can only be used on a ReadableStreamBYOBReader`)}function qE(t,e){const{highWaterMark:r}=t;if(void 0===r)return e;if(iE(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function zE(t){const{size:e}=t;return e||(()=>1)}function jE(t,e){$_(t,e);const r=null==t?void 0:t.highWaterMark,n=null==t?void 0:t.size;return{highWaterMark:void 0===r?void 0:U_(r),size:void 0===n?void 0:GE(n,`${e} has member 'size' that`)}}function GE(t,e){return F_(t,e),e=>U_(t(e))}function HE(t,e,r){return F_(t,r),r=>y_(t,e,[r])}function WE(t,e,r){return F_(t,r),()=>y_(t,e,[])}function VE(t,e,r){return F_(t,r),r=>v_(t,e,[r])}function JE(t,e,r){return F_(t,r),(r,n)=>y_(t,e,[r,n])}Object.defineProperties(LE.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),r_(LE.prototype.cancel,"cancel"),r_(LE.prototype.read,"read"),r_(LE.prototype.releaseLock,"releaseLock"),"symbol"==typeof Yw.toStringTag&&Object.defineProperty(LE.prototype,Yw.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});const KE="function"==typeof AbortController;class XE{constructor(t={},e={}){void 0===t?t=null:L_(t,"First parameter");const r=jE(e,"Second parameter"),n=function(t,e){$_(t,e);const r=null==t?void 0:t.abort,n=null==t?void 0:t.close,i=null==t?void 0:t.start,o=null==t?void 0:t.type,s=null==t?void 0:t.write;return{abort:void 0===r?void 0:HE(r,t,`${e} has member 'abort' that`),close:void 0===n?void 0:WE(n,t,`${e} has member 'close' that`),start:void 0===i?void 0:VE(i,t,`${e} has member 'start' that`),write:void 0===s?void 0:JE(s,t,`${e} has member 'write' that`),type:o}}(t,"First parameter");var i;if((i=this)._state="writable",i._storedError=void 0,i._writer=void 0,i._writableStreamController=void 0,i._writeRequests=new b_,i._inFlightWriteRequest=void 0,i._closeRequest=void 0,i._inFlightCloseRequest=void 0,i._pendingAbortRequest=void 0,i._backpressure=!1,void 0!==n.type)throw new RangeError("Invalid type is specified");const o=zE(r);!function(t,e,r,n){const i=Object.create(hM.prototype);let o,s,a,l;o=void 0!==e.start?()=>e.start(i):()=>{},s=void 0!==e.write?t=>e.write(t,i):()=>l_(void 0),a=void 0!==e.close?()=>e.close():()=>l_(void 0),l=void 0!==e.abort?t=>e.abort(t):()=>l_(void 0),function(t,e,r,n,i,o,s,a){e._controlledWritableStream=t,t._writableStreamController=e,e._queue=void 0,e._queueTotalSize=void 0,uE(e),e._abortReason=void 0,e._abortController=function(){if(KE)return new AbortController}(),e._started=!1,e._strategySizeAlgorithm=a,e._strategyHWM=s,e._writeAlgorithm=n,e._closeAlgorithm=i,e._abortAlgorithm=o;const l=vM(e);sM(t,l);h_(l_(r()),(()=>(e._started=!0,mM(e),null)),(r=>(e._started=!0,eM(t,r),null)))}(t,i,o,s,a,l,r,n)}(this,n,qE(r,1),o)}get locked(){if(!ZE(this))throw bM("locked");return YE(this)}abort(t){return ZE(this)?YE(this)?u_(new TypeError("Cannot abort a stream that already has a writer")):QE(this,t):u_(bM("abort"))}close(){return ZE(this)?YE(this)?u_(new TypeError("Cannot close a stream that already has a writer")):iM(this)?u_(new TypeError("Cannot close an already-closing stream")):tM(this):u_(bM("close"))}getWriter(){if(!ZE(this))throw bM("getWriter");return new aM(this)}}function ZE(t){return!!t_(t)&&!!Object.prototype.hasOwnProperty.call(t,"_writableStreamController")&&t instanceof XE}function YE(t){return void 0!==t._writer}function QE(t,e){var r;if("closed"===t._state||"errored"===t._state)return l_(void 0);t._writableStreamController._abortReason=e,null===(r=t._writableStreamController._abortController)||void 0===r||r.abort(e);const n=t._state;if("closed"===n||"errored"===n)return l_(void 0);if(void 0!==t._pendingAbortRequest)return t._pendingAbortRequest._promise;let i=!1;"erroring"===n&&(i=!0,e=void 0);const o=a_(((r,n)=>{t._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:n,_reason:e,_wasAlreadyErroring:i}}));return t._pendingAbortRequest._promise=o,i||rM(t,e),o}function tM(t){const e=t._state;if("closed"===e||"errored"===e)return u_(new TypeError(`The stream (in ${e} state) is not in the writable state and cannot be closed`));const r=a_(((e,r)=>{const n={_resolve:e,_reject:r};t._closeRequest=n})),n=t._writer;var i;return void 0!==n&&t._backpressure&&"writable"===e&&TM(n),lE(i=t._writableStreamController,cM,0),mM(i),r}function eM(t,e){"writable"!==t._state?nM(t):rM(t,e)}function rM(t,e){const r=t._writableStreamController;t._state="erroring",t._storedError=e;const n=t._writer;void 0!==n&&uM(n,e),!function(t){return void 0!==t._inFlightWriteRequest||void 0!==t._inFlightCloseRequest}(t)&&r._started&&nM(t)}function nM(t){t._state="errored",t._writableStreamController[__]();const e=t._storedError;if(t._writeRequests.forEach((t=>{t._reject(e)})),t._writeRequests=new b_,void 0===t._pendingAbortRequest)return void oM(t);const r=t._pendingAbortRequest;if(t._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(e),void oM(t);h_(t._writableStreamController[w_](r._reason),(()=>(r._resolve(),oM(t),null)),(e=>(r._reject(e),oM(t),null)))}function iM(t){return void 0!==t._closeRequest||void 0!==t._inFlightCloseRequest}function oM(t){void 0!==t._closeRequest&&(t._closeRequest._reject(t._storedError),t._closeRequest=void 0);const e=t._writer;void 0!==e&&IM(e,t._storedError)}function sM(t,e){const r=t._writer;void 0!==r&&e!==t._backpressure&&(e?function(t){kM(t)}(r):TM(r)),t._backpressure=e}Object.defineProperties(XE.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),r_(XE.prototype.abort,"abort"),r_(XE.prototype.close,"close"),r_(XE.prototype.getWriter,"getWriter"),"symbol"==typeof Yw.toStringTag&&Object.defineProperty(XE.prototype,Yw.toStringTag,{value:"WritableStream",configurable:!0});class aM{constructor(t){if(B_(t,1,"WritableStreamDefaultWriter"),function(t,e){if(!ZE(t))throw new TypeError("First parameter is not a WritableStream.")}(t),YE(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;const e=t._state;if("writable"===e)!iM(t)&&t._backpressure?kM(this):NM(this),MM(this);else if("erroring"===e)xM(this,t._storedError),MM(this);else if("closed"===e)NM(this),MM(this),SM(this);else{const e=t._storedError;xM(this,e),AM(this,e)}}get closed(){return lM(this)?this._closedPromise:u_(_M("closed"))}get desiredSize(){if(!lM(this))throw _M("desiredSize");if(void 0===this._ownerWritableStream)throw EM("desiredSize");return function(t){const e=t._ownerWritableStream,r=e._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:pM(e._writableStreamController)}(this)}get ready(){return lM(this)?this._readyPromise:u_(_M("ready"))}abort(t){return lM(this)?void 0===this._ownerWritableStream?u_(EM("abort")):function(t,e){return QE(t._ownerWritableStream,e)}(this,t):u_(_M("abort"))}close(){if(!lM(this))return u_(_M("close"));const t=this._ownerWritableStream;return void 0===t?u_(EM("close")):iM(t)?u_(new TypeError("Cannot close an already-closing stream")):tM(this._ownerWritableStream)}releaseLock(){if(!lM(this))throw _M("releaseLock");void 0!==this._ownerWritableStream&&function(t){const e=t._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");uM(t,r),function(t,e){"pending"===t._closedPromiseState?IM(t,e):function(t,e){AM(t,e)}(t,e)}(t,r),e._writer=void 0,t._ownerWritableStream=void 0}(this)}write(t){return lM(this)?void 0===this._ownerWritableStream?u_(EM("write to")):function(t,e){const r=t._ownerWritableStream,n=r._writableStreamController,i=function(t,e){try{return t._strategySizeAlgorithm(e)}catch(e){return gM(t,e),1}}(n,e);if(r!==t._ownerWritableStream)return u_(EM("write to"));const o=r._state;if("errored"===o)return u_(r._storedError);if(iM(r)||"closed"===o)return u_(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===o)return u_(r._storedError);const s=function(t){return a_(((e,r)=>{const n={_resolve:e,_reject:r};t._writeRequests.push(n)}))}(r);return function(t,e,r){try{lE(t,e,r)}catch(e){return void gM(t,e)}const n=t._controlledWritableStream;iM(n)||"writable"!==n._state||sM(n,vM(t)),mM(t)}(n,e,i),s}(this,t):u_(_M("write"))}}function lM(t){return!!t_(t)&&!!Object.prototype.hasOwnProperty.call(t,"_ownerWritableStream")&&t instanceof aM}function uM(t,e){"pending"===t._readyPromiseState?RM(t,e):function(t,e){xM(t,e)}(t,e)}Object.defineProperties(aM.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),r_(aM.prototype.abort,"abort"),r_(aM.prototype.close,"close"),r_(aM.prototype.releaseLock,"releaseLock"),r_(aM.prototype.write,"write"),"symbol"==typeof Yw.toStringTag&&Object.defineProperty(aM.prototype,Yw.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const cM={};class hM{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!fM(this))throw wM("abortReason");return this._abortReason}get signal(){if(!fM(this))throw wM("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(t){if(!fM(this))throw wM("error");"writable"===this._controlledWritableStream._state&&yM(this,t)}[w_](t){const e=this._abortAlgorithm(t);return dM(this),e}[__](){uE(this)}}function fM(t){return!!t_(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledWritableStream")&&t instanceof hM}function dM(t){t._writeAlgorithm=void 0,t._closeAlgorithm=void 0,t._abortAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function pM(t){return t._strategyHWM-t._queueTotalSize}function mM(t){const e=t._controlledWritableStream;if(!t._started)return;if(void 0!==e._inFlightWriteRequest)return;if("erroring"===e._state)return void nM(e);if(0===t._queue.length)return;const r=t._queue.peek().value;r===cM?function(t){const e=t._controlledWritableStream;(function(t){t._inFlightCloseRequest=t._closeRequest,t._closeRequest=void 0})(e),aE(t);const r=t._closeAlgorithm();dM(t),h_(r,(()=>(function(t){t._inFlightCloseRequest._resolve(void 0),t._inFlightCloseRequest=void 0,"erroring"===t._state&&(t._storedError=void 0,void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._resolve(),t._pendingAbortRequest=void 0)),t._state="closed";const e=t._writer;void 0!==e&&SM(e)}(e),null)),(t=>(function(t,e){t._inFlightCloseRequest._reject(e),t._inFlightCloseRequest=void 0,void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._reject(e),t._pendingAbortRequest=void 0),eM(t,e)}(e,t),null)))}(t):function(t,e){const r=t._controlledWritableStream;!function(t){t._inFlightWriteRequest=t._writeRequests.shift()}(r),h_(t._writeAlgorithm(e),(()=>{!function(t){t._inFlightWriteRequest._resolve(void 0),t._inFlightWriteRequest=void 0}(r);const e=r._state;if(aE(t),!iM(r)&&"writable"===e){const e=vM(t);sM(r,e)}return mM(t),null}),(e=>("writable"===r._state&&dM(t),function(t,e){t._inFlightWriteRequest._reject(e),t._inFlightWriteRequest=void 0,eM(t,e)}(r,e),null)))}(t,r)}function gM(t,e){"writable"===t._controlledWritableStream._state&&yM(t,e)}function vM(t){return pM(t)<=0}function yM(t,e){const r=t._controlledWritableStream;dM(t),rM(r,e)}function bM(t){return new TypeError(`WritableStream.prototype.${t} can only be used on a WritableStream`)}function wM(t){return new TypeError(`WritableStreamDefaultController.prototype.${t} can only be used on a WritableStreamDefaultController`)}function _M(t){return new TypeError(`WritableStreamDefaultWriter.prototype.${t} can only be used on a WritableStreamDefaultWriter`)}function EM(t){return new TypeError("Cannot "+t+" a stream using a released writer")}function MM(t){t._closedPromise=a_(((e,r)=>{t._closedPromise_resolve=e,t._closedPromise_reject=r,t._closedPromiseState="pending"}))}function AM(t,e){MM(t),IM(t,e)}function IM(t,e){void 0!==t._closedPromise_reject&&(m_(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="rejected")}function SM(t){void 0!==t._closedPromise_resolve&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="resolved")}function kM(t){t._readyPromise=a_(((e,r)=>{t._readyPromise_resolve=e,t._readyPromise_reject=r})),t._readyPromiseState="pending"}function xM(t,e){kM(t),RM(t,e)}function NM(t){kM(t),TM(t)}function RM(t,e){void 0!==t._readyPromise_reject&&(m_(t._readyPromise),t._readyPromise_reject(e),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="rejected")}function TM(t){void 0!==t._readyPromise_resolve&&(t._readyPromise_resolve(void 0),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="fulfilled")}Object.defineProperties(hM.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof Yw.toStringTag&&Object.defineProperty(hM.prototype,Yw.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const PM="undefined"!=typeof DOMException?DOMException:void 0,OM=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(PM)?PM:function(){const t=function(t,e){this.message=t||"",this.name=e||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return t.prototype=Object.create(Error.prototype),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0}),t}();function CM(t,e,r,n,i,o){const s=t.getReader(),a=e.getWriter();XM(t)&&(t._disturbed=!0);let l,u,c,h=!1,f=!1,d="readable",p="writable",m=!1,g=!1;const v=a_((t=>{c=t}));let y=Promise.resolve(void 0);return a_(((b,w)=>{let _;function E(){if(h)return;const t=a_(((t,e)=>{!function r(n){n?t():c_(h?l_(!0):c_(a.ready,(()=>c_(s.read(),(t=>!!t.done||(y=a.write(t.value),m_(y),!1))))),r,e)}(!1)}));m_(t)}function M(){return d="closed",r?k():S((()=>(ZE(e)&&(m=iM(e),p=e._state),m||"closed"===p?l_(void 0):"erroring"===p||"errored"===p?u_(u):(m=!0,a.close()))),!1,void 0),null}function A(t){return h||(d="errored",l=t,n?k(!0,t):S((()=>a.abort(t)),!0,t)),null}function I(t){return f||(p="errored",u=t,i?k(!0,t):S((()=>s.cancel(t)),!0,t)),null}if(void 0!==o&&(_=()=>{const t=void 0!==o.reason?o.reason:new OM("Aborted","AbortError"),e=[];n||e.push((()=>"writable"===p?a.abort(t):l_(void 0))),i||e.push((()=>"readable"===d?s.cancel(t):l_(void 0))),S((()=>Promise.all(e.map((t=>t())))),!0,t)},o.aborted?_():o.addEventListener("abort",_)),XM(t)&&(d=t._state,l=t._storedError),ZE(e)&&(p=e._state,u=e._storedError,m=iM(e)),XM(t)&&ZE(e)&&(g=!0,c()),"errored"===d)A(l);else if("erroring"===p||"errored"===p)I(u);else if("closed"===d)M();else if(m||"closed"===p){const t=new TypeError("the destination writable stream closed before all data could be piped to it");i?k(!0,t):S((()=>s.cancel(t)),!0,t)}function S(t,e,r){function n(){return"writable"!==p||m?i():f_(function(){let t;return l_(function e(){if(t!==y)return t=y,p_(y,e,e)}())}(),i),null}function i(){return t?h_(t(),(()=>x(e,r)),(t=>x(!0,t))):x(e,r),null}h||(h=!0,g?n():f_(v,n))}function k(t,e){S(void 0,t,e)}function x(t,e){return f=!0,a.releaseLock(),s.releaseLock(),void 0!==o&&o.removeEventListener("abort",_),t?w(e):b(void 0),null}h||(h_(s.closed,M,A),h_(a.closed,(function(){return f||(p="closed"),null}),I)),g?E():g_((()=>{g=!0,c(),E()}))}))}class $M{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!FM(this))throw zM("desiredSize");return UM(this)}close(){if(!FM(this))throw zM("close");if(!qM(this))throw new TypeError("The stream is not in a state that permits close");!function(t){if(!qM(t))return;const e=t._controlledReadableStream;t._closeRequested=!0,0===t._queue.length&&(BM(t),QM(e))}(this)}enqueue(t){if(!FM(this))throw zM("enqueue");if(!qM(this))throw new TypeError("The stream is not in a state that permits enqueue");return function(t,e){if(!qM(t))return;const r=t._controlledReadableStream;if(ZM(r)&&J_(r)>0)V_(r,e,!1);else{let r;try{r=t._strategySizeAlgorithm(e)}catch(e){throw DM(t,e),e}try{lE(t,e,r)}catch(e){throw DM(t,e),e}}LM(t)}(this,t)}error(t){if(!FM(this))throw zM("error");DM(this,t)}[E_](t){uE(this);const e=this._cancelAlgorithm(t);return BM(this),e}[M_](t){const e=this._controlledReadableStream;if(this._queue.length>0){const r=aE(this);this._closeRequested&&0===this._queue.length?(BM(this),QM(e)):LM(this),t._chunkSteps(r)}else W_(e,t),LM(this)}[A_](){}}function FM(t){return!!t_(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableStream")&&t instanceof $M}function LM(t){const e=function(t){const e=t._controlledReadableStream;return!!qM(t)&&(!!t._started&&(!!(ZM(e)&&J_(e)>0)||UM(t)>0))}(t);e&&(t._pulling?t._pullAgain=!0:(t._pulling=!0,h_(t._pullAlgorithm(),(()=>(t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,LM(t)),null)),(e=>(DM(t,e),null)))))}function BM(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function DM(t,e){const r=t._controlledReadableStream;"readable"===r._state&&(uE(t),BM(t),tA(r,e))}function UM(t){const e=t._controlledReadableStream._state;return"errored"===e?null:"closed"===e?0:t._strategyHWM-t._queueTotalSize}function qM(t){return!t._closeRequested&&"readable"===t._controlledReadableStream._state}function zM(t){return new TypeError(`ReadableStreamDefaultController.prototype.${t} can only be used on a ReadableStreamDefaultController`)}function jM(t,e,r){return F_(t,r),r=>y_(t,e,[r])}function GM(t,e,r){return F_(t,r),r=>y_(t,e,[r])}function HM(t,e,r){return F_(t,r),r=>v_(t,e,[r])}function WM(t,e){if("bytes"!=(t=`${t}`))throw new TypeError(`${e} '${t}' is not a valid enumeration value for ReadableStreamType`);return t}function VM(t,e){if("byob"!=(t=`${t}`))throw new TypeError(`${e} '${t}' is not a valid enumeration value for ReadableStreamReaderMode`);return t}function JM(t,e){$_(t,e);const r=null==t?void 0:t.preventAbort,n=null==t?void 0:t.preventCancel,i=null==t?void 0:t.preventClose,o=null==t?void 0:t.signal;return void 0!==o&&function(t,e){if(!function(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}(t))throw new TypeError(`${e} is not an AbortSignal.`)}(o,`${e} has member 'signal' that`),{preventAbort:Boolean(r),preventCancel:Boolean(n),preventClose:Boolean(i),signal:o}}Object.defineProperties($M.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),r_($M.prototype.close,"close"),r_($M.prototype.enqueue,"enqueue"),r_($M.prototype.error,"error"),"symbol"==typeof Yw.toStringTag&&Object.defineProperty($M.prototype,Yw.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class KM{constructor(t={},e={}){void 0===t?t=null:L_(t,"First parameter");const r=jE(e,"Second parameter"),n=function(t,e){$_(t,e);const r=t,n=null==r?void 0:r.autoAllocateChunkSize,i=null==r?void 0:r.cancel,o=null==r?void 0:r.pull,s=null==r?void 0:r.start,a=null==r?void 0:r.type;return{autoAllocateChunkSize:void 0===n?void 0:z_(n,`${e} has member 'autoAllocateChunkSize' that`),cancel:void 0===i?void 0:jM(i,r,`${e} has member 'cancel' that`),pull:void 0===o?void 0:GM(o,r,`${e} has member 'pull' that`),start:void 0===s?void 0:HM(s,r,`${e} has member 'start' that`),type:void 0===a?void 0:WM(a,`${e} has member 'type' that`)}}(t,"First parameter");var i;if((i=this)._state="readable",i._reader=void 0,i._storedError=void 0,i._disturbed=!1,"bytes"===n.type){if(void 0!==r.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(t,e,r){const n=Object.create(hE.prototype);let i,o,s;i=void 0!==e.start?()=>e.start(n):()=>{},o=void 0!==e.pull?()=>e.pull(n):()=>l_(void 0),s=void 0!==e.cancel?t=>e.cancel(t):()=>l_(void 0);const a=e.autoAllocateChunkSize;if(0===a)throw new TypeError("autoAllocateChunkSize must be greater than 0");!function(t,e,r,n,i,o,s){e._controlledReadableByteStream=t,e._pullAgain=!1,e._pulling=!1,e._byobRequest=null,e._queue=e._queueTotalSize=void 0,uE(e),e._closeRequested=!1,e._started=!1,e._strategyHWM=o,e._pullAlgorithm=n,e._cancelAlgorithm=i,e._autoAllocateChunkSize=s,e._pendingPullIntos=new b_,t._readableStreamController=e,h_(l_(r()),(()=>(e._started=!0,pE(e),null)),(t=>(NE(e,t),null)))}(t,n,i,o,s,r,a)}(this,n,qE(r,0))}else{const t=zE(r);!function(t,e,r,n){const i=Object.create($M.prototype);let o,s,a;o=void 0!==e.start?()=>e.start(i):()=>{},s=void 0!==e.pull?()=>e.pull(i):()=>l_(void 0),a=void 0!==e.cancel?t=>e.cancel(t):()=>l_(void 0),function(t,e,r,n,i,o,s){e._controlledReadableStream=t,e._queue=void 0,e._queueTotalSize=void 0,uE(e),e._started=!1,e._closeRequested=!1,e._pullAgain=!1,e._pulling=!1,e._strategySizeAlgorithm=s,e._strategyHWM=o,e._pullAlgorithm=n,e._cancelAlgorithm=i,t._readableStreamController=e,h_(l_(r()),(()=>(e._started=!0,LM(e),null)),(t=>(DM(e,t),null)))}(t,i,o,s,a,r,n)}(this,n,qE(r,1),t)}}get locked(){if(!XM(this))throw eA("locked");return ZM(this)}cancel(t){return XM(this)?ZM(this)?u_(new TypeError("Cannot cancel a stream that already has a reader")):YM(this,t):u_(eA("cancel"))}getReader(t){if(!XM(this))throw eA("getReader");return void 0===function(t,e){$_(t,e);const r=null==t?void 0:t.mode;return{mode:void 0===r?void 0:VM(r,`${e} has member 'mode' that`)}}(t,"First parameter").mode?new X_(this):function(t){return new LE(t)}(this)}pipeThrough(t,e={}){if(!j_(this))throw eA("pipeThrough");B_(t,1,"pipeThrough");const r=function(t,e){$_(t,e);const r=null==t?void 0:t.readable;D_(r,"readable","ReadableWritablePair"),function(t,e){if(!j_(t))throw new TypeError(`${e} is not a ReadableStream.`)}(r,`${e} has member 'readable' that`);const n=null==t?void 0:t.writable;return D_(n,"writable","ReadableWritablePair"),function(t,e){if(!G_(t))throw new TypeError(`${e} is not a WritableStream.`)}(n,`${e} has member 'writable' that`),{readable:r,writable:n}}(t,"First parameter"),n=JM(e,"Second parameter");if(this.locked)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(r.writable.locked)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return m_(CM(this,r.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal)),r.readable}pipeTo(t,e={}){if(!j_(this))return u_(eA("pipeTo"));if(void 0===t)return u_("Parameter 1 is required in 'pipeTo'.");if(!G_(t))return u_(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let r;try{r=JM(e,"Second parameter")}catch(t){return u_(t)}return this.locked?u_(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):t.locked?u_(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):CM(this,t,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!j_(this))throw eA("tee");if(this.locked)throw new TypeError("Cannot tee a stream that already has a reader");return function(t,e){return function(t){try{return t.getReader({mode:"byob"}).releaseLock(),!0}catch(t){return!1}}(t)?function(t){let e,r,n,i,o,s=t.getReader(),a=!1,l=!1,u=!1,c=!1,h=!1,f=!1;const d=a_((t=>{o=t}));function p(t){d_(t.closed,(e=>(t!==s||(n.error(e),i.error(e),h&&f||o(void 0)),null)))}function m(){a&&(s.releaseLock(),s=t.getReader(),p(s),a=!1),h_(s.read(),(t=>{var e,r;if(u=!1,c=!1,t.done)return h||n.close(),f||i.close(),null===(e=n.byobRequest)||void 0===e||e.respond(0),null===(r=i.byobRequest)||void 0===r||r.respond(0),h&&f||o(void 0),null;const a=t.value,d=a;let p=a;if(!h&&!f)try{p=sE(a)}catch(t){return n.error(t),i.error(t),o(s.cancel(t)),null}return h||n.enqueue(d),f||i.enqueue(p),l=!1,u?v():c&&y(),null}),(()=>(l=!1,null)))}function g(e,r){a||(s.releaseLock(),s=t.getReader({mode:"byob"}),p(s),a=!0);const d=r?i:n,m=r?n:i;h_(s.read(e),(t=>{var e;u=!1,c=!1;const n=r?f:h,i=r?h:f;if(t.done){n||d.close(),i||m.close();const r=t.value;return void 0!==r&&(n||d.byobRequest.respondWithNewView(r),i||null===(e=m.byobRequest)||void 0===e||e.respond(0)),n&&i||o(void 0),null}const a=t.value;if(i)n||d.byobRequest.respondWithNewView(a);else{let e;try{e=sE(a)}catch(t){return d.error(t),m.error(t),o(s.cancel(t)),null}n||d.byobRequest.respondWithNewView(a),m.enqueue(e)}return l=!1,u?v():c&&y(),null}),(()=>(l=!1,null)))}function v(){if(l)return u=!0,l_(void 0);l=!0;const t=n.byobRequest;return null===t?m():g(t.view,!1),l_(void 0)}function y(){if(l)return c=!0,l_(void 0);l=!0;const t=i.byobRequest;return null===t?m():g(t.view,!0),l_(void 0)}const b=new KM({type:"bytes",start(t){n=t},pull:v,cancel:function(t){if(h=!0,e=t,f){const t=[e,r],n=s.cancel(t);o(n)}return d}}),w=new KM({type:"bytes",start(t){i=t},pull:y,cancel:function(t){if(f=!0,r=t,h){const t=[e,r],n=s.cancel(t);o(n)}return d}});return p(s),[b,w]}(t):function(t,e){const r=t.getReader();let n,i,o,s,a,l=!1,u=!1,c=!1,h=!1;const f=a_((t=>{a=t}));function d(){return l?(u=!0,l_(void 0)):(l=!0,h_(r.read(),(t=>{if(u=!1,t.done)return c||o.close(),h||s.close(),c&&h||a(void 0),null;const e=t.value,r=e,n=e;return c||o.enqueue(r),h||s.enqueue(n),l=!1,u&&d(),null}),(()=>(l=!1,null))),l_(void 0))}const p=new KM({start(t){o=t},pull:d,cancel:function(t){if(c=!0,n=t,h){const t=[n,i],e=r.cancel(t);a(e)}return f}}),m=new KM({start(t){s=t},pull:d,cancel:function(t){if(h=!0,i=t,c){const t=[n,i],e=r.cancel(t);a(e)}return f}});return d_(r.closed,(t=>(o.error(t),s.error(t),c&&h||a(void 0),null))),[p,m]}(t)}(this)}values(t){if(!j_(this))throw eA("values");return function(t,e){const r=t.getReader(),n=new tE(r,e),i=Object.create(eE);return i._asyncIteratorImpl=n,i}(this,function(t,e){$_(t,"First parameter");const r=null==t?void 0:t.preventCancel;return{preventCancel:Boolean(r)}}(t).preventCancel)}}function XM(t){return!!t_(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readableStreamController")&&t instanceof KM}function ZM(t){return void 0!==t._reader}function YM(t,e){if(t._disturbed=!0,"closed"===t._state)return l_(void 0);if("errored"===t._state)return u_(t._storedError);QM(t);const r=t._reader;if(void 0!==r&&BE(r)){const t=r._readIntoRequests;r._readIntoRequests=new b_,t.forEach((t=>{t._closeSteps(void 0)}))}return p_(t._readableStreamController[E_](e),Qw)}function QM(t){t._state="closed";const e=t._reader;if(void 0!==e&&(P_(e),Z_(e))){const t=e._readRequests;e._readRequests=new b_,t.forEach((t=>{t._closeSteps()}))}}function tA(t,e){t._state="errored",t._storedError=e;const r=t._reader;void 0!==r&&(T_(r,e),Z_(r)?Y_(r,e):DE(r,e))}function eA(t){return new TypeError(`ReadableStream.prototype.${t} can only be used on a ReadableStream`)}function rA(t,e){$_(t,e);const r=null==t?void 0:t.highWaterMark;return D_(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:U_(r)}}Object.defineProperties(KM.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),r_(KM.prototype.cancel,"cancel"),r_(KM.prototype.getReader,"getReader"),r_(KM.prototype.pipeThrough,"pipeThrough"),r_(KM.prototype.pipeTo,"pipeTo"),r_(KM.prototype.tee,"tee"),r_(KM.prototype.values,"values"),"symbol"==typeof Yw.toStringTag&&Object.defineProperty(KM.prototype,Yw.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof Yw.asyncIterator&&Object.defineProperty(KM.prototype,Yw.asyncIterator,{value:KM.prototype.values,writable:!0,configurable:!0});const nA=t=>t.byteLength;r_(nA,"size");class iA{constructor(t){B_(t,1,"ByteLengthQueuingStrategy"),t=rA(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!sA(this))throw oA("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!sA(this))throw oA("size");return nA}}function oA(t){return new TypeError(`ByteLengthQueuingStrategy.prototype.${t} can only be used on a ByteLengthQueuingStrategy`)}function sA(t){return!!t_(t)&&!!Object.prototype.hasOwnProperty.call(t,"_byteLengthQueuingStrategyHighWaterMark")&&t instanceof iA}Object.defineProperties(iA.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Yw.toStringTag&&Object.defineProperty(iA.prototype,Yw.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const aA=()=>1;r_(aA,"size");class lA{constructor(t){B_(t,1,"CountQueuingStrategy"),t=rA(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!cA(this))throw uA("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!cA(this))throw uA("size");return aA}}function uA(t){return new TypeError(`CountQueuingStrategy.prototype.${t} can only be used on a CountQueuingStrategy`)}function cA(t){return!!t_(t)&&!!Object.prototype.hasOwnProperty.call(t,"_countQueuingStrategyHighWaterMark")&&t instanceof lA}function hA(t,e,r){return F_(t,r),r=>y_(t,e,[r])}function fA(t,e,r){return F_(t,r),r=>v_(t,e,[r])}function dA(t,e,r){return F_(t,r),(r,n)=>y_(t,e,[r,n])}Object.defineProperties(lA.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Yw.toStringTag&&Object.defineProperty(lA.prototype,Yw.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class pA{constructor(t={},e={},r={}){void 0===t&&(t=null);const n=jE(e,"Second parameter"),i=jE(r,"Third parameter"),o=function(t,e){$_(t,e);const r=null==t?void 0:t.flush,n=null==t?void 0:t.readableType,i=null==t?void 0:t.start,o=null==t?void 0:t.transform,s=null==t?void 0:t.writableType;return{flush:void 0===r?void 0:hA(r,t,`${e} has member 'flush' that`),readableType:n,start:void 0===i?void 0:fA(i,t,`${e} has member 'start' that`),transform:void 0===o?void 0:dA(o,t,`${e} has member 'transform' that`),writableType:s}}(t,"First parameter");if(void 0!==o.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==o.writableType)throw new RangeError("Invalid writableType specified");const s=qE(i,0),a=zE(i),l=qE(n,1),u=zE(n);let c;!function(t,e,r,n,i,o){function s(){return e}t._writableState="writable",t._writableStoredError=void 0,t._writableHasInFlightOperation=!1,t._writableStarted=!1,t._writable=function(t,e,r,n,i,o,s){return new XE({start(r){t._writableController=r;try{const e=r.signal;void 0!==e&&e.addEventListener("abort",(()=>{"writable"===t._writableState&&(t._writableState="erroring",e.reason&&(t._writableStoredError=e.reason))}))}catch(t){}return p_(e(),(()=>(t._writableStarted=!0,OA(t),null)),(e=>{throw t._writableStarted=!0,RA(t,e),e}))},write:e=>(function(t){t._writableHasInFlightOperation=!0}(t),p_(r(e),(()=>(function(t){t._writableHasInFlightOperation=!1}(t),OA(t),null)),(e=>{throw function(t,e){t._writableHasInFlightOperation=!1,RA(t,e)}(t,e),e}))),close:()=>(function(t){t._writableHasInFlightOperation=!0}(t),p_(n(),(()=>(function(t){t._writableHasInFlightOperation=!1,"erroring"===t._writableState&&(t._writableStoredError=void 0),t._writableState="closed"}(t),null)),(e=>{throw function(t,e){t._writableHasInFlightOperation=!1,t._writableState,RA(t,e)}(t,e),e}))),abort:e=>(t._writableState="errored",t._writableStoredError=e,i(e))},{highWaterMark:o,size:s})}(t,s,(function(e){return function(t,e){const r=t._transformStreamController;return t._backpressure?p_(t._backpressureChangePromise,(()=>{if("erroring"===(ZE(t._writable)?t._writable._state:t._writableState))throw ZE(t._writable)?t._writable._storedError:t._writableStoredError;return MA(r,e)})):MA(r,e)}(t,e)}),(function(){return function(t){const e=t._transformStreamController,r=e._flushAlgorithm();return _A(e),p_(r,(()=>{if("errored"===t._readableState)throw t._readableStoredError;SA(t)&&kA(t)}),(e=>{throw gA(t,e),t._readableStoredError}))}(t)}),(function(e){return function(t,e){return gA(t,e),l_(void 0)}(t,e)}),r,n),t._readableState="readable",t._readableStoredError=void 0,t._readableCloseRequested=!1,t._readablePulling=!1,t._readable=function(t,e,r,n,i,o){return new KM({start:r=>(t._readableController=r,e().catch((e=>{xA(t,e)}))),pull:()=>(t._readablePulling=!0,r().catch((e=>{xA(t,e)}))),cancel:e=>(t._readableState="closed",n(e))},{highWaterMark:i,size:o})}(t,s,(function(){return function(t){return yA(t,!1),t._backpressureChangePromise}(t)}),(function(e){return vA(t,e),l_(void 0)}),i,o),t._backpressure=void 0,t._backpressureChangePromise=void 0,t._backpressureChangePromise_resolve=void 0,yA(t,!0),t._transformStreamController=void 0}(this,a_((t=>{c=t})),l,u,s,a),function(t,e){const r=Object.create(bA.prototype);let n,i;n=void 0!==e.transform?t=>e.transform(t,r):t=>{try{return EA(r,t),l_(void 0)}catch(t){return u_(t)}},i=void 0!==e.flush?()=>e.flush(r):()=>l_(void 0),function(t,e,r,n){e._controlledTransformStream=t,t._transformStreamController=e,e._transformAlgorithm=r,e._flushAlgorithm=n}(t,r,n,i)}(this,o),void 0!==o.start?c(o.start(this._transformStreamController)):c(void 0)}get readable(){if(!mA(this))throw IA("readable");return this._readable}get writable(){if(!mA(this))throw IA("writable");return this._writable}}function mA(t){return!!t_(t)&&!!Object.prototype.hasOwnProperty.call(t,"_transformStreamController")&&t instanceof pA}function gA(t,e){xA(t,e),vA(t,e)}function vA(t,e){_A(t._transformStreamController),function(t,e){t._writableController.error(e),"writable"===t._writableState&&TA(t,e)}(t,e),t._backpressure&&yA(t,!1)}function yA(t,e){void 0!==t._backpressureChangePromise&&t._backpressureChangePromise_resolve(),t._backpressureChangePromise=a_((e=>{t._backpressureChangePromise_resolve=e})),t._backpressure=e}Object.defineProperties(pA.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof Yw.toStringTag&&Object.defineProperty(pA.prototype,Yw.toStringTag,{value:"TransformStream",configurable:!0});class bA{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!wA(this))throw AA("desiredSize");return NA(this._controlledTransformStream)}enqueue(t){if(!wA(this))throw AA("enqueue");EA(this,t)}error(t){if(!wA(this))throw AA("error");var e;e=t,gA(this._controlledTransformStream,e)}terminate(){if(!wA(this))throw AA("terminate");!function(t){const e=t._controlledTransformStream;SA(e)&&kA(e);vA(e,new TypeError("TransformStream terminated"))}(this)}}function wA(t){return!!t_(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledTransformStream")&&t instanceof bA}function _A(t){t._transformAlgorithm=void 0,t._flushAlgorithm=void 0}function EA(t,e){const r=t._controlledTransformStream;if(!SA(r))throw new TypeError("Readable side is not in a state that permits enqueue");try{!function(t,e){t._readablePulling=!1;try{t._readableController.enqueue(e)}catch(e){throw xA(t,e),e}}(r,e)}catch(t){throw vA(r,t),r._readableStoredError}const n=function(t){return!function(t){return!!SA(t)&&(!!t._readablePulling||NA(t)>0)}(t)}(r);n!==r._backpressure&&yA(r,!0)}function MA(t,e){return p_(t._transformAlgorithm(e),void 0,(e=>{throw gA(t._controlledTransformStream,e),e}))}function AA(t){return new TypeError(`TransformStreamDefaultController.prototype.${t} can only be used on a TransformStreamDefaultController`)}function IA(t){return new TypeError(`TransformStream.prototype.${t} can only be used on a TransformStream`)}function SA(t){return!t._readableCloseRequested&&"readable"===t._readableState}function kA(t){t._readableState="closed",t._readableCloseRequested=!0,t._readableController.close()}function xA(t,e){"readable"===t._readableState&&(t._readableState="errored",t._readableStoredError=e),t._readableController.error(e)}function NA(t){return t._readableController.desiredSize}function RA(t,e){"writable"!==t._writableState?PA(t):TA(t,e)}function TA(t,e){t._writableState="erroring",t._writableStoredError=e,!function(t){return t._writableHasInFlightOperation}(t)&&t._writableStarted&&PA(t)}function PA(t){t._writableState="errored"}function OA(t){"erroring"===t._writableState&&PA(t)}function CA(t){return $A(t)||FA(t)}function $A(t){if(!Bw(t))return!1;const e=t;return"function"==typeof e.getReader&&void 0!==e.locked&&"function"==typeof e.cancel&&"function"==typeof e.pipeTo&&"function"==typeof e.pipeThrough}function FA(t){if(!Bw(t))return!1;const e=t;return!("function"!=typeof e.pipe||!e.readable||"function"!=typeof e._read)}
/**
     * Function that converts Node's Readable into WHATWG ReadableStream
     *
     * Taken over from https://github.com/gwicke/node-web-streams/blob/master/lib/conversions.js
     * Because it uses forked web-streams-polyfill that are outdated.
     *
     * @author https://github.com/gwicke
     * @licence Apache License 2.0 https://github.com/gwicke/node-web-streams/blob/master/LICENSE
     * @param nodeStream
     */function LA(t){if(FA(t))return e=t,new KM({start(t){e.pause(),e.on("data",(r=>{Buffer.isBuffer(r)?t.enqueue(new Uint8Array(r.buffer)):t.enqueue(r),e.pause()})),e.on("end",(()=>t.close())),e.on("error",(e=>t.error(e)))},pull(){e.resume()},cancel(){e.pause()}});if($A(t))return t;var e;throw new TypeError("Passed stream is not Node Readable nor ReadableStream!")}
/**
     * Function that deep merges objects
     *
     * @copyright https://github.com/sindresorhus/ky/blob/b3c9e88fa49d50150dbb6e6b771b4af56cb40c98/source/utils/merge.ts
     * @licence MIT
     * @param sources
     */function BA(...t){let e={};for(const r of t)if(Array.isArray(r))Array.isArray(e)||(e=[]),e=[...e,...r];else if(Lw(r))for(let[t,n]of Object.entries(r))Lw(n)&&t in e&&(n=BA(e[t],n)),e=Object.assign(Object.assign({},e),{[t]:n});return e}Object.defineProperties(bA.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),r_(bA.prototype.enqueue,"enqueue"),r_(bA.prototype.error,"error"),r_(bA.prototype.terminate,"terminate"),"symbol"==typeof Yw.toStringTag&&Object.defineProperty(bA.prototype,Yw.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var DA=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))},UA=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r};const qA={headers:{accept:"application/json, text/plain, */*","user-agent":"bee-js"}};function zA(t){return[...t.entries()].reduce(((t,[e,r])=>(t[e]=r,t)),{})}function jA(t){return{url:t.url,method:t.method.toUpperCase(),headers:zA(t.headers)}}function GA(t){if(void 0===t)return;const e=t;for(const t in e)void 0===e[t]&&delete e[t];return 0!==Object.keys(e).length?e:void 0}function HA(t,e){return DA(this,void 0,void 0,(function*(){try{const{path:r,responseType:n}=e,i=UA(e,["path","responseType"]),o=yield t(r,Object.assign(Object.assign({},i),{searchParams:GA(i.searchParams)}));switch(n){case"stream":if(!o.body)throw new Dy("Response was expected to get data but did not get any!");o.data=LA(o.body);break;case"arraybuffer":o.data=yield o.arrayBuffer();break;case"json":try{o.data=yield o.json()}catch(t){throw new jy}}return o}catch(t){if(t instanceof jy)throw t;if(function(t){return Lw(t)&&void 0!==t.response}(t)){let r;const n=yield t.response.text();try{r=JSON.parse(n).message}catch(t){}throw new zy(t.response.status,t.response,n,e,r?`${t.response.statusText}: ${r}`:t.response.statusText)}if(function(t){return Lw(t)&&void 0!==t.request}(t))throw new qy(t.message,e);if(t.cause)throw new Dy(t.cause.message);throw new Dy(t.message)}}))}function WA(t){return gb.create(BA(qA,t))}var VA=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};function JA(t){return VA(this,void 0,void 0,(function*(){if("string"==typeof t)return new Blob([t],{type:"text/plain"});if(t instanceof Uint8Array||t instanceof ArrayBuffer)return new Blob([t],{type:"application/octet-stream"});if(t instanceof Blob)return t;if(FA(t))return new Promise((e=>{const r=[];t.on("data",(t=>{r.push(t)})),t.on("end",(()=>{e(new Blob(r,{type:"application/octet-stream"}))}))}));if($A(t))return new Promise((e=>VA(this,void 0,void 0,(function*(){const r=t.getReader(),n=[];let i,o;do{({done:i,value:o}=yield r.read()),i||n.push(o)}while(!i);e(new Blob(n,{type:"application/octet-stream"}))}))));throw new TypeError("unknown data type")}))}var KA={exports:{}},XA={},ZA={};!function(){var t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"];function e(t){var e,r=new Uint8Array(t);for(e=0;e<t;e+=1)r[e]=0;return r}ZA.clean=e,ZA.pad=function(t,e,r){return t=t.toString(r||8),"000000000000".substr(t.length+12-e)+t},ZA.extend=function(t,r,n,i){var o=e((parseInt((r+n)/i)+1)*i);return o.set(t),o},ZA.stringToUint8=function(t,r,n){var i,o;for(r=r||e(t.length),n=n||0,i=0,o=t.length;i<o;i+=1)r[n]=t.charCodeAt(i),n+=1;return r},ZA.uint8ToBase64=function(e){var r,n,i,o,s=e.length%3,a="";for(r=0,i=e.length-s;r<i;r+=3)n=(e[r]<<16)+(e[r+1]<<8)+e[r+2],a+=t[(o=n)>>18&63]+t[o>>12&63]+t[o>>6&63]+t[63&o];switch(a.length%4){case 1:a+="=";break;case 2:a+="=="}return a},ZA.base64ToUint8=function(r){for(var n,i=r.match(/^([^=]+)/)[1],o=r.match(/(=*)$/)[1].length,s=0,a=i.length,l=0,u=e(.75*i.length+o);s<a;)n=0,n|=t.indexOf(i.charAt(s)||"A")<<18,s+=1,n|=t.indexOf(i.charAt(s)||"A")<<12,s+=1,n|=t.indexOf(i.charAt(s)||"A")<<6,s+=1,n|=t.indexOf(i.charAt(s)||"A"),s+=1,u[l]=n>>16&255,u[l+=1]=n>>8&255,u[l+=1]=255&n,l+=1;return u}}(),function(){var t,e=ZA;t=[{field:"fileName",length:100},{field:"fileMode",length:8},{field:"uid",length:8},{field:"gid",length:8},{field:"fileSize",length:12},{field:"mtime",length:12},{field:"checksum",length:8},{field:"type",length:1},{field:"linkName",length:100},{field:"ustar",length:8},{field:"owner",length:32},{field:"group",length:32},{field:"majorNumber",length:8},{field:"minorNumber",length:8},{field:"filenamePrefix",length:155},{field:"padding",length:12}],XA.structure=t,XA.format=function(r,n){var i=e.clean(512),o=0;return t.forEach((function(t){var e,n,s=r[t.field]||"";for(e=0,n=s.length;e<n;e+=1)i[o]=s.charCodeAt(e),o+=1;o+=t.length-e})),"function"==typeof n?n(i,o):i}}(),function(){var t,e=XA,r=ZA,n=512;function i(e){this.written=0,t=(e||20)*n,this.out=r.clean(t)}i.prototype.append=function(i,o,s,a){var l,u,c,h,f,d,p;if("string"==typeof o)o=r.stringToUint8(o);else if(o.constructor!==Uint8Array.prototype.constructor)throw"Invalid input type. You gave me: "+o.constructor.toString().match(/function\s*([$A-Za-z_][0-9A-Za-z_]*)\s*\(/)[1];return"function"==typeof s&&(a=s,s={}),c=(s=s||{}).mode||4095&parseInt("777",8),h=s.mtime||Math.floor(+new Date/1e3),f=s.uid||0,d=s.gid||0,l={fileName:i,fileMode:r.pad(c,7),uid:r.pad(f,7),gid:r.pad(d,7),fileSize:r.pad(o.length,11),mtime:r.pad(h,11),checksum:"        ",type:"0",ustar:"ustar  ",owner:s.owner||"",group:s.group||""},u=0,Object.keys(l).forEach((function(t){var e,r,n=l[t];for(e=0,r=n.length;e<r;e+=1)u+=n.charCodeAt(e)})),l.checksum=r.pad(u,6)+"\0 ",p=e.format(l),this.out.set(p,this.written),this.written+=p.length,this.written+o.length>this.out.length&&(this.out=r.extend(this.out,this.written,o.length,t)),this.out.set(o,this.written),this.written+=o.length+(n-(o.length%n||n)),this.out.length-this.written<1024&&(this.out=r.extend(this.out,this.written,1024,t)),"function"==typeof a&&a(this.out),this.out},i.prototype.clear=function(){this.written=0,this.out=r.clean(t)},i.utils=r,i.stringToUint8=r.stringToUint8,i.uint8ToBase64=r.uint8ToBase64,i.base64ToUint8=r.base64ToUint8,KA.exports=i}();var YA=KA.exports;function QA(t){const e=(new TextEncoder).encode(t);return{length:e.length,charCodeAt:t=>e[t]}}var tI=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};function eI(t){return!!Array.isArray(t)&&t.every((t=>"object"==typeof t&&t.data&&t.path&&t.data instanceof Uint8Array))}function rI(t){if(!eI(t))throw new Uy("invalid collection",t)}function nI(t){if(t.webkitRelativePath&&""!==t.webkitRelativePath)return t.webkitRelativePath.replace(/.*?\//i,"");if(t.name)return t.name;throw new TypeError("file is not valid File object")}var iI=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};const oI="bzz";function sI(t,e){const r=Hy(t,e);return(null==e?void 0:e.size)&&(r["content-length"]=String(e.size)),(null==e?void 0:e.contentType)&&(r["content-type"]=e.contentType),r}function aI(t,e,r,n,i){return iI(this,void 0,void 0,(function*(){CA(e)&&!(null==i?void 0:i.contentType)&&(i||(i={}),i.contentType="application/octet-stream");const o=yield HA(t,{method:"post",path:oI,body:yield JA(e),headers:Object.assign({},sI(r,i)),searchParams:{name:n},responseType:"json"});return{reference:o.data.reference,tagUid:Zw(o.headers.get("swarm-tag"))}}))}function lI(t,e){const r=Hy(t,e);return(null==e?void 0:e.indexDocument)&&(r["swarm-index-document"]=e.indexDocument),(null==e?void 0:e.errorDocument)&&(r["swarm-error-document"]=e.errorDocument),r}function uI(t,e,r,n){return iI(this,void 0,void 0,(function*(){rI(e);const i=function(t){const e=new YA;for(const r of t){const t=QA(r.path);e.append(t,r.data)}return e.out}(e),o=yield HA(t,{method:"post",path:oI,body:i,responseType:"json",headers:Object.assign({"content-type":"application/x-tar","swarm-collection":"true"},lI(r,n))});return{reference:o.data.reference,tagUid:Zw(o.headers.get("swarm-tag"))}}))}var cI=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};var hI=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};const fI="tags";var dI=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};var pI=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};const mI="bytes";var gI=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};function vI(t,e){return gI(this,void 0,void 0,(function*(){const r=yield HA(t,{responseType:"arraybuffer",path:`chunks/${e}`});return xb(new Uint8Array(r.data))}))}var yI=null;"undefined"!=typeof WebSocket?yI=WebSocket:"undefined"!=typeof MozWebSocket?yI=MozWebSocket:void 0!==Rt?yI=Rt.WebSocket||Rt.MozWebSocket:"undefined"!=typeof window?yI=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(yI=self.WebSocket||self.MozWebSocket);var bI=yI,wI=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};function _I(t,e,r,n,i,o){return wI(this,void 0,void 0,(function*(){yield HA(t,{method:"post",path:`pss/send/${e}/${r}`,body:yield JA(n),responseType:"json",searchParams:{recipient:o},headers:Hy(i)})}))}var EI=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};function MI(t){return EI(this,void 0,void 0,(function*(){yield HA(t,{path:""})}))}const{keccak256:AI}=ir;function II(...t){const e=AI.create();return t.forEach((t=>e.update(t))),Uint8Array.from(e.digest())}function SI(...t){const e=t.reduce(((t,e)=>t+e.length),0),r=new Uint8Array(e);let n=0;return t.forEach((t=>{r.set(t,n),n+=t.length})),r}var kI=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};function xI(t,e,r,n){return kI(this,void 0,void 0,(function*(){const i=yield HA(t,{responseType:"json",path:`feeds/${e}/${r}`,searchParams:GA(n)});return Object.assign(Object.assign({},i.data),function(t){const e=t.get("swarm-feed-index"),r=t.get("swarm-feed-index-next");if(!e)throw new Dy("Response did not contain expected swarm-feed-index!");if(!r)throw new Dy("Response did not contain expected swarm-feed-index-next!");return{feedIndex:e,feedIndexNext:r}}(i.headers))}))}const{keccak256:NI}=ir,RI=4096;function TI(t){const e=t.slice(0,8),r=function(t){if(t.length>RI)throw new Uy("invalid data length",t);let e=new Uint8Array([...t,...new Uint8Array(RI-t.length)]);for(;32!==e.length;){const t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=64){const n=NI.array(e.slice(r,r+64));t.set(n,r/2)}e=t}return e}(t.slice(8));return II(new Uint8Array([...e,...r]))}var PI={},OI="6.5.4",CI={},$I={exports:{}};!function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function i(t,e,r){if(i.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer}catch(t){}function s(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function a(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function l(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,e){return t.cmp(e)>0?t:e},i.min=function(t,e){return t.cmp(e)<0?t:e},i.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},i.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},i.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=a(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=a(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},i.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,c=r;c<a;c+=n)u=l(t,c,c+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var h=1;for(u=l(t,c,t.length,e),c=0;c<s;c++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,l=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var c=l>>>26,h=67108863&l,f=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=f;d++){var p=u-d|0;c+=(s=(i=0|t.words[p])*(o=0|e.words[d])+h)/67108864|0,h=67108863&s}r.words[u]=0|h,l=0|c}return 0!==l?r.words[u]=0|l:r.length--,r.strip()}i.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],l=(16777215&(a<<i|o)).toString(16);n=0!==(o=a>>>24-i&16777215)||s!==this.length-1?u[6-l.length]+l+n:l+n,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var f=c[t],d=h[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?m+n:u[f-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},i.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},i.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,l="le"===e,u=new t(o),c=this.clone();if(l){for(a=0;!c.isZero();a++)s=c.andln(255),c.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-i;a++)u[a]=0;for(a=0;!c.isZero();a++)s=c.andln(255),c.iushrn(8),u[o-a-1]=s}return u},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},i.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},i.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},i.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var n,i,o,s=t.words,a=e.words,l=r.words,u=0,c=0|s[0],h=8191&c,f=c>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,b=0|s[3],w=8191&b,_=b>>>13,E=0|s[4],M=8191&E,A=E>>>13,I=0|s[5],S=8191&I,k=I>>>13,x=0|s[6],N=8191&x,R=x>>>13,T=0|s[7],P=8191&T,O=T>>>13,C=0|s[8],$=8191&C,F=C>>>13,L=0|s[9],B=8191&L,D=L>>>13,U=0|a[0],q=8191&U,z=U>>>13,j=0|a[1],G=8191&j,H=j>>>13,W=0|a[2],V=8191&W,J=W>>>13,K=0|a[3],X=8191&K,Z=K>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],lt=8191&at,ut=at>>>13,ct=0|a[8],ht=8191&ct,ft=ct>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(n=Math.imul(h,q))|0)+((8191&(i=(i=Math.imul(h,z))+Math.imul(f,q)|0))<<13)|0;u=((o=Math.imul(f,z))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,q),i=(i=Math.imul(p,z))+Math.imul(m,q)|0,o=Math.imul(m,z);var vt=(u+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(f,G)|0))<<13)|0;u=((o=o+Math.imul(f,H)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,q),i=(i=Math.imul(v,z))+Math.imul(y,q)|0,o=Math.imul(y,z),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,H)|0;var yt=(u+(n=n+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(f,V)|0))<<13)|0;u=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,q),i=(i=Math.imul(w,z))+Math.imul(_,q)|0,o=Math.imul(_,z),n=n+Math.imul(v,G)|0,i=(i=i+Math.imul(v,H)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,H)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,J)|0;var bt=(u+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(f,X)|0))<<13)|0;u=((o=o+Math.imul(f,Z)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(M,q),i=(i=Math.imul(M,z))+Math.imul(A,q)|0,o=Math.imul(A,z),n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,H)|0,n=n+Math.imul(v,V)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,Z)|0;var wt=(u+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,Q)|0))<<13)|0;u=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(S,q),i=(i=Math.imul(S,z))+Math.imul(k,q)|0,o=Math.imul(k,z),n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,H)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,H)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(v,X)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var _t=(u+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;u=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(N,q),i=(i=Math.imul(N,z))+Math.imul(R,q)|0,o=Math.imul(R,z),n=n+Math.imul(S,G)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,H)|0,n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,J)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,Z)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,Z)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var Et=(u+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,st)|0)+Math.imul(f,ot)|0))<<13)|0;u=((o=o+Math.imul(f,st)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(P,q),i=(i=Math.imul(P,z))+Math.imul(O,q)|0,o=Math.imul(O,z),n=n+Math.imul(N,G)|0,i=(i=i+Math.imul(N,H)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,H)|0,n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(k,V)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,Z)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var Mt=(u+(n=n+Math.imul(h,lt)|0)|0)+((8191&(i=(i=i+Math.imul(h,ut)|0)+Math.imul(f,lt)|0))<<13)|0;u=((o=o+Math.imul(f,ut)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul($,q),i=(i=Math.imul($,z))+Math.imul(F,q)|0,o=Math.imul(F,z),n=n+Math.imul(P,G)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,H)|0,n=n+Math.imul(N,V)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(R,V)|0,o=o+Math.imul(R,J)|0,n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,Z)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(p,lt)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(m,lt)|0,o=o+Math.imul(m,ut)|0;var At=(u+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;u=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,q),i=(i=Math.imul(B,z))+Math.imul(D,q)|0,o=Math.imul(D,z),n=n+Math.imul($,G)|0,i=(i=i+Math.imul($,H)|0)+Math.imul(F,G)|0,o=o+Math.imul(F,H)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,J)|0,n=n+Math.imul(N,X)|0,i=(i=i+Math.imul(N,Z)|0)+Math.imul(R,X)|0,o=o+Math.imul(R,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,n=n+Math.imul(v,lt)|0,i=(i=i+Math.imul(v,ut)|0)+Math.imul(y,lt)|0,o=o+Math.imul(y,ut)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,ft)|0;var It=(u+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,pt)|0))<<13)|0;u=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(B,G),i=(i=Math.imul(B,H))+Math.imul(D,G)|0,o=Math.imul(D,H),n=n+Math.imul($,V)|0,i=(i=i+Math.imul($,J)|0)+Math.imul(F,V)|0,o=o+Math.imul(F,J)|0,n=n+Math.imul(P,X)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,Z)|0,n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(w,lt)|0,i=(i=i+Math.imul(w,ut)|0)+Math.imul(_,lt)|0,o=o+Math.imul(_,ut)|0,n=n+Math.imul(v,ht)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,ft)|0;var St=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(B,V),i=(i=Math.imul(B,J))+Math.imul(D,V)|0,o=Math.imul(D,J),n=n+Math.imul($,X)|0,i=(i=i+Math.imul($,Z)|0)+Math.imul(F,X)|0,o=o+Math.imul(F,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(N,rt)|0,i=(i=i+Math.imul(N,nt)|0)+Math.imul(R,rt)|0,o=o+Math.imul(R,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,n=n+Math.imul(M,lt)|0,i=(i=i+Math.imul(M,ut)|0)+Math.imul(A,lt)|0,o=o+Math.imul(A,ut)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,ft)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,ft)|0;var kt=(u+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,X),i=(i=Math.imul(B,Z))+Math.imul(D,X)|0,o=Math.imul(D,Z),n=n+Math.imul($,Q)|0,i=(i=i+Math.imul($,tt)|0)+Math.imul(F,Q)|0,o=o+Math.imul(F,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,st)|0)+Math.imul(R,ot)|0,o=o+Math.imul(R,st)|0,n=n+Math.imul(S,lt)|0,i=(i=i+Math.imul(S,ut)|0)+Math.imul(k,lt)|0,o=o+Math.imul(k,ut)|0,n=n+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,ft)|0)+Math.imul(A,ht)|0,o=o+Math.imul(A,ft)|0;var xt=(u+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(B,Q),i=(i=Math.imul(B,tt))+Math.imul(D,Q)|0,o=Math.imul(D,tt),n=n+Math.imul($,rt)|0,i=(i=i+Math.imul($,nt)|0)+Math.imul(F,rt)|0,o=o+Math.imul(F,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,n=n+Math.imul(N,lt)|0,i=(i=i+Math.imul(N,ut)|0)+Math.imul(R,lt)|0,o=o+Math.imul(R,ut)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(k,ht)|0,o=o+Math.imul(k,ft)|0;var Nt=(u+(n=n+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(A,pt)|0))<<13)|0;u=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(B,rt),i=(i=Math.imul(B,nt))+Math.imul(D,rt)|0,o=Math.imul(D,nt),n=n+Math.imul($,ot)|0,i=(i=i+Math.imul($,st)|0)+Math.imul(F,ot)|0,o=o+Math.imul(F,st)|0,n=n+Math.imul(P,lt)|0,i=(i=i+Math.imul(P,ut)|0)+Math.imul(O,lt)|0,o=o+Math.imul(O,ut)|0,n=n+Math.imul(N,ht)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(R,ht)|0,o=o+Math.imul(R,ft)|0;var Rt=(u+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(k,pt)|0))<<13)|0;u=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(B,ot),i=(i=Math.imul(B,st))+Math.imul(D,ot)|0,o=Math.imul(D,st),n=n+Math.imul($,lt)|0,i=(i=i+Math.imul($,ut)|0)+Math.imul(F,lt)|0,o=o+Math.imul(F,ut)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,ft)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,ft)|0;var Tt=(u+(n=n+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,mt)|0)+Math.imul(R,pt)|0))<<13)|0;u=((o=o+Math.imul(R,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(B,lt),i=(i=Math.imul(B,ut))+Math.imul(D,lt)|0,o=Math.imul(D,ut),n=n+Math.imul($,ht)|0,i=(i=i+Math.imul($,ft)|0)+Math.imul(F,ht)|0,o=o+Math.imul(F,ft)|0;var Pt=(u+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(B,ht),i=(i=Math.imul(B,ft))+Math.imul(D,ht)|0,o=Math.imul(D,ft);var Ot=(u+(n=n+Math.imul($,pt)|0)|0)+((8191&(i=(i=i+Math.imul($,mt)|0)+Math.imul(F,pt)|0))<<13)|0;u=((o=o+Math.imul(F,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Ct=(u+(n=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,mt))+Math.imul(D,pt)|0))<<13)|0;return u=((o=Math.imul(D,mt))+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,l[0]=gt,l[1]=vt,l[2]=yt,l[3]=bt,l[4]=wt,l[5]=_t,l[6]=Et,l[7]=Mt,l[8]=At,l[9]=It,l[10]=St,l[11]=kt,l[12]=xt,l[13]=Nt,l[14]=Rt,l[15]=Tt,l[16]=Pt,l[17]=Ot,l[18]=Ct,0!==u&&(l[19]=u,r.length++),r};function p(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(d=f),i.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?d(this,t,e):n<63?f(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,l=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=l;u++){var c=o-u,h=(0|t.words[c])*(0|e.words[u]),f=67108863&h;a=67108863&(f=f+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):p(this,t,e),r},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=i.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},m.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},m.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,l=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var h=l,f=u,d=0;d<s;d++){var p=r[c+d],m=n[c+d],g=r[c+d+s],v=n[c+d+s],y=h*g-f*v;v=h*v+f*g,g=y,r[c+d]=p+g,n[c+d]=m+v,r[c+d+s]=p-g,n[c+d+s]=m-v,d!==a&&(y=l*h-u*f,f=l*f+u*h,h=y)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},m.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,n,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),l=new Array(n),u=new Array(n),c=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,u,n),this.transform(s,o,a,l,n,i),this.transform(u,o,c,h,n,i);for(var d=0;d<n;d++){var p=a[d]*c[d]-l[d]*h[d];l[d]=a[d]*h[d]+l[d]*c[d],a[d]=p}return this.conjugate(a,l,n),this.transform(a,l,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.mulf=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),p(this,t,e)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new i(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var o=r.sqr();n<e.length;n++,o=o.sqr())0!==e[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,l=(0|this.words[e])-a<<n;this.words[e]=l|s,s=a>>>26-n}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,l=n;if(i-=s,i=Math.max(0,i),l){for(var u=0;u<s;u++)l.words[u]=this.words[u];l.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=i);u--){var h=0|this.words[u];this.words[u]=c<<26-o|h>>>o,c=h&a}return l&&0!==c&&(l.words[l.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,n){var i,o,s=t.length+n;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var l=(0|t.words[i])*e;a=((o-=67108863&l)>>26)-(l/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},i.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),o=t,s=0|o.words[o.length-1];0!==(r=26-this._countBits(s))&&(o=o.ushln(r),n.iushln(r),s=0|o.words[o.length-1]);var a,l=n.length-o.length;if("mod"!==e){(a=new i(null)).length=l+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var c=n.clone()._ishlnsubmul(o,1,l);0===c.negative&&(n=c,a&&(a.words[l]=1));for(var h=l-1;h>=0;h--){var f=67108864*(0|n.words[o.length+h])+(0|n.words[o.length+h-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(o,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(o,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=f)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(o=a.div.neg()),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(o=a.div.neg()),{div:o,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,e);var o,s,a},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},i.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new i(1),s=new i(0),a=new i(0),l=new i(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var c=n.clone(),h=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(c),s.isub(h)),o.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(c),l.isub(h)),a.iushrn(1),l.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a),s.isub(l)):(n.isub(e),a.isub(o),l.isub(s))}return{a:a,b:l,gcd:n.iushln(u)}},i.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,s=new i(1),a=new i(0),l=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,c=1;0==(e.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(l),s.iushrn(1);for(var h=0,f=1;0==(n.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(n.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a)):(n.isub(e),a.isub(s))}return(o=0===e.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(t),o},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new E(t)},i.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function M(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},n(y,v),y.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(b,v),n(w,v),n(_,v),_.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new y;else if("p224"===t)e=new b;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new _}return g[t]=e,e},E.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},E.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new i(1).toRed(this),l=a.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);0!==this.pow(c,u).cmp(l);)c.redIAdd(l);for(var h=this.pow(c,o),f=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();r(g<p);var v=this.pow(h,new i(1).iushln(p-g-1));f=f.redMul(v),h=v.redSqr(),d=d.redMul(h),p=g}return f},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new i(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var o=r[0],s=0,a=0,l=e.bitLength()%26;for(0===l&&(l=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],c=l-1;c>=0;c--){var h=u>>c&1;o!==r[0]&&(o=this.sqr(o)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===n&&0===c)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}l=26}return o},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new M(t)},n(M,E),M.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},M.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},M.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},M.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new i(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},M.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,Rt)}($I);var FI={};!function(t){var e=t;function r(t){return 1===t.length?"0"+t:t}function n(t){for(var e="",n=0;n<t.length;n++)e+=r(t[n].toString(16));return e}e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},e.zero2=r,e.toHex=n,e.encode=function(t,e){return"hex"===e?n(t):t}}(FI),function(t){var e=t,r=$I.exports,n=Qn,i=FI;e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode,e.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,o=t.clone(),s=0;s<n.length;s++){var a,l=o.andln(i-1);o.isOdd()?(a=l>(i>>1)-1?(i>>1)-l:l,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},e.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var s,a,l=t.andln(3)+i&3,u=e.andln(3)+o&3;3===l&&(l=-1),3===u&&(u=-1),s=0==(1&l)?0:3!==(n=t.andln(7)+i&7)&&5!==n||2!==u?l:-l,r[0].push(s),a=0==(1&u)?0:3!==(n=e.andln(7)+o&7)&&5!==n||2!==l?u:-u,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return r},e.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},e.parseBytes=function(t){return"string"==typeof t?e.toArray(t,"hex"):t},e.intFromLE=function(t){return new r(t,"hex","le")}}(CI);var LI,BI={exports:{}};function DI(t){this.rand=t}if(BI.exports=function(t){return LI||(LI=new DI(null)),LI.generate(t)},BI.exports.Rand=DI,DI.prototype.generate=function(t){return this._rand(t)},DI.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?DI.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?DI.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(DI.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var UI=require("crypto");if("function"!=typeof UI.randomBytes)throw new Error("Not supported");DI.prototype._rand=function(t){return UI.randomBytes(t)}}catch(Yw){}var qI={},zI=$I.exports,jI=CI,GI=jI.getNAF,HI=jI.getJSF,WI=jI.assert;function VI(t,e){this.type=t,this.p=new zI(e.p,16),this.red=e.prime?zI.red(e.prime):zI.mont(this.p),this.zero=new zI(0).toRed(this.red),this.one=new zI(1).toRed(this.red),this.two=new zI(2).toRed(this.red),this.n=e.n&&new zI(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var JI=VI;function KI(t,e){this.curve=t,this.type=e,this.precomputed=null}VI.prototype.point=function(){throw new Error("Not implemented")},VI.prototype.validate=function(){throw new Error("Not implemented")},VI.prototype._fixedNafMul=function(t,e){WI(t.precomputed);var r=t._getDoubles(),n=GI(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var l=o+r.step-1;l>=o;l--)s=(s<<1)+n[l];a.push(s)}for(var u=this.jpoint(null,null,null),c=this.jpoint(null,null,null),h=i;h>0;h--){for(o=0;o<a.length;o++)(s=a[o])===h?c=c.mixedAdd(r.points[o]):s===-h&&(c=c.mixedAdd(r.points[o].neg()));u=u.add(c)}return u.toP()},VI.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=GI(e,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var l=0;a>=0&&0===o[a];a--)l++;if(a>=0&&l++,s=s.dblp(l),a<0)break;var u=o[a];WI(0!==u),s="affine"===t.type?u>0?s.mixedAdd(i[u-1>>1]):s.mixedAdd(i[-u-1>>1].neg()):u>0?s.add(i[u-1>>1]):s.add(i[-u-1>>1].neg())}return"affine"===t.type?s.toP():s},VI.prototype._wnafMulAdd=function(t,e,r,n,i){var o,s,a,l=this._wnafT1,u=this._wnafT2,c=this._wnafT3,h=0;for(o=0;o<n;o++){var f=(a=e[o])._getNAFPoints(t);l[o]=f.wnd,u[o]=f.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===l[d]&&1===l[p]){var m=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(m[1]=e[d].add(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].add(e[p].neg())):(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],v=HI(r[d],r[p]);for(h=Math.max(v[0].length,h),c[d]=new Array(h),c[p]=new Array(h),s=0;s<h;s++){var y=0|v[0][s],b=0|v[1][s];c[d][s]=g[3*(y+1)+(b+1)],c[p][s]=0,u[d]=m}}else c[d]=GI(r[d],l[d],this._bitLength),c[p]=GI(r[p],l[p],this._bitLength),h=Math.max(c[d].length,h),h=Math.max(c[p].length,h)}var w=this.jpoint(null,null,null),_=this._wnafT4;for(o=h;o>=0;o--){for(var E=0;o>=0;){var M=!0;for(s=0;s<n;s++)_[s]=0|c[s][o],0!==_[s]&&(M=!1);if(!M)break;E++,o--}if(o>=0&&E++,w=w.dblp(E),o<0)break;for(s=0;s<n;s++){var A=_[s];0!==A&&(A>0?a=u[s][A-1>>1]:A<0&&(a=u[s][-A-1>>1].neg()),w="affine"===a.type?w.mixedAdd(a):w.add(a))}}for(o=0;o<n;o++)u[o]=null;return i?w:w.toP()},VI.BasePoint=KI,KI.prototype.eq=function(){throw new Error("Not implemented")},KI.prototype.validate=function(){return this.curve.validate(this)},VI.prototype.decodePoint=function(t,e){t=jI.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?WI(t[t.length-1]%2==0):7===t[0]&&WI(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},KI.prototype.encodeCompressed=function(t){return this.encode(t,!0)},KI.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},KI.prototype.encode=function(t,e){return jI.encode(this._encode(e),t)},KI.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},KI.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},KI.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},KI.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},KI.prototype._getBeta=function(){return null},KI.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var XI=CI,ZI=$I.exports,YI=ei.exports,QI=JI,tS=XI.assert;function eS(t){QI.call(this,"short",t),this.a=new ZI(t.a,16).toRed(this.red),this.b=new ZI(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}YI(eS,QI);var rS=eS;function nS(t,e,r,n){QI.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new ZI(e,16),this.y=new ZI(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function iS(t,e,r,n){QI.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ZI(0)):(this.x=new ZI(e,16),this.y=new ZI(r,16),this.z=new ZI(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}eS.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new ZI(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new ZI(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],tS(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new ZI(t.a,16),b:new ZI(t.b,16)}})):this._getEndoBasis(r)}}},eS.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:ZI.mont(t),r=new ZI(2).toRed(e).redInvm(),n=r.redNeg(),i=new ZI(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},eS.prototype._getEndoBasis=function(t){for(var e,r,n,i,o,s,a,l,u,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=t,f=this.n.clone(),d=new ZI(1),p=new ZI(0),m=new ZI(0),g=new ZI(1),v=0;0!==h.cmpn(0);){var y=f.div(h);l=f.sub(y.mul(h)),u=m.sub(y.mul(d));var b=g.sub(y.mul(p));if(!n&&l.cmp(c)<0)e=a.neg(),r=d,n=l.neg(),i=u;else if(n&&2==++v)break;a=l,f=h,h=l,m=d,d=u,g=p,p=b}o=l.neg(),s=u;var w=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(w)>=0&&(o=e,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},eS.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),l=i.mul(r.b),u=o.mul(n.b);return{k1:t.sub(s).sub(a),k2:l.add(u).neg()}},eS.prototype.pointFromX=function(t,e){(t=new ZI(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},eS.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},eS.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],l=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),l=l.neg(!0)),n[2*o]=a,n[2*o+1]=l,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),c=0;c<2*o;c++)n[c]=null,i[c]=null;return u},YI(nS,QI.BasePoint),eS.prototype.point=function(t,e,r){return new nS(this,t,e,r)},eS.prototype.pointFromJSON=function(t,e){return nS.fromJSON(this,t,e)},nS.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},nS.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},nS.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},nS.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},nS.prototype.isInfinity=function(){return this.inf},nS.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},nS.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},nS.prototype.getX=function(){return this.x.fromRed()},nS.prototype.getY=function(){return this.y.fromRed()},nS.prototype.mul=function(t){return t=new ZI(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},nS.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},nS.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},nS.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},nS.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},nS.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},YI(iS,QI.BasePoint),eS.prototype.jpoint=function(t,e,r){return new iS(this,t,e,r)},iS.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},iS.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},iS.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),l=o.redSub(s);if(0===a.cmpn(0))return 0!==l.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),h=n.redMul(u),f=l.redSqr().redIAdd(c).redISub(h).redISub(h),d=l.redMul(h.redISub(f)).redISub(o.redMul(c)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(f,d,p)},iS.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),u=l.redMul(s),c=r.redMul(l),h=a.redSqr().redIAdd(u).redISub(c).redISub(c),f=a.redMul(c.redISub(h)).redISub(i.redMul(u)),d=this.z.redMul(s);return this.curve.jpoint(h,f,d)},iS.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,l=a.redSqr().redSqr(),u=s.redAdd(s);for(e=0;e<t;e++){var c=o.redSqr(),h=u.redSqr(),f=h.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(l)),p=o.redMul(h),m=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),v=d.redMul(g);v=v.redIAdd(v).redISub(f);var y=u.redMul(a);e+1<t&&(l=l.redMul(f)),o=m,a=y,u=v}return this.curve.jpoint(o,u.redMul(i),a)},iS.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},iS.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),l=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=l,e=a.redMul(s.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(c).redISub(f);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),m=p.redSqr(),g=f.redIAdd(f);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},iS.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),l=a.redSqr().redISub(s).redISub(s);t=l;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=a.redMul(s.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),m=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(c);var g=h.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=d.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},iS.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),l=e.redAdd(e),u=(l=l.redIAdd(l)).redMul(s),c=a.redSqr().redISub(u.redAdd(u)),h=u.redISub(c),f=s.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=a.redMul(h).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,d,p)},iS.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),l=n.redIAdd(n);l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(l),c=e.redMul(u);c=(c=c.redIAdd(c)).redIAdd(c);var h=this.x.redMul(a).redISub(c);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.y.redMul(u.redMul(l.redISub(u)).redISub(s.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,f,d)},iS.prototype.mul=function(t,e){return t=new ZI(t,e),this.curve._wnafMul(this,t)},iS.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},iS.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},iS.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},iS.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var oS=$I.exports,sS=ei.exports,aS=JI,lS=CI;function uS(t){aS.call(this,"mont",t),this.a=new oS(t.a,16).toRed(this.red),this.b=new oS(t.b,16).toRed(this.red),this.i4=new oS(4).toRed(this.red).redInvm(),this.two=new oS(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}sS(uS,aS);var cS=uS;function hS(t,e,r){aS.BasePoint.call(this,t,"projective"),null===e&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new oS(e,16),this.z=new oS(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}uS.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),n=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e);return 0===n.redSqrt().redSqr().cmp(n)},sS(hS,aS.BasePoint),uS.prototype.decodePoint=function(t,e){return this.point(lS.toArray(t,e),1)},uS.prototype.point=function(t,e){return new hS(this,t,e)},uS.prototype.pointFromJSON=function(t){return hS.fromJSON(this,t)},hS.prototype.precompute=function(){},hS.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},hS.fromJSON=function(t,e){return new hS(t,e[0],e[1]||t.one)},hS.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},hS.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},hS.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),r=t.redSub(e),n=t.redMul(e),i=r.redMul(e.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},hS.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},hS.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=t.x.redAdd(t.z),o=t.x.redSub(t.z).redMul(r),s=i.redMul(n),a=e.z.redMul(o.redAdd(s).redSqr()),l=e.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,l)},hS.prototype.mul=function(t){for(var e=t.clone(),r=this,n=this.curve.point(null,null),i=[];0!==e.cmpn(0);e.iushrn(1))i.push(e.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},hS.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},hS.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},hS.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},hS.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},hS.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var fS=CI,dS=$I.exports,pS=ei.exports,mS=JI,gS=fS.assert;function vS(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,mS.call(this,"edwards",t),this.a=new dS(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new dS(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new dS(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),gS(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}pS(vS,mS);var yS=vS;function bS(t,e,r,n,i){mS.BasePoint.call(this,t,"projective"),null===e&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new dS(e,16),this.y=new dS(r,16),this.z=n?new dS(n,16):this.curve.one,this.t=i&&new dS(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}vS.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},vS.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},vS.prototype.jpoint=function(t,e,r,n){return this.point(t,e,r,n)},vS.prototype.pointFromX=function(t,e){(t=new dS(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=n.redMul(i.redInvm()),s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var a=s.fromRed().isOdd();return(e&&!a||!e&&a)&&(s=s.redNeg()),this.point(t,s)},vS.prototype.pointFromY=function(t,e){(t=new dS(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(i.redInvm());if(0===o.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==e&&(s=s.redNeg()),this.point(s,t)},vS.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),n=e.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===n.cmp(i)},pS(bS,mS.BasePoint),vS.prototype.pointFromJSON=function(t){return bS.fromJSON(this,t)},vS.prototype.point=function(t,e,r,n){return new bS(this,t,e,r,n)},bS.fromJSON=function(t,e){return new bS(t,e[0],e[1],e[2])},bS.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},bS.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},bS.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),o=n.redAdd(e),s=o.redSub(r),a=n.redSub(e),l=i.redMul(s),u=o.redMul(a),c=i.redMul(a),h=s.redMul(o);return this.curve.point(l,u,h,c)},bS.prototype._projDbl=function(){var t,e,r,n,i,o,s=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),l=this.y.redSqr();if(this.curve.twisted){var u=(n=this.curve._mulA(a)).redAdd(l);this.zOne?(t=s.redSub(a).redSub(l).redMul(u.redSub(this.curve.two)),e=u.redMul(n.redSub(l)),r=u.redSqr().redSub(u).redSub(u)):(i=this.z.redSqr(),o=u.redSub(i).redISub(i),t=s.redSub(a).redISub(l).redMul(o),e=u.redMul(n.redSub(l)),r=u.redMul(o))}else n=a.redAdd(l),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),t=this.curve._mulC(s.redISub(n)).redMul(o),e=this.curve._mulC(n).redMul(a.redISub(l)),r=n.redMul(o);return this.curve.point(t,e,r)},bS.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},bS.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),n=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),o=r.redSub(e),s=i.redSub(n),a=i.redAdd(n),l=r.redAdd(e),u=o.redMul(s),c=a.redMul(l),h=o.redMul(l),f=s.redMul(a);return this.curve.point(u,c,f,h)},bS.prototype._projAdd=function(t){var e,r,n=this.z.redMul(t.z),i=n.redSqr(),o=this.x.redMul(t.x),s=this.y.redMul(t.y),a=this.curve.d.redMul(o).redMul(s),l=i.redSub(a),u=i.redAdd(a),c=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(o).redISub(s),h=n.redMul(l).redMul(c);return this.curve.twisted?(e=n.redMul(u).redMul(s.redSub(this.curve._mulA(o))),r=l.redMul(u)):(e=n.redMul(u).redMul(s.redSub(o)),r=this.curve._mulC(l).redMul(u)),this.curve.point(h,e,r)},bS.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},bS.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},bS.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)},bS.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)},bS.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},bS.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},bS.prototype.getX=function(){return this.normalize(),this.x.fromRed()},bS.prototype.getY=function(){return this.normalize(),this.y.fromRed()},bS.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},bS.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var r=t.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(n),0===this.x.cmp(e))return!0}},bS.prototype.toP=bS.prototype.normalize,bS.prototype.mixedAdd=bS.prototype.add,function(t){var e=t;e.base=JI,e.short=rS,e.mont=cS,e.edwards=yS}(qI);var wS={};!function(t){var e,r=t,n=Zn,i=qI,o=CI.assert;function s(t){"short"===t.type?this.curve=new i.short(t):"edwards"===t.type?this.curve=new i.edwards(t):this.curve=new i.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(t,e){Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:function(){var n=new s(e);return Object.defineProperty(r,t,{configurable:!0,enumerable:!0,value:n}),n}})}r.PresetCurve=s,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:n.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:n.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:n.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:n.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:n.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{e=require("./precomputed/secp256k1")}catch(t){e=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:n.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",e]})}(wS);var _S=Zn,ES=FI,MS=Qn;function AS(t){if(!(this instanceof AS))return new AS(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=ES.toArray(t.entropy,t.entropyEnc||"hex"),r=ES.toArray(t.nonce,t.nonceEnc||"hex"),n=ES.toArray(t.pers,t.persEnc||"hex");MS(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var IS=AS;AS.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},AS.prototype._hmac=function(){return new _S.hmac(this.hash,this.K)},AS.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},AS.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=ES.toArray(t,e),r=ES.toArray(r,n),MS(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},AS.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=ES.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,t);return this._update(r),this._reseed++,ES.encode(o,e)};var SS=$I.exports,kS=CI.assert;function xS(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var NS=xS;xS.fromPublic=function(t,e,r){return e instanceof xS?e:new xS(t,{pub:e,pubEnc:r})},xS.fromPrivate=function(t,e,r){return e instanceof xS?e:new xS(t,{priv:e,privEnc:r})},xS.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},xS.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},xS.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},xS.prototype._importPrivate=function(t,e){this.priv=new SS(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},xS.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?kS(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||kS(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},xS.prototype.derive=function(t){return t.validate()||kS(t.validate(),"public point not validated"),t.mul(this.priv).getX()},xS.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},xS.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},xS.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var RS=$I.exports,TS=CI,PS=TS.assert;function OS(t,e){if(t instanceof OS)return t;this._importDER(t,e)||(PS(t.r&&t.s,"Signature without r or s"),this.r=new RS(t.r,16),this.s=new RS(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var CS=OS;function $S(){this.place=0}function FS(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return!(i<=127)&&(e.place=s,i)}function LS(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function BS(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}OS.prototype._importDER=function(t,e){t=TS.toArray(t,e);var r=new $S;if(48!==t[r.place++])return!1;var n=FS(t,r);if(!1===n)return!1;if(n+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var i=FS(t,r);if(!1===i)return!1;var o=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return!1;var s=FS(t,r);if(!1===s)return!1;if(t.length!==s+r.place)return!1;var a=t.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new RS(o),this.s=new RS(a),this.recoveryParam=null,!0},OS.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=LS(e),r=LS(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];BS(n,e.length),(n=n.concat(e)).push(2),BS(n,r.length);var i=n.concat(r),o=[48];return BS(o,i.length),o=o.concat(i),TS.encode(o,t)};var DS=$I.exports,US=IS,qS=CI,zS=wS,jS=BI.exports,GS=qS.assert,HS=NS,WS=CS;function VS(t){if(!(this instanceof VS))return new VS(t);"string"==typeof t&&(GS(Object.prototype.hasOwnProperty.call(zS,t),"Unknown curve "+t),t=zS[t]),t instanceof zS.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var JS=VS;VS.prototype.keyPair=function(t){return new HS(this,t)},VS.prototype.keyFromPrivate=function(t,e){return HS.fromPrivate(this,t,e)},VS.prototype.keyFromPublic=function(t,e){return HS.fromPublic(this,t,e)},VS.prototype.genKeyPair=function(t){t||(t={});for(var e=new US({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||jS(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new DS(2));;){var i=new DS(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},VS.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},VS.prototype.sign=function(t,e,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new DS(t,16));for(var i=this.n.byteLength(),o=e.getPrivate().toArray("be",i),s=t.toArray("be",i),a=new US({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),l=this.n.sub(new DS(1)),u=0;;u++){var c=n.k?n.k(u):new DS(a.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||c.cmp(l)>=0)){var h=this.g.mul(c);if(!h.isInfinity()){var f=h.getX(),d=f.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var m=(h.getY().isOdd()?1:0)|(0!==f.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),m^=1),new WS({r:d,s:p,recoveryParam:m})}}}}}},VS.prototype.verify=function(t,e,r,n){t=this._truncateToN(new DS(t,16)),r=this.keyFromPublic(r,n);var i=(e=new WS(e,"hex")).r,o=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),l=a.mul(t).umod(this.n),u=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(l,r.getPublic(),u)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(l,r.getPublic(),u)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},VS.prototype.recoverPubKey=function(t,e,r,n){GS((3&r)===r,"The recovery param is more than two bits"),e=new WS(e,n);var i=this.n,o=new DS(t),s=e.r,a=e.s,l=1&r,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");s=u?this.curve.pointFromX(s.add(this.curve.n),l):this.curve.pointFromX(s,l);var c=e.r.invm(i),h=i.sub(o).mul(c).umod(i),f=a.mul(c).umod(i);return this.g.mulAdd(h,s,f)},VS.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new WS(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var KS=CI,XS=KS.assert,ZS=KS.parseBytes,YS=KS.cachedProperty;function QS(t,e){this.eddsa=t,this._secret=ZS(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=ZS(e.pub)}QS.fromPublic=function(t,e){return e instanceof QS?e:new QS(t,{pub:e})},QS.fromSecret=function(t,e){return e instanceof QS?e:new QS(t,{secret:e})},QS.prototype.secret=function(){return this._secret},YS(QS,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),YS(QS,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),YS(QS,"privBytes",(function(){var t=this.eddsa,e=this.hash(),r=t.encodingLength-1,n=e.slice(0,t.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),YS(QS,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),YS(QS,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),YS(QS,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),QS.prototype.sign=function(t){return XS(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},QS.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},QS.prototype.getSecret=function(t){return XS(this._secret,"KeyPair is public only"),KS.encode(this.secret(),t)},QS.prototype.getPublic=function(t){return KS.encode(this.pubBytes(),t)};var tk=QS,ek=$I.exports,rk=CI,nk=rk.assert,ik=rk.cachedProperty,ok=rk.parseBytes;function sk(t,e){this.eddsa=t,"object"!=typeof e&&(e=ok(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),nk(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof ek&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}ik(sk,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),ik(sk,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),ik(sk,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),ik(sk,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),sk.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},sk.prototype.toHex=function(){return rk.encode(this.toBytes(),"hex").toUpperCase()};var ak=sk,lk=Zn,uk=wS,ck=CI,hk=ck.assert,fk=ck.parseBytes,dk=tk,pk=ak;function mk(t){if(hk("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof mk))return new mk(t);t=uk[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=lk.sha512}var gk=mk;mk.prototype.sign=function(t,e){t=fk(t);var r=this.keyFromSecret(e),n=this.hashInt(r.messagePrefix(),t),i=this.g.mul(n),o=this.encodePoint(i),s=this.hashInt(o,r.pubBytes(),t).mul(r.priv()),a=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:a,Rencoded:o})},mk.prototype.verify=function(t,e,r){t=fk(t),e=this.makeSignature(e);var n=this.keyFromPublic(r),i=this.hashInt(e.Rencoded(),n.pubBytes(),t),o=this.g.mul(e.S());return e.R().add(n.pub().mul(i)).eq(o)},mk.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return ck.intFromLE(t.digest()).umod(this.curve.n)},mk.prototype.keyFromPublic=function(t){return dk.fromPublic(this,t)},mk.prototype.keyFromSecret=function(t){return dk.fromSecret(this,t)},mk.prototype.makeSignature=function(t){return t instanceof pk?t:new pk(this,t)},mk.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},mk.prototype.decodePoint=function(t){var e=(t=ck.parseBytes(t)).length-1,r=t.slice(0,e).concat(-129&t[e]),n=0!=(128&t[e]),i=ck.intFromLE(r);return this.curve.pointFromY(i,n)},mk.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},mk.prototype.decodeInt=function(t){return ck.intFromLE(t)},mk.prototype.isPoint=function(t){return t instanceof this.pointClass},function(t){var e=t;e.version=OI,e.utils=CI,e.rand=BI.exports,e.curve=qI,e.curves=wS,e.ec=JS,e.eddsa=gk}(PI);var vk=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};const{ec:yk}=PI;function bk(t){const e=`Ethereum Signed Message:\n${t.length}`;return II((new TextEncoder).encode(e),t)}function wk(t){return II(t.encode("array",!1).slice(1)).slice(12)}function _k(t){return{sign:e=>function(t,e){const r=new yk("secp256k1"),n=r.keyFromPrivate(e),i=bk(t),o=r.sign(i,n,{canonical:!0,pers:void 0});if(null===o.recoveryParam)throw new Dy("signDigest recovery param was null");return new Uint8Array([...o.r.toArray("be",32),...o.s.toArray("be",32),o.recoveryParam+27])}(e,t),address:wk(new yk("secp256k1").keyFromPrivate(t).getPublic())}}function Ek(t){if("string"==typeof t){return _k(Rb(Nb(t,64)))}return t instanceof Uint8Array?(Eb(t,32),_k(t)):(function(t){if(!Bw(t))throw new TypeError("Signer must be an object!");const e=t;if(!wb(e.address,20))throw new TypeError("Signer's address must be Uint8Array with 20 bytes!");if("function"!=typeof e.sign)throw new TypeError("Signer sign property needs to be function!")}(t),t)}const Mk=Math.pow(2,32)-1;function Ak(t){const e=function(t){if(t<=0)throw new Uy("invalid length for span",t);if(t>Mk)throw new Uy("invalid length (> MAX_SPAN_LENGTH)",t);const e=new Uint8Array(8),r=4294967295&t;return new DataView(e.buffer).setUint32(0,r,!0),e}(t.length);Mb(t,1,4096);const r=SI(e,t);return{data:r,span:()=>e,payload:()=>Ib(r,8),address:()=>TI(r)}}function Ik(t,e){if(!function(t,e){return t instanceof Uint8Array&&Sb(TI(t),e)}(t,e))throw new Dy("Address of content address chunk does not match given data!")}var Sk=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};var kk=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};function xk(t){const e=TI(t.slice(97)),r=function(t,e){const r=new yk("secp256k1"),n={r:t.slice(0,32),s:t.slice(32,64)},i=t[64]-27,o=bk(e);return wk(r.recoverPubKey(o,n,i))}(Ab(t,32,65),II(Ab(t,0,32),e));return r}function Nk(t,e){const r=xk(t),n=Ab(t,0,32),i=II(n,r);if(!Sb(e,i))throw new Dy("SOC Data does not match given address!");return{data:t,identifier:()=>n,signature:()=>Ab(t,32,65),span:()=>Ab(t,97,8),payload:()=>Ib(t,105),address:()=>i,owner:()=>r}}function Rk(t,e){return II(t,e)}function Tk(t,e,r){return kk(this,void 0,void 0,(function*(){const n=t.address();Ik(t.data,n);const i=II(e,n),o=yield function(t,e){return vk(this,void 0,void 0,(function*(){const r=yield t.sign(xb(e));if("string"==typeof r)return Rb(Nb(r,130));if(r instanceof Uint8Array)return Eb(r,65),r;throw new TypeError("Invalid output of sign function!")}))}(r,i),s=SI(e,o,t.span(),t.payload()),a=Rk(e,r.address);return{data:s,identifier:()=>e,signature:()=>o,span:()=>t.span(),payload:()=>t.payload(),address:()=>a,owner:()=>r.address}}))}function Pk(t,e,r,n){return kk(this,void 0,void 0,(function*(){const i=Tb(e.owner()),o=Tb(e.identifier()),s=Tb(e.signature()),a=SI(e.span(),e.payload());return function(t,e,r,n,i,o,s){return Sk(this,void 0,void 0,(function*(){return(yield HA(t,{method:"post",path:`soc/${e}/${r}`,body:i,headers:Object.assign({"content-type":"application/octet-stream"},Hy(o,s)),responseType:"json",searchParams:{sig:n}})).data.reference}))}(t,i,o,s,a,r,n)}))}function Ok(t,e,r,n,i,o){return kk(this,void 0,void 0,(function*(){Hw(r);const s=Ak(i),a=yield Tk(s,n,e);return Pk(t,a,r,o)}))}function Ck(t,e,r){return kk(this,void 0,void 0,(function*(){const n=Rk(r,e);return Nk(yield vI(t,Tb(n)),n)}))}function $k(t,e=kb(8)){const r=new DataView(e.buffer),n=4294967295&t;return r.setUint32(0,0),r.setUint32(4,n),e}function Fk(t){return new DataView(t.buffer).getUint32(4)}function Lk(t){if("string"==typeof t){const e=Rb(Nb(t,40));return Eb(e,20),e}if(t instanceof Uint8Array)return Eb(t,20),t;throw new TypeError("Invalid EthAddress")}function Bk(t){try{return Nb(t,40)}catch(t){throw t instanceof TypeError&&(t.message=`Invalid HexEthAddress: ${t.message}`),t}}function Dk(t,e){return II(Rb(t),e)}function Uk(t,e){if("number"==typeof e)return function(t,e){return Dk(t,$k(e))}(t,e);if("string"==typeof e){const r=function(t){return Rb(Nb(t,16))}(e);return Dk(t,r)}if("object"==typeof(r=e)&&null!==r&&"time"in r&&"level"in r)throw new TypeError("epoch is not yet implemented");var r;return Dk(t,e)}function qk(t,e=0){if("string"==typeof t){if(e)throw new Error("Offset property can be set only for UintArray reference!");try{return Rb(Nb(t,64))}catch(e){if(!(e instanceof TypeError))throw e;return Rb(Nb(t,128))}}else if(t instanceof Uint8Array){if(_b(t,e,64))return Ab(t,e,64);if(_b(t,e,32))return Ab(t,e,32)}throw new TypeError("invalid chunk reference")}var zk=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};function jk(t,e,r,n,i,o,s="latest"){var a;return zk(this,void 0,void 0,(function*(){const l=Bk(e.address),u="latest"===s?yield function(t,e,r,n){return zk(this,void 0,void 0,(function*(){try{return Nb((yield xI(t,e,r,n)).feedIndexNext,16)}catch(t){if(t instanceof zy&&404===t.status)return Tb(kb(8));throw t}}))}(t,l,r,o):s,c=Uk(r,u),h=SI($k(null!==(a=null==o?void 0:o.at)&&void 0!==a?a:Date.now()/1e3),n);return Ok(t,e,i,c,h,o)}))}function Gk(t,e,r){return II(Uk(e,r),t)}function Hk(t,e,r,n){return{type:e,owner:n,topic:r,download(i){return zk(this,void 0,void 0,(function*(){if(!(null==i?void 0:i.index))return xI(t,n,r,Object.assign(Object.assign({},i),{type:e}));const o=yield function(t,e,r,n){return zk(this,void 0,void 0,(function*(){const i=Gk(e,r,n),o=Tb(i),s=Nk(yield vI(t,o),i).payload();return{timestamp:Fk(Ab(s,0,8)),reference:qk(s,8)}}))}(t,Rb(n),r,i.index);return{reference:Tb(o.reference),feedIndex:i.index,feedIndexNext:""}}))}}}const Wk=["sequence","epoch"],Vk="sequence";function Jk(t){if(!function(t){return"string"==typeof t&&Wk.includes(t)}(t))throw new TypeError("invalid feed type")}function Kk(t){if("string"==typeof t)return Nb(t,64);if(t instanceof Uint8Array)return Eb(t,32),Tb(t,64);throw new TypeError("invalid topic")}function Xk(t){try{if("string"!=typeof t)return!1;const e=new URL(t);return"http:"===e.protocol||"https:"===e.protocol}catch(t){if(t instanceof TypeError||function(t){return Lw(t)&&"string"==typeof t.code}(t)&&"ERR_INVALID_URL"===t.code)return!1;throw t}}var Zk=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};function Yk(t){try{const e=JSON.stringify(t);return(new TextEncoder).encode(e)}catch(t){throw function(t){return t instanceof Error}(t)&&(t.message=`JsonFeed: ${t.message}`),t}}var Qk=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};var tx=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};function ex(t,e,r){const n=function(t){if(t instanceof Uint8Array)return Fk(t);if("string"==typeof t)return parseInt(t);if("number"==typeof t)return t;throw new TypeError("Unknown type of index!")}(r),i=new Array(n+1);for(let r=0;r<=n;r++)i[r]=Tb(Gk(t,e,r));return i}function rx(t,e,r,n,i){return tx(this,void 0,void 0,(function*(){const o=ex(e,r,n).map((e=>tx(this,void 0,void 0,(function*(){return function(t,e,r){return tx(this,void 0,void 0,(function*(){try{return yield t.downloadChunk(e,r),!0}catch(t){if(404===t.status)return!1;throw t}}))}(t,e,i)}))));return(yield Promise.all(o)).every((t=>t))}))}var nx=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))};class ix{constructor(t,e){var r;!function(t){if(!Xk(t))throw new Uy("URL is not valid!",t)}(t),this.url=function(t){return t.endsWith("/")?t.slice(0,-1):t}(t),(null==e?void 0:e.signer)&&(this.signer=Ek(e.signer));const n={prefixUrl:this.url,timeout:null!==(r=null==e?void 0:e.timeout)&&void 0!==r&&r,retry:null==e?void 0:e.retry,fetch:null==e?void 0:e.fetch,hooks:{beforeRequest:[],afterResponse:[]}};(null==e?void 0:e.defaultHeaders)&&(n.headers=e.defaultHeaders),(null==e?void 0:e.onRequest)&&n.hooks.beforeRequest.push(function(t){return e=>DA(this,void 0,void 0,(function*(){yield t(jA(e))}))}(e.onRequest)),(null==e?void 0:e.onResponse)&&n.hooks.afterResponse.push(function(t){return(e,r,n)=>DA(this,void 0,void 0,(function*(){yield t({headers:zA(n.headers),status:n.status,statusText:n.statusText,request:jA(e)})}))}(e.onResponse)),this.ky=WA(n)}uploadData(t,e,r){return nx(this,void 0,void 0,(function*(){return Ww(t),Xw(e),r&&Jw(r),function(t,e,r,n){return pI(this,void 0,void 0,(function*(){const i=yield HA(t,{path:mI,method:"post",responseType:"json",body:yield JA(e),headers:Object.assign({"content-type":"application/octet-stream"},Hy(r,n))});return{reference:i.data.reference,tagUid:Zw(i.headers.get("swarm-tag"))}}))}(this.getKy(r),e,t,r)}))}downloadData(t,e){return nx(this,void 0,void 0,(function*(){return Vw(e),zw(t),function(t,e){return pI(this,void 0,void 0,(function*(){const r=yield HA(t,{responseType:"arraybuffer",path:`bytes/${e}`});return xb(new Uint8Array(r.data))}))}(this.getKy(e),t)}))}downloadReadableData(t,e){return nx(this,void 0,void 0,(function*(){return Vw(e),zw(t),function(t,e){return pI(this,void 0,void 0,(function*(){return(yield HA(t,{responseType:"stream",path:`bytes/${e}`})).data}))}(this.getKy(e),t)}))}uploadChunk(t,e,r){return nx(this,void 0,void 0,(function*(){if(Ww(t),!(e instanceof Uint8Array))throw new TypeError("Data has to be Uint8Array instance!");if(e.length<8)throw new Uy("Chunk has to have size of at least 8.",e);if(e.length>4104)throw new Uy("Chunk has to have size of at most 4096.",e);return r&&Jw(r),function(t,e,r,n){return gI(this,void 0,void 0,(function*(){return(yield HA(t,{method:"post",path:"chunks",body:e,headers:Object.assign({"content-type":"application/octet-stream"},Hy(r,n)),responseType:"json"})).data.reference}))}(this.getKy(r),e,t,r)}))}downloadChunk(t,e){return nx(this,void 0,void 0,(function*(){return Vw(e),zw(t),vI(this.getKy(e),t)}))}uploadFile(t,e,r,n){return nx(this,void 0,void 0,(function*(){if(Ww(t),function(t){if(!("string"==typeof t||t instanceof Uint8Array||yb(t)||CA(t)))throw new TypeError("Data must be either string, Readable, Uint8Array or File!")}(e),n&&function(t){Jw(t,"FileUploadOptions");const e=t;if(e.size){if("number"!=typeof e.size)throw new TypeError("tag property in FileUploadOptions has to be number or undefined!");Uw(e.size,"options.size")}if(e.contentType&&"string"!=typeof e.contentType)throw new TypeError("contentType property in FileUploadOptions has to be string or undefined!")}(n),r&&"string"!=typeof r)throw new TypeError("name has to be string or undefined!");if(yb(e)){const i=yield bb(e),o=null!=r?r:e.name,s=e.type,a=Object.assign({contentType:s},n);return Gw(yield aI(this.getKy(n),i,t,o,a),$b.ReferenceType.MANIFEST)}if(CA(e)&&(null==n?void 0:n.tag)&&!n.size){const i=yield aI(this.getKy(n),e,t,r,n);return yield this.updateTag(n.tag,i.reference),Gw(i,$b.ReferenceType.MANIFEST)}return Gw(yield aI(this.getKy(n),e,t,r,n),$b.ReferenceType.MANIFEST)}))}downloadFile(t,e="",r){return nx(this,void 0,void 0,(function*(){return Vw(r),t=jw(t,$b.ReferenceType.MANIFEST),function(t,e,r=""){return iI(this,void 0,void 0,(function*(){const n=yield HA(t,{method:"GET",responseType:"arraybuffer",path:`bzz/${e}/${r}`});return Object.assign(Object.assign({},Gy(n.headers)),{data:xb(new Uint8Array(n.data))})}))}(this.getKy(r),t,e)}))}downloadReadableFile(t,e="",r){return nx(this,void 0,void 0,(function*(){return Vw(r),t=jw(t,$b.ReferenceType.MANIFEST),function(t,e,r=""){return iI(this,void 0,void 0,(function*(){const n=yield HA(t,{method:"GET",responseType:"stream",path:`bzz/${e}/${r}`});return Object.assign(Object.assign({},Gy(n.headers)),{data:n.data})}))}(this.getKy(r),t,e)}))}uploadFiles(t,e,r){return nx(this,void 0,void 0,(function*(){Ww(t),r&&Kw(r);const n=yield function(t){return tI(this,void 0,void 0,(function*(){const e=[];for(let r=0;r<t.length;r++){const n=t[r];n&&e.push({path:nI(n),data:new Uint8Array(yield bb(n))})}return e}))}(e);return Gw(yield uI(this.getKy(r),n,t,r),$b.ReferenceType.MANIFEST)}))}uploadCollection(t,e,r){return nx(this,void 0,void 0,(function*(){return Ww(t),rI(e),r&&Kw(r),Gw(yield uI(this.ky,e,t,r),$b.ReferenceType.MANIFEST)}))}uploadFilesFromDirectory(t,e,r){return nx(this,void 0,void 0,(function*(){Ww(t),r&&Kw(r);const e=yield function(t){return Qk(this,void 0,void 0,(function*(){throw new Error("Creating Collection from File System is not supported in browsers!")}))}();return Gw(yield uI(this.getKy(r),e,t,r),$b.ReferenceType.MANIFEST)}))}createTag(t){return nx(this,void 0,void 0,(function*(){return Vw(t),function(t){return hI(this,void 0,void 0,(function*(){return(yield HA(t,{method:"post",path:fI,responseType:"json"})).data}))}(this.getKy(t))}))}getAllTags(t){return nx(this,void 0,void 0,(function*(){return Vw(t),function(t){if(void 0!==t&&!Bw(t))throw new TypeError("options has to be an object or undefined!");Vw(t,"AllTagsOptions");const e=t;if(void 0!==(null==e?void 0:e.limit)){if("number"!=typeof e.limit)throw new TypeError("AllTagsOptions.limit has to be a number or undefined!");if(e.limit<1)throw new Uy("AllTagsOptions.limit has to be at least 1",e.limit);if(e.limit>1e3)throw new Uy("AllTagsOptions.limit has to be at most 1000",e.limit)}void 0!==(null==e?void 0:e.offset)&&Uw(e.offset,"AllTagsOptions.offset")}(t),function(t,e,r){return hI(this,void 0,void 0,(function*(){return(yield HA(t,{path:"tags",searchParams:{offset:e,limit:r},responseType:"json"})).data.tags}))}(this.getKy(t),null==t?void 0:t.offset,null==t?void 0:t.limit)}))}retrieveTag(t,e){return nx(this,void 0,void 0,(function*(){return Vw(e),t=Zw(t),function(t,e){return hI(this,void 0,void 0,(function*(){return(yield HA(t,{path:`tags/${e}`,responseType:"json"})).data}))}(this.getKy(e),t)}))}deleteTag(t,e){return nx(this,void 0,void 0,(function*(){return Vw(e),t=Zw(t),function(t,e){return hI(this,void 0,void 0,(function*(){yield HA(t,{method:"delete",path:`tags/${e}`})}))}(this.getKy(e),t)}))}updateTag(t,e,r){return nx(this,void 0,void 0,(function*(){return qw(e),Vw(r),t=Zw(t),function(t,e,r){return hI(this,void 0,void 0,(function*(){yield HA(t,{method:"patch",path:`tags/${e}`,json:{reference:r}})}))}(this.getKy(r),t,e)}))}pin(t,e){return nx(this,void 0,void 0,(function*(){return Vw(e),qw(t),function(t,e){return dI(this,void 0,void 0,(function*(){yield HA(t,{method:"post",responseType:"json",path:`pins/${e}`})}))}(this.getKy(e),t)}))}unpin(t,e){return nx(this,void 0,void 0,(function*(){return Vw(e),qw(t),function(t,e){return dI(this,void 0,void 0,(function*(){yield HA(t,{method:"delete",responseType:"json",path:`pins/${e}`})}))}(this.getKy(e),t)}))}getAllPins(t){return nx(this,void 0,void 0,(function*(){return Vw(t),function(t){return dI(this,void 0,void 0,(function*(){const e=(yield HA(t,{method:"get",responseType:"json",path:"pins"})).data.references;return null===e?[]:e}))}(this.getKy(t))}))}getPin(t,e){return nx(this,void 0,void 0,(function*(){return Vw(e),qw(t),function(t,e){return dI(this,void 0,void 0,(function*(){return(yield HA(t,{method:"get",responseType:"json",path:`pins/${e}`})).data}))}(this.getKy(e),t)}))}reuploadPinnedData(t,e){return nx(this,void 0,void 0,(function*(){Vw(e),zw(t),yield function(t,e){return cI(this,void 0,void 0,(function*(){yield HA(t,{method:"put",path:`stewardship/${e}`})}))}(this.getKy(e),t)}))}isReferenceRetrievable(t,e){return nx(this,void 0,void 0,(function*(){return Vw(e),zw(t),function(t,e){return cI(this,void 0,void 0,(function*(){return(yield HA(t,{method:"get",responseType:"json",path:`stewardship/${e}`})).data.isRetrievable}))}(this.getKy(e),t)}))}isFeedRetrievable(t,e,r,n,i){return nx(this,void 0,void 0,(function*(){const o=Lk(e),s=Kk(r);if(!n)try{return yield this.makeFeedReader(t,s,o).download(),!0}catch(t){const e=t;if(404===(null==e?void 0:e.status))return!1;throw t}if("sequence"!==t)throw new Dy("Only Sequence type of Feeds is supported at the moment");return rx(this,o,s,n,i)}))}pssSend(t,e,r,n,i,o){return nx(this,void 0,void 0,(function*(){if(Vw(o),Xw(n),Ww(t),function(t){if(Cb(t,void 0,"AddressPrefix"),t.length>6)throw new Uy(`AddressPrefix must have length of 6 at most! Got string with ${t.length}`,t)}(r),"string"!=typeof e)throw new TypeError("topic has to be an string!");return i?(Cb(i,66,"PublicKey"),_I(this.getKy(o),e,r,n,t,i)):_I(this.getKy(o),e,r,n,t)}))}pssSubscribe(t,e){if(function(t){if(!Bw(t))throw new TypeError("PssMessageHandler has to be object!");const e=t;if("function"!=typeof e.onMessage)throw new TypeError("onMessage property of PssMessageHandler has to be function!");if("function"!=typeof e.onError)throw new TypeError("onError property of PssMessageHandler has to be function!")}(e),"string"!=typeof t)throw new TypeError("topic has to be an string!");const r=function(t,e){const r=t.replace(/^http/i,"ws");return new bI(`${r}/pss/subscribe/${e}`)}(this.url,t);let n=!1;const i={topic:t,cancel:()=>{!1===n&&(n=!0,r.terminate?r.terminate():r.close())}};return r.onmessage=t=>nx(this,void 0,void 0,(function*(){const r=yield function(t){return VA(this,void 0,void 0,(function*(){if("string"==typeof t)return(new TextEncoder).encode(t);if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Blob)return new Uint8Array(yield new Response(t).arrayBuffer());throw new TypeError("unknown websocket data type")}))}(t.data);r.length>0&&e.onMessage(xb(r),i)})),r.onerror=t=>{n||e.onError(new Dy(t.message),i)},i}pssReceive(t,e=0){return nx(this,void 0,void 0,(function*(){if("string"!=typeof t)throw new TypeError("topic has to be an string!");if("number"!=typeof e)throw new TypeError("timeoutMsc parameter has to be a number!");return new Promise(((r,n)=>{let i;const o=this.pssSubscribe(t,{onError:t=>{clearTimeout(i),o.cancel(),n(t.message)},onMessage:t=>{clearTimeout(i),o.cancel(),r(t)}});e>0&&(i=setTimeout((()=>{o.cancel(),n(new Dy("pssReceive timeout"))}),e))}))}))}createFeedManifest(t,e,r,n,i){return nx(this,void 0,void 0,(function*(){Vw(i),Jk(e),Ww(t);const o=Kk(r),s=Bk(n);return function(t,e,r,n,i){return kI(this,void 0,void 0,(function*(){return(yield HA(t,{method:"post",responseType:"json",path:`feeds/${e}/${r}`,searchParams:GA(i),headers:Hy(n)})).data.reference}))}(this.getKy(i),s,o,t,{type:e})}))}makeFeedReader(t,e,r,n){Vw(n),Jk(t);const i=Kk(e),o=Bk(r);return Hk(this.getKy(n),t,i,o)}makeFeedWriter(t,e,r,n){Vw(n),Jk(t);const i=Kk(e),o=this.resolveSigner(r);return function(t,e,r,n){return Object.assign(Object.assign({},Hk(t,e,r,Bk(n.address))),{upload:(i,o,s)=>zk(this,void 0,void 0,(function*(){Hw(i);const a=qk(o);return jk(t,n,r,a,i,Object.assign(Object.assign({},s),{type:e}))}))})}(this.getKy(n),t,i,o)}setJsonFeed(t,e,r,n){var i;return nx(this,void 0,void 0,(function*(){Vw(n,"JsonFeedOptions"),Ww(t);const o=this.makeFeedTopic(e),s=null!==(i=null==n?void 0:n.type)&&void 0!==i?i:Vk;return function(t,e,r,n,i){return Zk(this,void 0,void 0,(function*(){const o=Yk(n),{reference:s}=yield t.uploadData(r,o,i);return e.upload(r,s)}))}(this,this.makeFeedWriter(s,o,null==n?void 0:n.signer,n),t,r,n)}))}getJsonFeed(t,e){var r;return nx(this,void 0,void 0,(function*(){Vw(e,"JsonFeedOptions");const n=this.makeFeedTopic(t),i=null!==(r=null==e?void 0:e.type)&&void 0!==r?r:Vk;if((null==e?void 0:e.signer)&&(null==e?void 0:e.address))throw new Dy('Both options "signer" and "address" can not be specified at one time!');let o;if(null==e?void 0:e.address)o=Lk(null==e?void 0:e.address);else try{o=this.resolveSigner(null==e?void 0:e.signer).address}catch(t){throw t instanceof Dy?new Dy("Either address, signer or default signer has to be specified!"):t}return function(t,e){return Zk(this,void 0,void 0,(function*(){const r=yield e.download();return(yield t.downloadData(r.reference)).json()}))}(this,this.makeFeedReader(i,n,o,e))}))}makeFeedTopic(t){return function(t){if("string"!=typeof t)throw new TypeError("topic has to be string!");return Tb(II(t),64)}(t)}makeSOCReader(t,e){Vw(e);const r=Lk(t);return{owner:Bk(r),download:Ck.bind(null,this.getKy(e),r)}}makeSOCWriter(t,e){Vw(e);const r=this.resolveSigner(t);return Object.assign(Object.assign({},this.makeSOCReader(r.address,e)),{upload:Ok.bind(null,this.getKy(e),r)})}checkConnection(t){return nx(this,void 0,void 0,(function*(){return Vw(t,"PostageBatchOptions"),MI(this.getKy(t))}))}isConnected(t){return nx(this,void 0,void 0,(function*(){Vw(t,"PostageBatchOptions");try{yield MI(this.getKy(t))}catch(t){return!1}return!0}))}resolveSigner(t){if(t)return Ek(t);if(this.signer)return this.signer;throw new Dy("You have to pass Signer as property to either the method call or constructor! Non found.")}getKy(t){return t?this.ky.extend(t):this.ky}}var ox="object"==typeof process&&process.env&&/\bsemver\b/i.test("false")?(...t)=>console.error("SEMVER",...t):()=>{};var sx={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},ax={exports:{}};!function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r}=sx,n=ox,i=(e=t.exports={}).re=[],o=e.src=[],s=e.t={};let a=0;const l=(t,e,r)=>{const l=a++;n(t,l,e),s[t]=l,o[l]=e,i[l]=new RegExp(e,r?"g":void 0)};l("NUMERICIDENTIFIER","0|[1-9]\\d*"),l("NUMERICIDENTIFIERLOOSE","[0-9]+"),l("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),l("MAINVERSION",`(${o[s.NUMERICIDENTIFIER]})\\.(${o[s.NUMERICIDENTIFIER]})\\.(${o[s.NUMERICIDENTIFIER]})`),l("MAINVERSIONLOOSE",`(${o[s.NUMERICIDENTIFIERLOOSE]})\\.(${o[s.NUMERICIDENTIFIERLOOSE]})\\.(${o[s.NUMERICIDENTIFIERLOOSE]})`),l("PRERELEASEIDENTIFIER",`(?:${o[s.NUMERICIDENTIFIER]}|${o[s.NONNUMERICIDENTIFIER]})`),l("PRERELEASEIDENTIFIERLOOSE",`(?:${o[s.NUMERICIDENTIFIERLOOSE]}|${o[s.NONNUMERICIDENTIFIER]})`),l("PRERELEASE",`(?:-(${o[s.PRERELEASEIDENTIFIER]}(?:\\.${o[s.PRERELEASEIDENTIFIER]})*))`),l("PRERELEASELOOSE",`(?:-?(${o[s.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[s.PRERELEASEIDENTIFIERLOOSE]})*))`),l("BUILDIDENTIFIER","[0-9A-Za-z-]+"),l("BUILD",`(?:\\+(${o[s.BUILDIDENTIFIER]}(?:\\.${o[s.BUILDIDENTIFIER]})*))`),l("FULLPLAIN",`v?${o[s.MAINVERSION]}${o[s.PRERELEASE]}?${o[s.BUILD]}?`),l("FULL",`^${o[s.FULLPLAIN]}$`),l("LOOSEPLAIN",`[v=\\s]*${o[s.MAINVERSIONLOOSE]}${o[s.PRERELEASELOOSE]}?${o[s.BUILD]}?`),l("LOOSE",`^${o[s.LOOSEPLAIN]}$`),l("GTLT","((?:<|>)?=?)"),l("XRANGEIDENTIFIERLOOSE",`${o[s.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),l("XRANGEIDENTIFIER",`${o[s.NUMERICIDENTIFIER]}|x|X|\\*`),l("XRANGEPLAIN",`[v=\\s]*(${o[s.XRANGEIDENTIFIER]})(?:\\.(${o[s.XRANGEIDENTIFIER]})(?:\\.(${o[s.XRANGEIDENTIFIER]})(?:${o[s.PRERELEASE]})?${o[s.BUILD]}?)?)?`),l("XRANGEPLAINLOOSE",`[v=\\s]*(${o[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[s.XRANGEIDENTIFIERLOOSE]})(?:${o[s.PRERELEASELOOSE]})?${o[s.BUILD]}?)?)?`),l("XRANGE",`^${o[s.GTLT]}\\s*${o[s.XRANGEPLAIN]}$`),l("XRANGELOOSE",`^${o[s.GTLT]}\\s*${o[s.XRANGEPLAINLOOSE]}$`),l("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),l("COERCERTL",o[s.COERCE],!0),l("LONETILDE","(?:~>?)"),l("TILDETRIM",`(\\s*)${o[s.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",l("TILDE",`^${o[s.LONETILDE]}${o[s.XRANGEPLAIN]}$`),l("TILDELOOSE",`^${o[s.LONETILDE]}${o[s.XRANGEPLAINLOOSE]}$`),l("LONECARET","(?:\\^)"),l("CARETTRIM",`(\\s*)${o[s.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",l("CARET",`^${o[s.LONECARET]}${o[s.XRANGEPLAIN]}$`),l("CARETLOOSE",`^${o[s.LONECARET]}${o[s.XRANGEPLAINLOOSE]}$`),l("COMPARATORLOOSE",`^${o[s.GTLT]}\\s*(${o[s.LOOSEPLAIN]})$|^$`),l("COMPARATOR",`^${o[s.GTLT]}\\s*(${o[s.FULLPLAIN]})$|^$`),l("COMPARATORTRIM",`(\\s*)${o[s.GTLT]}\\s*(${o[s.LOOSEPLAIN]}|${o[s.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",l("HYPHENRANGE",`^\\s*(${o[s.XRANGEPLAIN]})\\s+-\\s+(${o[s.XRANGEPLAIN]})\\s*$`),l("HYPHENRANGELOOSE",`^\\s*(${o[s.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[s.XRANGEPLAINLOOSE]})\\s*$`),l("STAR","(<|>)?=?\\s*\\*"),l("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),l("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(ax,ax.exports);const lx=async(t,e,r,n="",i,o)=>{const s=(t=>new ix(t||Pl.swarm.server))(n);return(await s.uploadFile(i||"0000000000000000000000000000000000000000000000000000000000000000",t,e,{pin:!!n,size:o||void 0,contentType:r})).reference},ux=async(t,e,r,n,i,o)=>{const s=`swarm://${await lx(t,e,r,n,i,o)}`;return console.log(" ~ swarm image uploaded Ref :",s),s},cx=async(t="No name",e="",r="",n="",i="",o="{}",s,a)=>{const l={name:t,description:e||t||"",image:su(r),swarm:r,origin:Jl(i,140),minter:n};o&&(l.metadata=JSON.parse(o));const u=`swarm://${await lx(JSON.stringify(l,null,2),"swarmJson","text",s,a)}`;return console.log("nftMint swarm metadata",u),u},hx=async(t,e,r,n,i)=>await Cy({chainId:t,address:e,tokenID:r,tokenURI:n,creator:i,minter:i,owner:i}),fx=["Mint","Wait till Image stored on decentralized storage","Wait till Metadata stored on decentralized storage","Please, sign the transaction","Wait till transaction completed, it may take one minute or more..."],dx=async(t,e,r,n)=>{if(console.log("nftMint3TxResponse",t,e,r,await n.getAddress()),!(t&&e&&r&&n))return null;const i=(await pv(t,e,n.provider)).connect(n);console.log("openNFTs",i);const o=i.mintOpenNFT||i.mintNFT||i.addUser,s=await o(await n.getAddress(),r);return console.log(`${ql(t)}/tx/${(null==s?void 0:s.hash)||""}`),s},px=async(t,e,r,n,i)=>{if(!(t&&e&&r&&n&&i))return null;const o=(t=>{let e="";if(t.logs){const r=new Un(["event Transfer(address indexed from, address indexed to, uint256 indexed tokenID);"]).parseLog(t.logs[0]);({tokenID:e}=r.args)}return e.toString()})(await r.wait());if(!(Number(o)>=0))return null;return await hx(t,e,o,lu(n),i)};function mx(t,{delay:e=0,duration:n=400,easing:i=r}={}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:t=>"opacity: "+t*o}}function gx(t){let e,r,n,i,s,a,l,u,c,h,f,d,p,m,g,v;const y=[yx,vx],w=[];function _(t,e){return t[11]?0:1}return h=_(t),f=w[h]=y[h](t),{c(){e=T("div"),r=T("div"),n=T("div"),i=T("div"),s=T("a"),s.innerHTML='<i class="fa fa-times"></i>',a=O(),l=T("div"),u=T("div"),u.innerHTML='<i class="fas fa-plus fa-left c-green"></i>Mint NFT',c=O(),f.c(),F(s,"href","./#"),F(s,"title","Close"),F(s,"class","modal-close"),F(u,"class","titre"),F(l,"class","mint-modal-body svelte-civ40f"),F(i,"class","mint-modal-content"),F(n,"id","kredeum-create-nft"),F(e,"id","kre-create-mint-nft"),F(e,"class","mint-modal-window svelte-civ40f")},m(o,f){x(o,e,f),I(e,r),I(r,n),I(n,i),I(i,s),I(i,a),I(i,l),I(l,u),I(l,c),w[h].m(l,null),m=!0,g||(v=[$(s,"click",t[18]),b(d=Fg.call(null,r,t[31]))],g=!0)},p(t,e){let r=h;h=_(t),h===r?w[h].p(t,e):(pt(),vt(w[r],1,1,(()=>{w[r]=null})),mt(),f=w[h],f?f.p(t,e):(f=w[h]=y[h](t),f.c()),gt(f,1),f.m(l,null))},i(t){m||(gt(f),it((()=>{p||(p=bt(e,mx,{},!0)),p.run(1)})),m=!0)},o(t){vt(f),p||(p=bt(e,mx,{},!1)),p.run(0),m=!1},d(t){t&&N(e),w[h].d(),t&&p&&p.end(),g=!1,o(v)}}}function vx(t){let e,r,n,i,s,a,l,u,c,h,f,d,p,m,g,v,y,b,w,_,E,M,A,S,k,R,P,L,D,U,q,z;function j(t,e){return t[6]?wx:bx}let G=j(t),H=G(t);function W(e){t[30](e)}let V={chainId:t[2],account:t[3],mintable:!0,label:!1};void 0!==t[4]&&(V.address=t[4]),A=new my({props:V}),Q.push((()=>wt(A,"address",W)));let J=t[13]&&_x(t);return{c(){e=T("div"),r=T("span"),r.textContent="NFT file",n=O(),i=T("div"),H.c(),s=O(),a=T("div"),l=T("span"),l.textContent="NFT title",u=O(),c=T("div"),h=T("input"),f=O(),d=T("div"),p=T("span"),p.textContent="NFT description",m=O(),g=T("div"),v=T("input"),y=O(),b=T("div"),b.innerHTML='<span class="label label-big">Media type</span> \n                <div class="box-fields"><input class="box-field" id="create-type-video" name="media-type" type="checkbox" value="Video" disabled=""/> \n                  <label class="field" for="create-type-video"><i class="fas fa-play"></i>Video</label> \n\n                  <input class="box-field" id="create-type-picture" name="media-type" type="checkbox" value="Picture" checked=""/> \n                  <label class="field" for="create-type-picture"><i class="fas fa-image"></i>Picture</label> \n\n                  <input class="box-field" id="create-type-texte" name="media-type" type="checkbox" value="Text" disabled=""/> \n                  <label class="field" for="create-type-texte"><i class="fas fa-file-alt"></i>Text</label> \n\n                  <input class="box-field" id="create-type-music" name="media-type" type="checkbox" value="Music" disabled=""/> \n                  <label class="field" for="create-type-music"><i class="fas fa-music"></i>Music</label> \n\n                  <input class="box-field" id="create-type-web" name="media-type" type="checkbox" value="Web" disabled=""/> \n                  <label class="field" for="create-type-web"><i class="fas fa-code"></i>Web</label></div>',w=O(),_=T("div"),E=T("span"),E.textContent="Add to an existing address ?",M=O(),_t(A.$$.fragment),k=O(),R=T("div"),P=T("button"),P.textContent="Mint NFT",L=O(),J&&J.c(),D=C(),F(r,"class","label label-big"),F(i,"class","box-file"),F(e,"class","section"),F(l,"class","label label-big"),F(h,"type","text"),F(h,"placeholder","My NFT title"),F(h,"id","title-nft"),F(c,"class","form-field"),F(a,"class","section"),F(p,"class","label label-big"),F(v,"type","text"),F(v,"placeholder","My NFT description"),F(v,"id","description-nft"),F(g,"class","form-field"),F(d,"class","section"),F(b,"class","section"),F(E,"class","label label-big"),F(_,"class","section"),F(P,"class","btn btn-default btn-sell"),F(R,"class","txtright")},m(o,S){x(o,e,S),I(e,r),I(e,n),I(e,i),H.m(i,null),x(o,s,S),x(o,a,S),I(a,l),I(a,u),I(a,c),I(c,h),B(h,t[7]),x(o,f,S),x(o,d,S),I(d,p),I(d,m),I(d,g),I(g,v),B(v,t[8]),x(o,y,S),x(o,b,S),x(o,w,S),x(o,_,S),I(_,E),I(_,M),Et(A,_,null),x(o,k,S),x(o,R,S),I(R,P),x(o,L,S),J&&J.m(o,S),x(o,D,S),U=!0,q||(z=[$(h,"input",t[28]),$(v,"input",t[29]),$(P,"click",t[20])],q=!0)},p(t,e){G===(G=j(t))&&H?H.p(t,e):(H.d(1),H=G(t),H&&(H.c(),H.m(i,null))),128&e[0]&&h.value!==t[7]&&B(h,t[7]),256&e[0]&&v.value!==t[8]&&B(v,t[8]);const r={};4&e[0]&&(r.chainId=t[2]),8&e[0]&&(r.account=t[3]),!S&&16&e[0]&&(S=!0,r.address=t[4],ot((()=>S=!1))),A.$set(r),t[13]?J?J.p(t,e):(J=_x(t),J.c(),J.m(D.parentNode,D)):J&&(J.d(1),J=null)},i(t){U||(gt(A.$$.fragment,t),U=!0)},o(t){vt(A.$$.fragment,t),U=!1},d(t){t&&N(e),H.d(),t&&N(s),t&&N(a),t&&N(f),t&&N(d),t&&N(y),t&&N(b),t&&N(w),t&&N(_),Mt(A),t&&N(k),t&&N(R),t&&N(L),J&&J.d(t),t&&N(D),q=!1,o(z)}}}function yx(t){let r,n,i,o,s,a,l,c,h,f,d,p,m,g,v,y,b,w,_,E,M,A,S,k,R,P,C,$,L;function B(t,e){return t[0]?Mx:Ex}let D=B(t),U=D(t),q=t[9]&&xx(t),z=t[10]&&Nx(t),j=t[12]&&Rx(t),G=t[0]&&Tx(t);return{c(){r=T("div"),n=T("img"),o=O(),s=T("ul"),U.c(),a=O(),l=T("li"),c=T("div"),c.innerHTML='<span class="label">Image link</span>',h=O(),f=T("div"),q&&q.c(),p=O(),m=T("li"),g=T("div"),g.innerHTML='<span class="label">Metadata link</span>',v=O(),y=T("div"),z&&z.c(),w=O(),_=T("li"),E=T("div"),E.innerHTML='<span class="label">Transaction</span>',M=O(),A=T("div"),j&&j.c(),k=O(),R=T("li"),P=T("div"),P.innerHTML='<span class="label">Token ID</span>',C=O(),$=T("div"),G&&G.c(),u(n.src,i=t[6])||F(n,"src",i),F(n,"alt","nft"),F(r,"class","media media-photo"),F(c,"class","flex"),F(f,"class","flex"),F(l,"class",d=t[11]>=2?"complete":""),F(g,"class","flex"),F(y,"class","flex"),F(m,"class",b=t[11]>=3?"complete":""),F(E,"class","flex"),F(A,"class","flex"),F(_,"class",S=t[11]>=4?"complete":""),F(P,"class","flex"),F($,"class","flex"),F(R,"class",L=t[11]>=5?"complete":""),F(s,"class","steps process")},m(t,e){x(t,r,e),I(r,n),x(t,o,e),x(t,s,e),U.m(s,null),I(s,a),I(s,l),I(l,c),I(l,h),I(l,f),q&&q.m(f,null),I(s,p),I(s,m),I(m,g),I(m,v),I(m,y),z&&z.m(y,null),I(s,w),I(s,_),I(_,E),I(_,M),I(_,A),j&&j.m(A,null),I(s,k),I(s,R),I(R,P),I(R,C),I(R,$),G&&G.m($,null)},p(t,e){64&e[0]&&!u(n.src,i=t[6])&&F(n,"src",i),D===(D=B(t))&&U?U.p(t,e):(U.d(1),U=D(t),U&&(U.c(),U.m(s,a))),t[9]?q?q.p(t,e):(q=xx(t),q.c(),q.m(f,null)):q&&(q.d(1),q=null),2048&e[0]&&d!==(d=t[11]>=2?"complete":"")&&F(l,"class",d),t[10]?z?z.p(t,e):(z=Nx(t),z.c(),z.m(y,null)):z&&(z.d(1),z=null),2048&e[0]&&b!==(b=t[11]>=3?"complete":"")&&F(m,"class",b),t[12]?j?j.p(t,e):(j=Rx(t),j.c(),j.m(A,null)):j&&(j.d(1),j=null),2048&e[0]&&S!==(S=t[11]>=4?"complete":"")&&F(_,"class",S),t[0]?G?G.p(t,e):(G=Tx(t),G.c(),G.m($,null)):G&&(G.d(1),G=null),2048&e[0]&&L!==(L=t[11]>=5?"complete":"")&&F(R,"class",L)},i:e,o:e,d(t){t&&N(r),t&&N(o),t&&N(s),U.d(),q&&q.d(),z&&z.d(),j&&j.d(),G&&G.d()}}}function bx(t){let r,n,i;return{c(){r=T("input"),F(r,"type","file"),F(r,"id","file"),F(r,"name","file")},m(e,o){x(e,r,o),n||(i=[$(r,"change",t[27]),$(r,"change",t[19])],n=!0)},p:e,d(t){t&&N(r),n=!1,o(i)}}}function wx(t){let e,r,n;return{c(){e=T("div"),r=T("img"),u(r.src,n=t[6])||F(r,"src",n),F(r,"alt","nft"),F(e,"class","media media-photo mt-20")},m(t,n){x(t,e,n),I(e,r)},p(t,e){64&e[0]&&!u(r.src,n=t[6])&&F(r,"src",n)},d(t){t&&N(e)}}}function _x(t){let e,r,n;return{c(){e=T("div"),r=T("p"),n=P(t[13]),F(r,"class","txtright errormsg"),F(e,"class","section")},m(t,i){x(t,e,i),I(e,r),I(r,n)},p(t,e){8192&e[0]&&L(n,t[13])},d(t){t&&N(e)}}}function Ex(t){let e,r,n,i,o,s;function a(t,e){return t[13]?Ix:Ax}let l=a(t),u=l(t);function c(t,e){return t[13]?kx:1<=t[11]&&t[11]<=5?Sx:void 0}let h=c(t),f=h&&h(t);return{c(){e=T("li"),r=T("div"),n=T("span"),u.c(),i=O(),o=T("div"),s=T("span"),f&&f.c(),F(n,"class","titre"),F(r,"class","flex"),F(s,"class","t-light"),F(o,"class","flex")},m(t,a){x(t,e,a),I(e,r),I(r,n),u.m(n,null),I(e,i),I(e,o),I(o,s),f&&f.m(s,null)},p(t,e){l!==(l=a(t))&&(u.d(1),u=l(t),u&&(u.c(),u.m(n,null))),h===(h=c(t))&&f?f.p(t,e):(f&&f.d(1),f=h&&h(t),f&&(f.c(),f.m(s,null)))},d(t){t&&N(e),u.d(),f&&f.d()}}}function Mx(t){let e,r,n,i,o,s,a,l=Hl(t[0],6)+"";return{c(){e=T("li"),r=T("div"),r.innerHTML='<span class="titre">NFT Minted, congrats!\n                        <i class="fas fa-check fa-left c-green"></i></span>',n=O(),i=T("div"),o=T("a"),s=P(l),F(r,"class","flex"),F(o,"class","link"),F(o,"href",a=vu(t[2],t[0])),F(o,"target","_blank"),F(i,"class","flex"),F(e,"class","complete")},m(t,a){x(t,e,a),I(e,r),I(e,n),I(e,i),I(i,o),I(o,s)},p(t,e){1&e[0]&&l!==(l=Hl(t[0],6)+"")&&L(s,l),5&e[0]&&a!==(a=vu(t[2],t[0]))&&F(o,"href",a)},d(t){t&&N(e)}}}function Ax(t){let e,r;return{c(){e=P("Minting NFT\n                          "),r=T("i"),F(r,"class","fas fa-spinner fa-left c-green refresh")},m(t,n){x(t,e,n),x(t,r,n)},d(t){t&&N(e),t&&N(r)}}}function Ix(t){let e,r;return{c(){e=P("Minting Error\n                          "),r=T("i"),F(r,"class","fa fa-times fa-left")},m(t,n){x(t,e,n),x(t,r,n)},d(t){t&&N(e),t&&N(r)}}}function Sx(t){let e,r=fx[t[11]]+"";return{c(){e=P(r)},m(t,r){x(t,e,r)},p(t,n){2048&n[0]&&r!==(r=fx[t[11]]+"")&&L(e,r)},d(t){t&&N(e)}}}function kx(t){let e;return{c(){e=P(t[13])},m(t,r){x(t,e,r)},p(t,r){8192&r[0]&&L(e,t[13])},d(t){t&&N(e)}}}function xx(t){let e,r,n,i=Jl(t[9],15)+"";return{c(){e=T("a"),r=P(i),F(e,"class","link"),F(e,"href",n=lu(t[9])),F(e,"target","_blank")},m(t,n){x(t,e,n),I(e,r)},p(t,o){512&o[0]&&i!==(i=Jl(t[9],15)+"")&&L(r,i),512&o[0]&&n!==(n=lu(t[9]))&&F(e,"href",n)},d(t){t&&N(e)}}}function Nx(t){let e,r,n,i=Jl(t[10],15)+"";return{c(){e=T("a"),r=P(i),F(e,"class","link"),F(e,"href",n=lu(t[10])),F(e,"target","_blank")},m(t,n){x(t,e,n),I(e,r)},p(t,o){1024&o[0]&&i!==(i=Jl(t[10],15)+"")&&L(r,i),1024&o[0]&&n!==(n=lu(t[10]))&&F(e,"href",n)},d(t){t&&N(e)}}}function Rx(t){let e,r,n,i=Jl(t[12].hash,15)+"";return{c(){e=T("a"),r=P(i),F(e,"class","link"),F(e,"href",n=fu(t[2],t[12].hash)),F(e,"target","_blank")},m(t,n){x(t,e,n),I(e,r)},p(t,o){4096&o[0]&&i!==(i=Jl(t[12].hash,15)+"")&&L(r,i),4100&o[0]&&n!==(n=fu(t[2],t[12].hash))&&F(e,"href",n)},d(t){t&&N(e)}}}function Tx(t){let e,r,n=t[0]?.tokenID+"";return{c(){e=T("strong"),r=P(n)},m(t,n){x(t,e,n),I(e,r)},p(t,e){1&e[0]&&n!==(n=t[0]?.tokenID+"")&&L(r,n)},d(t){t&&N(e)}}}function Px(t){let e,r,n,i,o,s,a=t[1]&&gx(t);return{c(){e=T("span"),e.textContent="Mint NFT",r=O(),a&&a.c(),n=C(),F(e,"class","btn btn-default"),F(e,"title","Mint NFT")},m(l,u){x(l,e,u),x(l,r,u),a&&a.m(l,u),x(l,n,u),i=!0,o||(s=$(e,"click",t[26]),o=!0)},p(t,e){t[1]?a?(a.p(t,e),2&e[0]&&gt(a,1)):(a=gx(t),a.c(),gt(a,1),a.m(n.parentNode,n)):a&&(pt(),vt(a,1,1,(()=>{a=null})),mt())},i(t){i||(gt(a),i=!0)},o(t){vt(a),i=!1},d(t){t&&N(e),t&&N(r),a&&a.d(t),t&&N(n),o=!1,s()}}}function Ox(t,e,r){let n,i,o,s,a,l;f(t,lg,(t=>r(34,i=t))),f(t,ug,(t=>r(24,a=t))),f(t,sg,(t=>r(25,l=t)));let{storage:u}=e,{nodeUrl:c}=e,{batchId:h}=e,d=Z("refreshCollectionList");f(t,d,(t=>r(36,s=t)));let p=Z("refreshNftsList");f(t,p,(t=>r(33,n=t)));let m,g,v,b,w,_,E=Z("refreshing");f(t,E,(t=>r(35,o=t)));let M,A,I,S,k,x,N="",R="",T=!1;const P=()=>{r(1,T=!0)},O=()=>{r(1,T=!1)},C=()=>{r(9,M=null),r(10,A=null),r(11,I=0),r(12,S=null),r(0,k=null),r(13,x=null)};return t.$$set=t=>{"storage"in t&&r(21,u=t.storage),"nodeUrl"in t&&r(22,c=t.nodeUrl),"batchId"in t&&r(23,h=t.batchId)},t.$$.update=()=>{3&t.$$.dirty[0]&&k&&!1===T&&(r(5,b=null),w=null,r(6,_=null),r(7,N=null),r(8,R=null),C()),50331648&t.$$.dirty[0]&&l&&a&&(async()=>{r(2,m=l),r(3,g=await a.getAddress()),console.log("handleChange",l,g)})().catch(console.error)},[k,T,m,g,v,b,_,N,R,M,A,I,S,x,d,p,E,P,O,()=>{if(C(),w=null,b){let t=new FileReader;t.readAsDataURL(b[0]),r(7,N=N||b[0].name),r(8,R=R||b[0].name),t.onload=t=>{r(6,_=t.target.result.toString())},w=b[0]}},async()=>{if(C(),console.log("mint texts : ",fx),_)if(r(11,I=1),r(9,M="ipfs"===u?await Ly(_):"swarm"===u?await ux(w,N,w.type,c,h,w.size):""),M)if(r(11,I=2),r(10,A="ipfs"===u?await By(N,R,M,g,_):"swarm"===u?su(await cx(N,R,M,g,_,c,h)):""),A)if(r(11,I=3),r(12,S=await dx(m,v,A,a)),S)if(r(11,I=4),r(0,k=await px(m,v,S,A,g)),k){r(11,I=5),y(d,s+=1,s);const t=await S.wait();console.log("mintingTxReceipt",t);const e=t.blockNumber;do{y(E,o=!0,o),await Xl(1e3)}while(await i.getBlockNumber()<=e);y(p,n+=1,n)}else r(13,x="Problem with sent transaction.");else r(13,x="Problem while sending transaction.");else r(13,x=`Problem while archiving metadata on ${u.charAt(0).toUpperCase()+u.slice(1)}.`);else r(13,x=`Problem while archiving image on ${u.charAt(0).toUpperCase()+u.slice(1)}.`);else r(13,x="Missing NFT file. Sorry can't mint.");return x&&console.error("ERROR",x),k},u,c,h,a,l,()=>P(),function(){b=this.files,r(5,b)},function(){N=this.value,r(7,N)},function(){R=this.value,r(8,R)},function(t){v=t,r(4,v)},()=>{O()}]}class Cx extends St{constructor(t){super(),It(this,t,Ox,Px,a,{storage:21,nodeUrl:22,batchId:23},null,[-1,-1])}}function $x(t){let e,r,n,i,o,s,a,l,u,c,h,f,d,p,m,g,v,y,b;return h=new Cx({props:{storage:t[1]}}),y=new Ty({props:{chainId:t[0]}}),{c(){e=T("a"),e.innerHTML='<i class="fas fa-plus fa-left"></i>Mint',r=O(),n=T("div"),i=T("div"),o=T("a"),o.innerHTML='<i class="fa fa-times"></i>',s=O(),a=T("div"),l=T("div"),l.innerHTML='<i class="fas fa-plus fa-left c-green"></i>What do you want to do ?',u=O(),c=T("div"),_t(h.$$.fragment),f=O(),d=T("span"),d.textContent="Or",p=O(),m=T("a"),m.textContent="Add a new collection",g=O(),v=T("div"),_t(y.$$.fragment),F(e,"href","#create-modal"),F(e,"class","btn btn-default"),F(e,"title","Mint"),F(o,"href","./#"),F(o,"title","Close"),F(o,"class","modal-close"),F(l,"class","titre"),F(d,"class","or"),F(m,"href","#add-collection"),F(m,"class","btn btn-second"),F(m,"title","Add a new collection"),F(c,"class","txtcenter"),F(a,"class","modal-body"),F(i,"class","modal-content"),F(n,"class","modal-window"),F(n,"id","create-modal"),F(v,"id","add-collection"),F(v,"class","modal-window")},m(t,w){x(t,e,w),x(t,r,w),x(t,n,w),I(n,i),I(i,o),I(i,s),I(i,a),I(a,l),I(a,u),I(a,c),Et(h,c,null),I(c,f),I(c,d),I(c,p),I(c,m),x(t,g,w),x(t,v,w),Et(y,v,null),b=!0},p(t,[e]){const r={};2&e&&(r.storage=t[1]),h.$set(r);const n={};1&e&&(n.chainId=t[0]),y.$set(n)},i(t){b||(gt(h.$$.fragment,t),gt(y.$$.fragment,t),b=!0)},o(t){vt(h.$$.fragment,t),vt(y.$$.fragment,t),b=!1},d(t){t&&N(e),t&&N(r),t&&N(n),Mt(h),t&&N(g),t&&N(v),Mt(y)}}}function Fx(t,e,r){let{chainId:n}=e,{storage:i}=e;return t.$$set=t=>{"chainId"in t&&r(0,n=t.chainId),"storage"in t&&r(1,i=t.storage)},[n,i]}class Lx extends St{constructor(t){super(),It(this,t,Fx,$x,a,{chainId:0,storage:1})}}function Bx(t){let r,n,i,o,s;return{c(){r=T("div"),r.innerHTML='<a href="https://www.kredeum.com" target="_blank" alt="Kredeum website" title="Kredeum website"><img src="assets/images/logo-kredeum.svg" alt="Logo Kredeum"/></a>',n=O(),i=T("div"),i.innerHTML='<input id="burger" type="checkbox"/> \n\n  <label for="burger"><span></span> \n    <span></span> \n    <span></span></label> \n\n  <div class="nav"><ul><li class="active"><a href="."><i class="fas fa-columns"></i></a></li></ul></div>',o=O(),s=T("a"),s.innerHTML='<i class="icon-discord"></i>',F(r,"class","logo"),F(i,"class","menu"),F(s,"class","discord-link"),F(s,"href","https://discord.gg/Vz5AyU2Nfx"),F(s,"target","_blank"),F(s,"alt","Discord Kredeum"),F(s,"title","Discord Kredeum")},m(t,e){x(t,r,e),x(t,n,e),x(t,i,e),x(t,o,e),x(t,s,e)},p:e,i:e,o:e,d(t){t&&N(r),t&&N(n),t&&N(i),t&&N(o),t&&N(s)}}}class Dx extends St{constructor(t){super(),It(this,t,null,Bx,a,{})}}function Ux(t){let r,n,i,o,s,a,l;return{c(){r=T("div"),n=T("button"),i=T("i"),F(i,"class",o="fas fa-redo-alt "+(t[0]?"refresh":"")),F(n,"class","clear"),F(n,"title",s="      "+(t[0]?"Refreshing NFTs...":"Refresh NFTs from this Collection")),F(r,"class","col col-sm-3")},m(e,o){x(e,r,o),I(r,n),I(n,i),a||(l=$(n,"click",t[4]),a=!0)},p(t,[e]){1&e&&o!==(o="fas fa-redo-alt "+(t[0]?"refresh":""))&&F(i,"class",o),1&e&&s!==(s="      "+(t[0]?"Refreshing NFTs...":"Refresh NFTs from this Collection"))&&F(n,"title",s)},i:e,o:e,d(t){t&&N(r),a=!1,l()}}}function qx(t,e,r){let n,i,o,s=Z("refreshCollectionList");f(t,s,(t=>r(6,i=t)));let a=Z("refreshNftsList");f(t,a,(t=>r(5,n=t)));let l=Z("refreshing");f(t,l,(t=>r(0,o=t)));return[o,s,a,l,()=>{y(s,i+=1,i),y(a,n+=1,n)}]}class zx extends St{constructor(t){super(),It(this,t,qx,Ux,a,{})}}var jx=Gx;function Gx(t){var e=this;if(e instanceof Gx||(e=new Gx),e.tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach((function(t){e.push(t)}));else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}function Hx(t,e,r){var n=e===t.head?new Jx(r,null,e,t):new Jx(r,e,e.next,t);return null===n.next&&(t.tail=n),null===n.prev&&(t.head=n),t.length++,n}function Wx(t,e){t.tail=new Jx(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function Vx(t,e){t.head=new Jx(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Jx(t,e,r,n){if(!(this instanceof Jx))return new Jx(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}Gx.Node=Jx,Gx.create=Gx,Gx.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e},Gx.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},Gx.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},Gx.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Wx(this,arguments[t]);return this.length},Gx.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)Vx(this,arguments[t]);return this.length},Gx.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},Gx.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},Gx.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;null!==r;n++)t.call(e,r.value,n,this),r=r.next},Gx.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;null!==r;n--)t.call(e,r.value,n,this),r=r.prev},Gx.prototype.get=function(t){for(var e=0,r=this.head;null!==r&&e<t;e++)r=r.next;if(e===t&&null!==r)return r.value},Gx.prototype.getReverse=function(t){for(var e=0,r=this.tail;null!==r&&e<t;e++)r=r.prev;if(e===t&&null!==r)return r.value},Gx.prototype.map=function(t,e){e=e||this;for(var r=new Gx,n=this.head;null!==n;)r.push(t.call(e,n.value,this)),n=n.next;return r},Gx.prototype.mapReverse=function(t,e){e=e||this;for(var r=new Gx,n=this.tail;null!==n;)r.push(t.call(e,n.value,this)),n=n.prev;return r},Gx.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=t(r,n.value,i),n=n.next;return r},Gx.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=t(r,n.value,i),n=n.prev;return r},Gx.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;null!==r;e++)t[e]=r.value,r=r.next;return t},Gx.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;null!==r;e++)t[e]=r.value,r=r.prev;return t},Gx.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new Gx;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;null!==i&&n<t;n++)i=i.next;for(;null!==i&&n<e;n++,i=i.next)r.push(i.value);return r},Gx.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new Gx;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;null!==i&&n>e;n--)i=i.prev;for(;null!==i&&n>t;n--,i=i.prev)r.push(i.value);return r},Gx.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;null!==i&&n<t;n++)i=i.next;var o=[];for(n=0;i&&n<e;n++)o.push(i.value),i=this.removeNode(i);null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(n=0;n<r.length;n++)i=Hx(this,i,r[n]);return o},Gx.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};try{require("./iterator.js")(Gx)}catch(nA){}const Kx=jx,Xx=Symbol("max"),Zx=Symbol("length"),Yx=Symbol("lengthCalculator"),Qx=Symbol("allowStale"),tN=Symbol("maxAge"),eN=Symbol("dispose"),rN=Symbol("noDisposeOnSet"),nN=Symbol("lruList"),iN=Symbol("cache"),oN=Symbol("updateAgeOnGet"),sN=()=>1;const aN=(t,e,r)=>{const n=t[iN].get(e);if(n){const e=n.value;if(lN(t,e)){if(cN(t,n),!t[Qx])return}else r&&(t[oN]&&(n.value.now=Date.now()),t[nN].unshiftNode(n));return e.value}},lN=(t,e)=>{if(!e||!e.maxAge&&!t[tN])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[tN]&&r>t[tN]},uN=t=>{if(t[Zx]>t[Xx])for(let e=t[nN].tail;t[Zx]>t[Xx]&&null!==e;){const r=e.prev;cN(t,e),e=r}},cN=(t,e)=>{if(e){const r=e.value;t[eN]&&t[eN](r.key,r.value),t[Zx]-=r.length,t[iN].delete(r.key),t[nN].removeNode(e)}};class hN{constructor(t,e,r,n,i){this.key=t,this.value=e,this.length=r,this.now=n,this.maxAge=i||0}}const fN=(t,e,r,n)=>{let i=r.value;lN(t,i)&&(cN(t,r),t[Qx]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};var dN=class{constructor(t){if("number"==typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!=typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[Xx]=t.max||1/0;const e=t.length||sN;if(this[Yx]="function"!=typeof e?sN:e,this[Qx]=t.stale||!1,t.maxAge&&"number"!=typeof t.maxAge)throw new TypeError("maxAge must be a number");this[tN]=t.maxAge||0,this[eN]=t.dispose,this[rN]=t.noDisposeOnSet||!1,this[oN]=t.updateAgeOnGet||!1,this.reset()}set max(t){if("number"!=typeof t||t<0)throw new TypeError("max must be a non-negative number");this[Xx]=t||1/0,uN(this)}get max(){return this[Xx]}set allowStale(t){this[Qx]=!!t}get allowStale(){return this[Qx]}set maxAge(t){if("number"!=typeof t)throw new TypeError("maxAge must be a non-negative number");this[tN]=t,uN(this)}get maxAge(){return this[tN]}set lengthCalculator(t){"function"!=typeof t&&(t=sN),t!==this[Yx]&&(this[Yx]=t,this[Zx]=0,this[nN].forEach((t=>{t.length=this[Yx](t.value,t.key),this[Zx]+=t.length}))),uN(this)}get lengthCalculator(){return this[Yx]}get length(){return this[Zx]}get itemCount(){return this[nN].length}rforEach(t,e){e=e||this;for(let r=this[nN].tail;null!==r;){const n=r.prev;fN(this,t,r,e),r=n}}forEach(t,e){e=e||this;for(let r=this[nN].head;null!==r;){const n=r.next;fN(this,t,r,e),r=n}}keys(){return this[nN].toArray().map((t=>t.key))}values(){return this[nN].toArray().map((t=>t.value))}reset(){this[eN]&&this[nN]&&this[nN].length&&this[nN].forEach((t=>this[eN](t.key,t.value))),this[iN]=new Map,this[nN]=new Kx,this[Zx]=0}dump(){return this[nN].map((t=>!lN(this,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)})).toArray().filter((t=>t))}dumpLru(){return this[nN]}set(t,e,r){if((r=r||this[tN])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,i=this[Yx](e,t);if(this[iN].has(t)){if(i>this[Xx])return cN(this,this[iN].get(t)),!1;const o=this[iN].get(t).value;return this[eN]&&(this[rN]||this[eN](t,o.value)),o.now=n,o.maxAge=r,o.value=e,this[Zx]+=i-o.length,o.length=i,this.get(t),uN(this),!0}const o=new hN(t,e,i,n,r);return o.length>this[Xx]?(this[eN]&&this[eN](t,e),!1):(this[Zx]+=o.length,this[nN].unshift(o),this[iN].set(t,this[nN].head),uN(this),!0)}has(t){if(!this[iN].has(t))return!1;const e=this[iN].get(t).value;return!lN(this,e)}get(t){return aN(this,t,!0)}peek(t){return aN(this,t,!1)}pop(){const t=this[nN].tail;return t?(cN(this,t),t.value):null}del(t){cN(this,this[iN].get(t))}load(t){this.reset();const e=Date.now();for(let r=t.length-1;r>=0;r--){const n=t[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const t=i-e;t>0&&this.set(n.k,n.v,t)}}}prune(){this[iN].forEach(((t,e)=>aN(this,e,!1)))}};const pN=["includePrerelease","loose","rtl"];var mN=t=>t?"object"!=typeof t?{loose:!0}:pN.filter((e=>t[e])).reduce(((t,e)=>(t[e]=!0,t)),{}):{},gN={exports:{}};var vN={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16};var yN="object"==typeof process&&process.env&&/\bsemver\b/i.test("false")?(...t)=>console.error("SEMVER",...t):()=>{};!function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r}=vN,n=yN,i=(e=t.exports={}).re=[],o=e.src=[],s=e.t={};let a=0;const l=(t,e,r)=>{const l=a++;n(t,l,e),s[t]=l,o[l]=e,i[l]=new RegExp(e,r?"g":void 0)};l("NUMERICIDENTIFIER","0|[1-9]\\d*"),l("NUMERICIDENTIFIERLOOSE","[0-9]+"),l("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),l("MAINVERSION",`(${o[s.NUMERICIDENTIFIER]})\\.(${o[s.NUMERICIDENTIFIER]})\\.(${o[s.NUMERICIDENTIFIER]})`),l("MAINVERSIONLOOSE",`(${o[s.NUMERICIDENTIFIERLOOSE]})\\.(${o[s.NUMERICIDENTIFIERLOOSE]})\\.(${o[s.NUMERICIDENTIFIERLOOSE]})`),l("PRERELEASEIDENTIFIER",`(?:${o[s.NUMERICIDENTIFIER]}|${o[s.NONNUMERICIDENTIFIER]})`),l("PRERELEASEIDENTIFIERLOOSE",`(?:${o[s.NUMERICIDENTIFIERLOOSE]}|${o[s.NONNUMERICIDENTIFIER]})`),l("PRERELEASE",`(?:-(${o[s.PRERELEASEIDENTIFIER]}(?:\\.${o[s.PRERELEASEIDENTIFIER]})*))`),l("PRERELEASELOOSE",`(?:-?(${o[s.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[s.PRERELEASEIDENTIFIERLOOSE]})*))`),l("BUILDIDENTIFIER","[0-9A-Za-z-]+"),l("BUILD",`(?:\\+(${o[s.BUILDIDENTIFIER]}(?:\\.${o[s.BUILDIDENTIFIER]})*))`),l("FULLPLAIN",`v?${o[s.MAINVERSION]}${o[s.PRERELEASE]}?${o[s.BUILD]}?`),l("FULL",`^${o[s.FULLPLAIN]}$`),l("LOOSEPLAIN",`[v=\\s]*${o[s.MAINVERSIONLOOSE]}${o[s.PRERELEASELOOSE]}?${o[s.BUILD]}?`),l("LOOSE",`^${o[s.LOOSEPLAIN]}$`),l("GTLT","((?:<|>)?=?)"),l("XRANGEIDENTIFIERLOOSE",`${o[s.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),l("XRANGEIDENTIFIER",`${o[s.NUMERICIDENTIFIER]}|x|X|\\*`),l("XRANGEPLAIN",`[v=\\s]*(${o[s.XRANGEIDENTIFIER]})(?:\\.(${o[s.XRANGEIDENTIFIER]})(?:\\.(${o[s.XRANGEIDENTIFIER]})(?:${o[s.PRERELEASE]})?${o[s.BUILD]}?)?)?`),l("XRANGEPLAINLOOSE",`[v=\\s]*(${o[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[s.XRANGEIDENTIFIERLOOSE]})(?:${o[s.PRERELEASELOOSE]})?${o[s.BUILD]}?)?)?`),l("XRANGE",`^${o[s.GTLT]}\\s*${o[s.XRANGEPLAIN]}$`),l("XRANGELOOSE",`^${o[s.GTLT]}\\s*${o[s.XRANGEPLAINLOOSE]}$`),l("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),l("COERCERTL",o[s.COERCE],!0),l("LONETILDE","(?:~>?)"),l("TILDETRIM",`(\\s*)${o[s.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",l("TILDE",`^${o[s.LONETILDE]}${o[s.XRANGEPLAIN]}$`),l("TILDELOOSE",`^${o[s.LONETILDE]}${o[s.XRANGEPLAINLOOSE]}$`),l("LONECARET","(?:\\^)"),l("CARETTRIM",`(\\s*)${o[s.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",l("CARET",`^${o[s.LONECARET]}${o[s.XRANGEPLAIN]}$`),l("CARETLOOSE",`^${o[s.LONECARET]}${o[s.XRANGEPLAINLOOSE]}$`),l("COMPARATORLOOSE",`^${o[s.GTLT]}\\s*(${o[s.LOOSEPLAIN]})$|^$`),l("COMPARATOR",`^${o[s.GTLT]}\\s*(${o[s.FULLPLAIN]})$|^$`),l("COMPARATORTRIM",`(\\s*)${o[s.GTLT]}\\s*(${o[s.LOOSEPLAIN]}|${o[s.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",l("HYPHENRANGE",`^\\s*(${o[s.XRANGEPLAIN]})\\s+-\\s+(${o[s.XRANGEPLAIN]})\\s*$`),l("HYPHENRANGELOOSE",`^\\s*(${o[s.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[s.XRANGEPLAINLOOSE]})\\s*$`),l("STAR","(<|>)?=?\\s*\\*"),l("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),l("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(gN,gN.exports);const bN=/^[0-9]+$/,wN=(t,e)=>{const r=bN.test(t),n=bN.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1};var _N={compareIdentifiers:wN,rcompareIdentifiers:(t,e)=>wN(e,t)};const EN=yN,{MAX_LENGTH:MN,MAX_SAFE_INTEGER:AN}=vN,{re:IN,t:SN}=gN.exports,kN=mN,{compareIdentifiers:xN}=_N;class NN{constructor(t,e){if(e=kN(e),t instanceof NN){if(t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease)return t;t=t.version}else if("string"!=typeof t)throw new TypeError(`Invalid Version: ${t}`);if(t.length>MN)throw new TypeError(`version is longer than ${MN} characters`);EN("SemVer",t,e),this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease;const r=t.trim().match(e.loose?IN[SN.LOOSE]:IN[SN.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>AN||this.major<0)throw new TypeError("Invalid major version");if(this.minor>AN||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>AN||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((t=>{if(/^[0-9]+$/.test(t)){const e=+t;if(e>=0&&e<AN)return e}return t})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(EN("SemVer.compare",this.version,this.options,t),!(t instanceof NN)){if("string"==typeof t&&t===this.version)return 0;t=new NN(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof NN||(t=new NN(t,this.options)),xN(this.major,t.major)||xN(this.minor,t.minor)||xN(this.patch,t.patch)}comparePre(t){if(t instanceof NN||(t=new NN(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let e=0;do{const r=this.prerelease[e],n=t.prerelease[e];if(EN("prerelease compare",e,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return xN(r,n)}while(++e)}compareBuild(t){t instanceof NN||(t=new NN(t,this.options));let e=0;do{const r=this.build[e],n=t.build[e];if(EN("prerelease compare",e,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return xN(r,n)}while(++e)}inc(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e),this.inc("pre",e);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let t=this.prerelease.length;for(;--t>=0;)"number"==typeof this.prerelease[t]&&(this.prerelease[t]++,t=-2);-1===t&&this.prerelease.push(0)}e&&(0===xN(this.prerelease[0],e)?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}}var RN=NN;const TN=RN;var PN=(t,e,r)=>new TN(t,r).compare(new TN(e,r));const ON=PN;var CN=(t,e,r)=>0===ON(t,e,r);const $N=PN;var FN=(t,e,r)=>0!==$N(t,e,r);const LN=PN;var BN=(t,e,r)=>LN(t,e,r)>0;const DN=PN;var UN=(t,e,r)=>DN(t,e,r)>=0;const qN=PN;var zN=(t,e,r)=>qN(t,e,r)<0;const jN=PN;var GN=(t,e,r)=>jN(t,e,r)<=0;const HN=CN,WN=FN,VN=BN,JN=UN,KN=zN,XN=GN;var ZN=(t,e,r,n)=>{switch(e){case"===":return"object"==typeof t&&(t=t.version),"object"==typeof r&&(r=r.version),t===r;case"!==":return"object"==typeof t&&(t=t.version),"object"==typeof r&&(r=r.version),t!==r;case"":case"=":case"==":return HN(t,r,n);case"!=":return WN(t,r,n);case">":return VN(t,r,n);case">=":return JN(t,r,n);case"<":return KN(t,r,n);case"<=":return XN(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};const YN=Symbol("SemVer ANY");class QN{static get ANY(){return YN}constructor(t,e){if(e=eR(e),t instanceof QN){if(t.loose===!!e.loose)return t;t=t.value}oR("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===YN?this.value="":this.value=this.operator+this.semver.version,oR("comp",this)}parse(t){const e=this.options.loose?rR[nR.COMPARATORLOOSE]:rR[nR.COMPARATOR],r=t.match(e);if(!r)throw new TypeError(`Invalid comparator: ${t}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new sR(r[2],this.options.loose):this.semver=YN}toString(){return this.value}test(t){if(oR("Comparator.test",t,this.options.loose),this.semver===YN||t===YN)return!0;if("string"==typeof t)try{t=new sR(t,this.options)}catch(t){return!1}return iR(t,this.operator,this.semver,this.options)}intersects(t,e){if(!(t instanceof QN))throw new TypeError("a Comparator is required");if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),""===this.operator)return""===this.value||new aR(t.value,e).test(this.value);if(""===t.operator)return""===t.value||new aR(this.value,e).test(t.semver);const r=!(">="!==this.operator&&">"!==this.operator||">="!==t.operator&&">"!==t.operator),n=!("<="!==this.operator&&"<"!==this.operator||"<="!==t.operator&&"<"!==t.operator),i=this.semver.version===t.semver.version,o=!(">="!==this.operator&&"<="!==this.operator||">="!==t.operator&&"<="!==t.operator),s=iR(this.semver,"<",t.semver,e)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),a=iR(this.semver,">",t.semver,e)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return r||n||i&&o||s||a}}var tR=QN;const eR=mN,{re:rR,t:nR}=gN.exports,iR=ZN,oR=yN,sR=RN,aR=uR;class lR{constructor(t,e){if(e=hR(e),t instanceof lR)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new lR(t.raw,e);if(t instanceof fR)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split("||").map((t=>this.parseRange(t.trim()))).filter((t=>t.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${t}`);if(this.set.length>1){const t=this.set[0];if(this.set=this.set.filter((t=>!wR(t[0]))),0===this.set.length)this.set=[t];else if(this.set.length>1)for(const t of this.set)if(1===t.length&&_R(t[0])){this.set=[t];break}}this.format()}format(){return this.range=this.set.map((t=>t.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(t){t=t.trim();const e=`parseRange:${Object.keys(this.options).join(",")}:${t}`,r=cR.get(e);if(r)return r;const n=this.options.loose,i=n?mR[gR.HYPHENRANGELOOSE]:mR[gR.HYPHENRANGE];t=t.replace(i,OR(this.options.includePrerelease)),dR("hyphen replace",t),t=t.replace(mR[gR.COMPARATORTRIM],vR),dR("comparator trim",t);let o=(t=(t=(t=t.replace(mR[gR.TILDETRIM],yR)).replace(mR[gR.CARETTRIM],bR)).split(/\s+/).join(" ")).split(" ").map((t=>MR(t,this.options))).join(" ").split(/\s+/).map((t=>PR(t,this.options)));n&&(o=o.filter((t=>(dR("loose invalid filter",t,this.options),!!t.match(mR[gR.COMPARATORLOOSE]))))),dR("range list",o);const s=new Map,a=o.map((t=>new fR(t,this.options)));for(const t of a){if(wR(t))return[t];s.set(t.value,t)}s.size>1&&s.has("")&&s.delete("");const l=[...s.values()];return cR.set(e,l),l}intersects(t,e){if(!(t instanceof lR))throw new TypeError("a Range is required");return this.set.some((r=>ER(r,e)&&t.set.some((t=>ER(t,e)&&r.every((r=>t.every((t=>r.intersects(t,e)))))))))}test(t){if(!t)return!1;if("string"==typeof t)try{t=new pR(t,this.options)}catch(t){return!1}for(let e=0;e<this.set.length;e++)if(CR(this.set[e],t,this.options))return!0;return!1}}var uR=lR;const cR=new dN({max:1e3}),hR=mN,fR=tR,dR=yN,pR=RN,{re:mR,t:gR,comparatorTrimReplace:vR,tildeTrimReplace:yR,caretTrimReplace:bR}=gN.exports,wR=t=>"<0.0.0-0"===t.value,_R=t=>""===t.value,ER=(t,e)=>{let r=!0;const n=t.slice();let i=n.pop();for(;r&&n.length;)r=n.every((t=>i.intersects(t,e))),i=n.pop();return r},MR=(t,e)=>(dR("comp",t,e),t=kR(t,e),dR("caret",t),t=IR(t,e),dR("tildes",t),t=NR(t,e),dR("xrange",t),t=TR(t,e),dR("stars",t),t),AR=t=>!t||"x"===t.toLowerCase()||"*"===t,IR=(t,e)=>t.trim().split(/\s+/).map((t=>SR(t,e))).join(" "),SR=(t,e)=>{const r=e.loose?mR[gR.TILDELOOSE]:mR[gR.TILDE];return t.replace(r,((e,r,n,i,o)=>{let s;return dR("tilde",t,e,r,n,i,o),AR(r)?s="":AR(n)?s=`>=${r}.0.0 <${+r+1}.0.0-0`:AR(i)?s=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:o?(dR("replaceTilde pr",o),s=`>=${r}.${n}.${i}-${o} <${r}.${+n+1}.0-0`):s=`>=${r}.${n}.${i} <${r}.${+n+1}.0-0`,dR("tilde return",s),s}))},kR=(t,e)=>t.trim().split(/\s+/).map((t=>xR(t,e))).join(" "),xR=(t,e)=>{dR("caret",t,e);const r=e.loose?mR[gR.CARETLOOSE]:mR[gR.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,((e,r,i,o,s)=>{let a;return dR("caret",t,e,r,i,o,s),AR(r)?a="":AR(i)?a=`>=${r}.0.0${n} <${+r+1}.0.0-0`:AR(o)?a="0"===r?`>=${r}.${i}.0${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.0${n} <${+r+1}.0.0-0`:s?(dR("replaceCaret pr",s),a="0"===r?"0"===i?`>=${r}.${i}.${o}-${s} <${r}.${i}.${+o+1}-0`:`>=${r}.${i}.${o}-${s} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${o}-${s} <${+r+1}.0.0-0`):(dR("no pr"),a="0"===r?"0"===i?`>=${r}.${i}.${o}${n} <${r}.${i}.${+o+1}-0`:`>=${r}.${i}.${o}${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${o} <${+r+1}.0.0-0`),dR("caret return",a),a}))},NR=(t,e)=>(dR("replaceXRanges",t,e),t.split(/\s+/).map((t=>RR(t,e))).join(" ")),RR=(t,e)=>{t=t.trim();const r=e.loose?mR[gR.XRANGELOOSE]:mR[gR.XRANGE];return t.replace(r,((r,n,i,o,s,a)=>{dR("xRange",t,r,n,i,o,s,a);const l=AR(i),u=l||AR(o),c=u||AR(s),h=c;return"="===n&&h&&(n=""),a=e.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&h?(u&&(o=0),s=0,">"===n?(n=">=",u?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===n&&(n="<",u?i=+i+1:o=+o+1),"<"===n&&(a="-0"),r=`${n+i}.${o}.${s}${a}`):u?r=`>=${i}.0.0${a} <${+i+1}.0.0-0`:c&&(r=`>=${i}.${o}.0${a} <${i}.${+o+1}.0-0`),dR("xRange return",r),r}))},TR=(t,e)=>(dR("replaceStars",t,e),t.trim().replace(mR[gR.STAR],"")),PR=(t,e)=>(dR("replaceGTE0",t,e),t.trim().replace(mR[e.includePrerelease?gR.GTE0PRE:gR.GTE0],"")),OR=t=>(e,r,n,i,o,s,a,l,u,c,h,f,d)=>`${r=AR(n)?"":AR(i)?`>=${n}.0.0${t?"-0":""}`:AR(o)?`>=${n}.${i}.0${t?"-0":""}`:s?`>=${r}`:`>=${r}${t?"-0":""}`} ${l=AR(u)?"":AR(c)?`<${+u+1}.0.0-0`:AR(h)?`<${u}.${+c+1}.0-0`:f?`<=${u}.${c}.${h}-${f}`:t?`<${u}.${c}.${+h+1}-0`:`<=${l}`}`.trim(),CR=(t,e,r)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let r=0;r<t.length;r++)if(dR(t[r].semver),t[r].semver!==fR.ANY&&t[r].semver.prerelease.length>0){const n=t[r].semver;if(n.major===e.major&&n.minor===e.minor&&n.patch===e.patch)return!0}return!1}return!0},$R=uR;var FR=(t,e,r)=>{try{e=new $R(e,r)}catch(t){return!1}return e.test(t)};function LR(t){let r,n,i,o,s;return{c(){r=T("h1"),n=P("My NFTs Factory ("),i=P(t[0]),o=P(")"),F(r,"title",s="Kredeum NFTs Factory "+t[1])},m(t,e){x(t,r,e),I(r,n),I(r,i),I(r,o)},p(t,[e]){1&e&&L(i,t[0]),2&e&&s!==(s="Kredeum NFTs Factory "+t[1])&&F(r,"title",s)},i:e,o:e,d(t){t&&N(r)}}}const BR="version";function DR(t,e,r){const n=Pl.version.latest;let i="",o="";return K((()=>{r(0,i=process.env.GIT_BRANCH||"HEAD"),r(1,o=`v${n} (${i} #0ae3288)`),console.log(`INIT Kredeum NFTs Factory ${o}`),(()=>{if("undefined"!=typeof localStorage){const t=localStorage.getItem(BR);FR(n,`~${t}`)||(console.info(`New version${t?", previously "+t:""} => cache cleared`),localStorage.clear(),localStorage.setItem(BR,n))}console.log("Current Version",n)})()})),[i,o]}class UR extends St{constructor(t){super(),It(this,t,DR,LR,a,{})}}const qR=t=>({}),zR=t=>({}),jR=t=>({}),GR=t=>({}),HR=t=>({}),WR=t=>({});function VR(t){let e,r,n,i,o,s,a,l,u;const c=t[1].nav,h=d(c,t,t[0],WR),f=t[1].header,p=d(f,t,t[0],GR),y=t[1].content,b=d(y,t,t[0],zR);return{c(){e=T("div"),r=T("nav"),h&&h.c(),n=O(),i=T("main"),o=T("div"),s=T("section"),a=T("header"),p&&p.c(),l=O(),b&&b.c(),F(r,"class","nav-krd"),F(s,"class","content"),F(o,"id","kredeum-list"),F(i,"class","main-krd"),F(e,"id","kredeum-nfts")},m(t,c){x(t,e,c),I(e,r),h&&h.m(r,null),I(e,n),I(e,i),I(i,o),I(o,s),I(s,a),p&&p.m(a,null),I(s,l),b&&b.m(s,null),u=!0},p(t,[e]){h&&h.p&&(!u||1&e)&&g(h,c,t,t[0],u?m(c,t[0],e,HR):v(t[0]),WR),p&&p.p&&(!u||1&e)&&g(p,f,t,t[0],u?m(f,t[0],e,jR):v(t[0]),GR),b&&b.p&&(!u||1&e)&&g(b,y,t,t[0],u?m(y,t[0],e,qR):v(t[0]),zR)},i(t){u||(gt(h,t),gt(p,t),gt(b,t),u=!0)},o(t){vt(h,t),vt(p,t),vt(b,t),u=!1},d(t){t&&N(e),h&&h.d(t),p&&p.d(t),b&&b.d(t)}}}function JR(t,e,r){let{$$slots:n={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&r(0,i=t.$$scope)},[i,n]}class KR extends St{constructor(t){super(),It(this,t,JR,VR,a,{})}}function XR(t){let r,n,i;return{c(){r=T("img"),u(r.src,n=t[0])||F(r,"src",n),F(r,"alt",t[1]),F(r,"height",i=t[2]?`${t[2]}px`:"")},m(t,e){x(t,r,e)},p(t,[e]){1&e&&!u(r.src,n=t[0])&&F(r,"src",n),2&e&&F(r,"alt",t[1]),4&e&&i!==(i=t[2]?`${t[2]}px`:"")&&F(r,"height",i)},i:e,o:e,d(t){t&&N(r)}}}function ZR(t,e,r){let{mediaSrc:n}=e,{alt:i="image"}=e,{height:o}=e;return t.$$set=t=>{"mediaSrc"in t&&r(0,n=t.mediaSrc),"alt"in t&&r(1,i=t.alt),"height"in t&&r(2,o=t.height)},[n,i,o]}class YR extends St{constructor(t){super(),It(this,t,ZR,XR,a,{mediaSrc:0,alt:1,height:2})}}function QR(t){let e,r,n;return{c(){e=T("video"),r=T("source"),u(r.src,n=t[1])||F(r,"src",n),F(r,"type","video/mp4"),e.autoplay=!0,e.controls=!0,F(e,"controlslist","nodownload"),e.loop=!0,e.playsInline=!0,F(e,"preload","metadata"),D(e,"border-radius","initial")},m(t,n){x(t,e,n),I(e,r)},p(t,e){2&e&&!u(r.src,n=t[1])&&F(r,"src",n)},d(t){t&&N(e)}}}function tT(t){let e;function r(t,e){return"grid"===t[2]?nT:"list"===t[2]?rT:eT}let n=r(t),i=n(t);return{c(){i.c(),e=C()},m(t,r){i.m(t,r),x(t,e,r)},p(t,o){n===(n=r(t))&&i?i.p(t,o):(i.d(1),i=n(t),i&&(i.c(),i.m(e.parentNode,e)))},d(t){i.d(t),t&&N(e)}}}function eT(t){let e,r,n;return{c(){e=T("video"),r=T("source"),u(r.src,n=t[1])||F(r,"src",n),F(r,"type","video/mp4"),e.autoplay=!0,F(e,"preload","metadata"),e.controls=!0,e.loop=!0,e.playsInline=!0,e.muted=!0,D(e,"border-radius","initial")},m(t,n){x(t,e,n),I(e,r)},p(t,e){2&e&&!u(r.src,n=t[1])&&F(r,"src",n)},d(t){t&&N(e)}}}function rT(t){let e,r,n;return{c(){e=T("video"),r=T("source"),u(r.src,n=t[1])||F(r,"src",n),F(r,"type","video/mp4"),e.autoplay=!1,e.playsInline=!0,D(e,"border-radius","initial")},m(t,n){x(t,e,n),I(e,r)},p(t,e){2&e&&!u(r.src,n=t[1])&&F(r,"src",n)},d(t){t&&N(e)}}}function nT(t){let e,r,n,i,s,a,l,c,h,f=!0;return{c(){e=T("video"),r=T("track"),i=O(),s=T("button"),a=T("i"),F(r,"kind","captions"),e.autoplay=!1,u(e.src,n=t[1])||F(e,"src",n),F(e,"preload","metadata"),e.loop=!0,e.playsInline=!0,D(e,"border-radius","initial"),F(a,"class",l="fa "+(t[0]?"fa-play-circle":"fa-pause-circle")+" video-play-icon svelte-17t6d8h"),F(s,"class","video-play-button svelte-17t6d8h")},m(n,o){x(n,e,o),I(e,r),x(n,i,o),x(n,s,o),I(s,a),c||(h=[$(e,"play",t[8]),$(e,"pause",t[8]),$(s,"click",t[5])],c=!0)},p(t,r){2&r&&!u(e.src,n=t[1])&&F(e,"src",n),1&r&&f!==(f=t[0])&&e[f?"pause":"play"](),1&r&&l!==(l="fa "+(t[0]?"fa-play-circle":"fa-pause-circle")+" video-play-icon svelte-17t6d8h")&&F(a,"class",l)},d(t){t&&N(e),t&&N(i),t&&N(s),c=!1,o(h)}}}function iT(t){let r;function n(t,e){return t[3]?tT:QR}let i=n(t),o=i(t);return{c(){o.c(),r=C()},m(t,e){o.m(t,e),x(t,r,e)},p(t,[e]){i===(i=n(t))&&o?o.p(t,e):(o.d(1),o=i(t),o&&(o.c(),o.m(r.parentNode,r)))},i:e,o:e,d(t){o.d(t),t&&N(r)}}}function oT(t,e,r){let n,{mediaSrc:i}=e,{tokenID:o}=e,{displayMode:s="list"}=e,{paused:a=!0}=e,{small:l=!1}=e,u=Z("toPlayTokenID");f(t,u,(t=>r(7,n=t)));return t.$$set=t=>{"mediaSrc"in t&&r(1,i=t.mediaSrc),"tokenID"in t&&r(6,o=t.tokenID),"displayMode"in t&&r(2,s=t.displayMode),"paused"in t&&r(0,a=t.paused),"small"in t&&r(3,l=t.small)},t.$$.update=()=>{192&t.$$.dirty&&r(0,a=n!==o)},[a,i,s,l,u,()=>{r(0,a=!a),y(u,n=n!==o?o:"",n)},o,n,function(){a=this.paused,r(0,a),r(7,n),r(6,o)}]}class sT extends St{constructor(t){super(),It(this,t,oT,iT,a,{mediaSrc:1,tokenID:6,displayMode:2,paused:0,small:3})}}function aT(t){let e,r,n,i,o;return{c(){e=T("audio"),r=P("Your browser does not support the\n    "),n=T("code"),n.textContent="audio",i=P(" element."),e.controls=!0,e.autoplay=!0,u(e.src,o=t[2])||F(e,"src",o),F(e,"class","svelte-10p1b7u")},m(t,o){x(t,e,o),I(e,r),I(e,n),I(e,i)},p(t,r){4&r&&!u(e.src,o=t[2])&&F(e,"src",o)},d(t){t&&N(e)}}}function lT(t){let e;function r(t,e){return"list"===t[3]?cT:uT}let n=r(t),i=n(t);return{c(){i.c(),e=C()},m(t,r){i.m(t,r),x(t,e,r)},p(t,o){n===(n=r(t))&&i?i.p(t,o):(i.d(1),i=n(t),i&&(i.c(),i.m(e.parentNode,e)))},d(t){i.d(t),t&&N(e)}}}function uT(t){let e,r,n,i,s,a,l,c,h,f,d,p,m=!0;return{c(){e=T("audio"),r=T("track"),n=P("\n      Your browser does not support the\n      "),i=T("code"),i.textContent="audio",s=P(" element."),l=O(),c=T("button"),h=T("i"),F(r,"kind","captions"),e.controls=!0,F(e,"preload","none"),u(e.src,a=t[2])||F(e,"src",a),F(e,"class","svelte-10p1b7u"),F(h,"class",f="fa "+(t[0]?"fa-play-circle":"fa-pause-circle")+" video-play-icon svelte-10p1b7u"),F(c,"class","krd-play-audio-button svelte-10p1b7u")},m(o,a){x(o,e,a),I(e,r),I(e,n),I(e,i),I(e,s),x(o,l,a),x(o,c,a),I(c,h),d||(p=[$(e,"play",t[11]),$(e,"pause",t[11]),$(c,"click",t[7])],d=!0)},p(t,r){4&r&&!u(e.src,a=t[2])&&F(e,"src",a),1&r&&m!==(m=t[0])&&e[m?"pause":"play"](),1&r&&f!==(f="fa "+(t[0]?"fa-play-circle":"fa-pause-circle")+" video-play-icon svelte-10p1b7u")&&F(h,"class",f)},d(t){t&&N(e),t&&N(l),t&&N(c),d=!1,o(p)}}}function cT(t){let e,r,n,i,s,a,l,c,h,f,d,p,m=!0;return{c(){e=T("audio"),r=T("track"),n=P("\n      Your browser does not support the\n      "),i=T("code"),i.textContent="audio",s=P(" element."),l=O(),c=T("button"),h=T("i"),F(r,"kind","captions"),F(e,"preload","none"),u(e.src,a=t[2])||F(e,"src",a),F(e,"class","svelte-10p1b7u"),F(h,"class",f="fa "+(t[0]?"fa-play-circle":"fa-pause-circle")+" video-play-icon svelte-10p1b7u"),F(c,"class","krd-play-audio-button krd-play-audio-list-button svelte-10p1b7u")},m(o,a){x(o,e,a),I(e,r),I(e,n),I(e,i),I(e,s),x(o,l,a),x(o,c,a),I(c,h),d||(p=[$(e,"play",t[10]),$(e,"pause",t[10]),$(c,"click",t[7])],d=!0)},p(t,r){4&r&&!u(e.src,a=t[2])&&F(e,"src",a),1&r&&m!==(m=t[0])&&e[m?"pause":"play"](),1&r&&f!==(f="fa "+(t[0]?"fa-play-circle":"fa-pause-circle")+" video-play-icon svelte-10p1b7u")&&F(h,"class",f)},d(t){t&&N(e),t&&N(l),t&&N(c),d=!1,o(p)}}}function hT(t){let e,r,n,i,o,s;function a(t,e){return t[5]?lT:aT}r=new YR({props:{mediaSrc:t[1],alt:t[4]}});let l=a(t),u=l(t);return{c(){e=T("div"),_t(r.$$.fragment),i=O(),u.c(),o=C(),F(e,"class",n="audio-cover-image "+(t[5]?"":"audioDeployed")+" svelte-10p1b7u")},m(t,n){x(t,e,n),Et(r,e,null),x(t,i,n),u.m(t,n),x(t,o,n),s=!0},p(t,[i]){const c={};2&i&&(c.mediaSrc=t[1]),16&i&&(c.alt=t[4]),r.$set(c),(!s||32&i&&n!==(n="audio-cover-image "+(t[5]?"":"audioDeployed")+" svelte-10p1b7u"))&&F(e,"class",n),l===(l=a(t))&&u?u.p(t,i):(u.d(1),u=l(t),u&&(u.c(),u.m(o.parentNode,o)))},i(t){s||(gt(r.$$.fragment,t),s=!0)},o(t){vt(r.$$.fragment,t),s=!1},d(t){t&&N(e),Mt(r),t&&N(i),u.d(t),t&&N(o)}}}function fT(t,e,r){let n,{mediaSrc:i}=e,{tokenID:o}=e,{animation_url:s}=e,{displayMode:a="list"}=e,{alt:l="Cover image"}=e,{small:u=!0}=e,{paused:c=!0}=e,h=Z("toPlayTokenID");f(t,h,(t=>r(9,n=t)));return t.$$set=t=>{"mediaSrc"in t&&r(1,i=t.mediaSrc),"tokenID"in t&&r(8,o=t.tokenID),"animation_url"in t&&r(2,s=t.animation_url),"displayMode"in t&&r(3,a=t.displayMode),"alt"in t&&r(4,l=t.alt),"small"in t&&r(5,u=t.small),"paused"in t&&r(0,c=t.paused)},t.$$.update=()=>{768&t.$$.dirty&&r(0,c=n!==o)},[c,i,s,a,l,u,h,()=>{"preview"!==a&&y(h,n=n!==o?o:"",n)},o,n,function(){c=this.paused,r(0,c),r(9,n),r(8,o)},function(){c=this.paused,r(0,c),r(9,n),r(8,o)}]}class dT extends St{constructor(t){super(),It(this,t,fT,hT,a,{mediaSrc:1,tokenID:8,animation_url:2,displayMode:3,alt:4,small:5,paused:0})}}function pT(t){let e,r;return e=new sT({props:{mediaSrc:t[5],displayMode:t[2],tokenID:t[1].tokenID,small:t[3]}}),{c(){_t(e.$$.fragment)},m(t,n){Et(e,t,n),r=!0},p(t,r){const n={};32&r&&(n.mediaSrc=t[5]),4&r&&(n.displayMode=t[2]),2&r&&(n.tokenID=t[1].tokenID),8&r&&(n.small=t[3]),e.$set(n)},i(t){r||(gt(e.$$.fragment,t),r=!0)},o(t){vt(e.$$.fragment,t),r=!1},d(t){Mt(e,t)}}}function mT(t){let e,r;return e=new YR({props:{mediaSrc:t[5],alt:t[0]}}),{c(){_t(e.$$.fragment)},m(t,n){Et(e,t,n),r=!0},p(t,r){const n={};32&r&&(n.mediaSrc=t[5]),1&r&&(n.alt=t[0]),e.$set(n)},i(t){r||(gt(e.$$.fragment,t),r=!0)},o(t){vt(e.$$.fragment,t),r=!1},d(t){Mt(e,t)}}}function gT(t){let e,r;return e=new dT({props:{mediaSrc:t[5],animation_url:t[1]?.animation_url,displayMode:t[2],alt:t[0],tokenID:t[1].tokenID,small:t[3]}}),{c(){_t(e.$$.fragment)},m(t,n){Et(e,t,n),r=!0},p(t,r){const n={};32&r&&(n.mediaSrc=t[5]),2&r&&(n.animation_url=t[1]?.animation_url),4&r&&(n.displayMode=t[2]),1&r&&(n.alt=t[0]),2&r&&(n.tokenID=t[1].tokenID),8&r&&(n.small=t[3]),e.$set(n)},i(t){r||(gt(e.$$.fragment,t),r=!0)},o(t){vt(e.$$.fragment,t),r=!1},d(t){Mt(e,t)}}}function vT(t){let e,r,n,i,o,s;const a=[gT,mT,pT],l=[];function u(t,e){return t[1]?.animation_url?0:"image"===t[4]?1:"video"===t[4]?2:-1}return~(r=u(t))&&(n=l[r]=a[r](t)),{c(){e=T("div"),n&&n.c(),F(e,"id",i="media-"+t[6]+"-"+t[1]?.tokenID),F(e,"class",o="media "+t[7]+" media-"+t[4]+t[8]+" svelte-jk5nx4")},m(t,n){x(t,e,n),~r&&l[r].m(e,null),s=!0},p(t,[c]){let h=r;r=u(t),r===h?~r&&l[r].p(t,c):(n&&(pt(),vt(l[h],1,1,(()=>{l[h]=null})),mt()),~r?(n=l[r],n?n.p(t,c):(n=l[r]=a[r](t),n.c()),gt(n,1),n.m(e,null)):n=null),(!s||2&c&&i!==(i="media-"+t[6]+"-"+t[1]?.tokenID))&&F(e,"id",i),(!s||16&c&&o!==(o="media "+t[7]+" media-"+t[4]+t[8]+" svelte-jk5nx4"))&&F(e,"class",o)},i(t){s||(gt(n),s=!0)},o(t){vt(n),s=!1},d(t){t&&N(e),~r&&l[r].d()}}}function yT(t,e,r){let{nft:n}=e,{displayMode:i="list"}=e,{small:o=!0}=e,{alt:s=n.name||"media"}=e,a=o?"small":"full",l="list"===i?"media-small":"media-grid",u="grid"===i?" a-simul-cursor":"",c="image",h="";return t.$$set=t=>{"nft"in t&&r(1,n=t.nft),"displayMode"in t&&r(2,i=t.displayMode),"small"in t&&r(3,o=t.small),"alt"in t&&r(0,s=t.alt)},t.$$.update=()=>{2&t.$$.dirty&&n&&(()=>{var t;const e=null===(t=n.contentType)||void 0===t?void 0:t.split("/");r(4,c=null==e?void 0:e[0]),"text"===c&&r(4,c="image"),r(5,h=Oy(n)),r(0,s=c)})()},[s,n,i,o,c,h,a,l,u]}class bT extends St{constructor(t){super(),It(this,t,yT,vT,a,{nft:1,displayMode:2,small:3,alt:0})}}function wT(t){let e,r,n,i,a,l,u,c,h,f,d,p;return u=new bT({props:{nft:t[0],displayMode:"preview",small:!1,alt:t[1]}}),{c(){e=T("div"),r=T("div"),n=T("div"),i=T("span"),i.innerHTML='<i class="fa fa-times"></i>',a=O(),l=T("div"),_t(u.$$.fragment),F(i,"title","Close"),F(i,"class","modal-close krd-pointer svelte-r33vxw"),F(l,"class","modal-body"),F(n,"class","modal-content"),F(e,"id","zoom"),F(e,"class","modal-window svelte-r33vxw")},m(o,s){x(o,e,s),I(e,r),I(r,n),I(n,i),I(n,a),I(n,l),Et(u,l,null),f=!0,d||(p=[$(i,"click",t[7]),b(c=Fg.call(null,r,t[8]))],d=!0)},p(t,e){const r={};1&e&&(r.nft=t[0]),2&e&&(r.alt=t[1]),u.$set(r),c&&s(c.update)&&4&e&&c.update.call(null,t[8])},i(t){f||(gt(u.$$.fragment,t),it((()=>{h||(h=bt(e,mx,{},!0)),h.run(1)})),f=!0)},o(t){vt(u.$$.fragment,t),h||(h=bt(e,mx,{},!1)),h.run(0),f=!1},d(t){t&&N(e),Mt(u),t&&h&&h.end(),d=!1,o(p)}}}function _T(t){let e,r,n,i,o,s,a,l,u,c,h,f;s=new bT({props:{nft:t[0],displayMode:"preview",alt:t[1]}});let d=t[2]&&wT(t);return{c(){e=T("div"),r=T("div"),n=T("span"),i=T("i"),o=O(),_t(s.$$.fragment),l=O(),d&&d.c(),u=C(),F(i,"class","fas fa-search svelte-r33vxw"),F(n,"class",a="krd-pointer "+(t[0].contentType?.startsWith("video")||t[3]?.animation_url?"no-zoom-hover":"zoom-hover")+" svelte-r33vxw"),F(r,"class","media svelte-r33vxw"),F(e,"class","media-zoom svelte-r33vxw")},m(a,p){x(a,e,p),I(e,r),I(r,n),I(n,i),I(n,o),Et(s,n,null),x(a,l,p),d&&d.m(a,p),x(a,u,p),c=!0,h||(f=$(n,"click",t[6]),h=!0)},p(t,[e]){const r={};1&e&&(r.nft=t[0]),2&e&&(r.alt=t[1]),s.$set(r),(!c||9&e&&a!==(a="krd-pointer "+(t[0].contentType?.startsWith("video")||t[3]?.animation_url?"no-zoom-hover":"zoom-hover")+" svelte-r33vxw"))&&F(n,"class",a),t[2]?d?(d.p(t,e),4&e&&gt(d,1)):(d=wT(t),d.c(),gt(d,1),d.m(u.parentNode,u)):d&&(pt(),vt(d,1,1,(()=>{d=null})),mt())},i(t){c||(gt(s.$$.fragment,t),gt(d),c=!0)},o(t){vt(s.$$.fragment,t),vt(d),c=!1},d(t){t&&N(e),Mt(s),t&&N(l),d&&d.d(t),t&&N(u),h=!1,f()}}}function ET(t,e,r){let n,i,{nft:o}=e,{alt:s=o.name||"media"}=e,a=!1,l=Z("toPlayTokenID");f(t,l,(t=>r(4,n=t)));return t.$$set=t=>{"nft"in t&&r(0,o=t.nft),"alt"in t&&r(1,s=t.alt)},t.$$.update=()=>{1&t.$$.dirty&&r(3,i=null==o?void 0:o.metadata)},[o,s,a,i,n,l,()=>i?.animation_url?n!==o.tokenID?y(l,n=o.tokenID,n):y(l,n="",n):r(2,a=!0),()=>r(2,a=!1),()=>{r(2,a=!1)}]}class MT extends St{constructor(t){super(),It(this,t,ET,_T,a,{nft:0,alt:1})}}const AT=async(t,e,r,n,i={chainId:t,address:e})=>{var o,s,a;const l={chainId:t,address:e,tokenID:r};if(!(t&&e&&r&&n&&await $l(n,t)))return l;let u="",c="",h="";try{"supports"in i||await fv(t,e,n,i);const f=await pv(t,e,n);(null===(o=null==i?void 0:i.supports)||void 0===o?void 0:o.IERC721)&&(h=await f.ownerOf(r)),(null===(s=null==i?void 0:i.supports)||void 0===s?void 0:s.IERC721Metadata)&&(u=i.name||await f.name()||Ol,c=await f.tokenURI(r)),(null===(a=null==i?void 0:i.supports)||void 0===a?void 0:a.IERC1155MetadataURI)&&(c=await f.uri(r)),l.nid=Au(t,e,r),u&&(l.contractName=u),h&&(l.owner=h),c&&(l.tokenURI=c)}catch(n){console.error(`ERROR nftGetFromContract ${Au(t,e,r)}\n`,n)}return l},IT=async(t,e,r,n,i,o)=>{var s;let a={chainId:t,address:e,tokenID:""},l=de.from(-1);if(!(t&&e&&r>=0&&n&&await $l(n,t)&&(null===(s=null==i?void 0:i.supports)||void 0===s?void 0:s.IERC721Enumerable)))return a;try{const s=await pv(t,e,n);s&&(o?l=await s.tokenOfOwnerByIndex(o,de.from(r)):(l=await s.tokenByIndex(r),o=await s.ownerOf(l)),a=await AT(t,e,l.toString(),n,i))}catch(e){console.error("ERROR nftGetFromContractEnumerable",t,r,o,i,e)}return a},{subscribe:ST,set:kT,update:xT}=xt((()=>{const t=new Map;for(let e=0;e<localStorage.length;e++){const r=localStorage.key(e);(null==r?void 0:r.startsWith("nft://"))&&t.set(r,JSON.parse(localStorage.getItem(r)))}return t})()),NT={subscribe:ST,set:kT,update:xT};function RT(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function TT(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=RT(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,i,(e=t[r](e)).done,e.value)}))}}}const PT=async(t,e,r,n,i,o=10)=>{let s=new Map;return Bl(t)&&(Sv(t)?(s=await(async(t,e,r,n=10)=>{var i,o;console.log("alchemyNftList",t,e,r);const s=new Map,a=Bl(t);if(!(t&&e&&r&&a))return s;const l=await Iv(t,`/getNFTs?owner=${r}&withMetadata=true&contractAddresses[]=${e.address}`);console.log("alchemyAnswerNfts",l);const u=l.totalCount,c=l.ownedNfts;if(!(c&&u>=0))return s;for(let a=0;a<Math.min(u,n);a++){const l=c[a],u=de.from(null===(i=l.id)||void 0===i?void 0:i.tokenId).toString();if(a<n){const n={chainId:t,address:Ll(e.address),tokenID:u,tokenURI:null===(o=l.tokenUri)||void 0===o?void 0:o.gateway,nid:Au(t,e.address,u),owner:Ll(r)};s.set(n.nid,n)}}return console.log("alchemyNftList",s),s})(t,n,i,o),console.log("nftListTokenIds alchemyNftList",s)):Tv(t)?(s=await(async(t,e,r,n=10)=>{var i,o;const s=new Map;if(Bl(t)&&e){const a=`{\n      tokenContract( id: "${e.address.toLowerCase()}" ) {\n        tokens( first:${n} ${r?`where: { account: "${r.toLowerCase()}" }`:""} ) {\n          id\n          account{\n            id\n          }\n          tokenID\n          tokenURI\n        }\n      }\n    }`,l=await Rv(t,a),u=(null===(i=null==l?void 0:l.tokenContract)||void 0===i?void 0:i.nfts)||[];for(let r=0;r<Math.min(u.length,n);r++){const i=u[r];if(r<n){const r=de.from(i.tokenID).toString(),n={chainId:t,address:Ll(e.address),tokenID:r,tokenURI:i.tokenURI,owner:Ll(null===(o=i.account)||void 0===o?void 0:o.id),nid:Au(t,e.address,r)};s.set(n.nid,n)}}}return s})(t,n,i,o),console.log("nftListTokenIds thegraphNftList",s)):Nv(t)?(s=await(async(t,e,r,n=10)=>{var i;const o=new Map;if(Bl(t)&&e&&r){const s=`{contract_address:"${Ll(e.address)}"}`,a=`/${Number(t)}/address/${r}/balances_v2/?nft=true&no-nft-fetch=false&match=${encodeURIComponent(s)}`;try{const s=null===(i=await xv(a))||void 0===i?void 0:i.items;if(null==s?void 0:s[0]){const i=s[0].nft_data;for(let s=0;s<Math.min(i.length,n);s++){const a=i[s];if(s<n){const n=de.from(a.token_id).toString(),i={chainId:t,address:Ll(e.address),tokenID:n,tokenURI:a.token_url,external_data:a.external_data,owner:Ll(a.account||r),minter:Ll(a.original_owner),nid:Au(t,e.address,n)};o.set(i.nid,i)}}}}catch(t){console.error("ERROR covalentNftList",t)}}return o})(t,n,i,o),console.log("nftListTokenIds covalentNftList",s)):console.error("No NFTs found:-("),0===s.size&&(s=await(async(t,e,r,n,i,o=10)=>{var s;const a=new Map;if(!(t&&e&&await $l(r,t)&&(null===(s=null==n?void 0:n.supports)||void 0===s?void 0:s.IERC721Enumerable)))return a;try{const s=await pv(t,e,r);if(s){let l=o;i?l=Number(await s.balanceOf(i)):s.totalSupply&&(l=Number(await s.totalSupply()));for(let s=0;s<Math.min(l,o);s++){const o=await IT(t,e,s,r,n,i);o&&a.set(o.nid||"",o)}}}catch(t){console.error("nftListFromContract ERROR",t)}return a})(t,e,r,n,i,o),console.log("nftListTokenIds nftListFromContract",s))),s},OT=(t,e,r)=>`nft://${String(t)}/${e}/${r}`,CT=t=>{if(!t)return;const{chainId:e,address:r,tokenID:n}=t;e&&r&&n&&NT.update((i=>{const o=OT(e,r,n),s=i.get(o),a=(l=s,u=t,Object.assign({chainId:1,address:"",tokenID:""},l||{},u||{}));var l,u;return"undefined"!=typeof localStorage&&localStorage.setItem(o,JSON.stringify(a)),i.set(o,a)}))},$T={getKey:OT,getOneStore:(t,e,r)=>Nt(NT,(n=>n.get(OT(t,e,r)))),refreshOne:async(t,e,r)=>{if(!(t&&e&&r))return;const n=h(jv.getListStore).get(jv.getKey(t,e)),i=h(NT).get(OT(t,e,r)),o=await(async(t,e,r,n,i,o=!1)=>{let s={chainId:t,address:e,tokenID:r};return t&&e&&r&&n?(s=await AT(t,e,r,n,i),o?await Cy(s):s):s})(t,e,r,h(lg),n,!0);Object.assign(o,i),CT(o)},setOne:CT,getListStore:NT,getSubListStore:(t,e,r)=>Nt($T.getListStore,(n=>t&&e?new Map([...n].filter((([,n])=>n.chainId===t&&n.address===e&&(n.owner===r||!(r&&n.owner))))):new Map)),refreshSubList:async(t,e,r)=>{var n,i,o,s;if(!t||!e)return;const a=jv.getKey(t,e),l=h(Ev);let u=l.get(a);if((null==u?void 0:u.supports)||(await jv.refreshOne(t,e),u=l.get(a)),null===(o=null==u?void 0:u.supports)||void 0===o?void 0:o.IERC721Enumerable){const e=null===(s=u.balancesOf)||void 0===s?void 0:s.get(r);for(let n=0;n<e;n++){const e=await IT(t,u.address,n,h(lg),u,r);e&&$T.setOne(await Cy(e))}}else{const e=await PT(t,u.address,h(lg),u,r);try{for(var c,f=TT(e.values());!(c=await f.next()).done;){const t=c.value;$T.setOne(await Cy(t))}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=f.return)&&await i.call(f)}finally{if(n)throw n.error}}}}};function FT(t){let e,r,n,i,s,a,l,u,c,h,f,d,p,m;return{c(){e=T("div"),r=T("i"),n=P(" Transfer this NFT #"),i=P(t[2]),s=P(" to what address ?"),a=O(),l=T("div"),u=T("div"),c=T("input"),h=O(),f=T("div"),d=T("button"),d.textContent="Transfer",F(r,"class","fas fa-gift"),F(e,"class","titre"),F(c,"type","text"),F(c,"placeholder","destinator address"),F(u,"class","form-field"),F(l,"class","section"),F(d,"class","btn btn-default btn-sell"),F(d,"type","submit"),F(f,"class","txtright")},m(o,g){x(o,e,g),I(e,r),I(e,n),I(e,i),I(e,s),x(o,a,g),x(o,l,g),I(l,u),I(u,c),B(c,t[6]),x(o,h,g),x(o,f,g),I(f,d),p||(m=[$(c,"input",t[9]),$(d,"click",t[10])],p=!0)},p(t,e){4&e&&L(i,t[2]),64&e&&c.value!==t[6]&&B(c,t[6])},d(t){t&&N(e),t&&N(a),t&&N(l),t&&N(h),t&&N(f),p=!1,o(m)}}}function LT(t){let e,r,n;function i(t,e){return t[3]?UT:DT}let o=i(t),s=o(t);return{c(){e=T("div"),e.innerHTML='<i class="fas fa-sync fa-left c-green"></i>Transfering NFT...',r=O(),n=T("div"),s.c(),F(e,"class","titre"),F(n,"class","section")},m(t,i){x(t,e,i),x(t,r,i),x(t,n,i),s.m(n,null)},p(t,e){o!==(o=i(t))&&(s.d(1),s=o(t),s&&(s.c(),s.m(n,null)))},d(t){t&&N(e),t&&N(r),t&&N(n),s.d()}}}function BT(t){let e,r,n,i,o,s,a,l,u;return{c(){e=T("div"),r=T("div"),n=T("i"),i=P("\n              NFT\n              "),o=T("a"),s=P("#"),a=P(t[2]),u=P("\n              transfered!"),F(n,"class","fas fa-check fa-left c-green"),F(o,"class","link"),F(o,"href",l=vu(t[0],{chainId:t[0],address:t[1],tokenID:t[2]})+"}"),F(o,"target","_blank"),F(r,"class","titre")},m(t,l){x(t,e,l),I(e,r),I(r,n),I(r,i),I(r,o),I(o,s),I(o,a),I(r,u)},p(t,e){4&e&&L(a,t[2]),7&e&&l!==(l=vu(t[0],{chainId:t[0],address:t[1],tokenID:t[2]})+"}")&&F(o,"href",l)},d(t){t&&N(e)}}}function DT(t){let e;return{c(){e=P("Sign the transaction")},m(t,r){x(t,e,r)},d(t){t&&N(e)}}}function UT(t){let e;return{c(){e=P("Wait till completed, it may take one minute or more.")},m(t,r){x(t,e,r)},d(t){t&&N(e)}}}function qT(t){let e,r,n,i,o=Jl(t[3])+"";return{c(){e=T("div"),r=T("a"),n=P(o),F(r,"class","link"),F(r,"href",i=fu(t[7],t[3])),F(r,"target","_blank"),F(e,"class","flex")},m(t,i){x(t,e,i),I(e,r),I(r,n)},p(t,e){8&e&&o!==(o=Jl(t[3])+"")&&L(n,o),136&e&&i!==(i=fu(t[7],t[3]))&&F(r,"href",i)},d(t){t&&N(e)}}}function zT(t){let r,n,i,o,s,a,l;function u(t,e){return t[5]?BT:t[4]?LT:FT}let c=u(t),h=c(t),f=t[3]&&qT(t);return{c(){r=T("div"),n=T("div"),i=T("a"),i.innerHTML='<i class="fa fa-times"></i>',o=O(),s=T("div"),a=T("div"),h.c(),l=O(),f&&f.c(),F(i,"href","./#"),F(i,"title","Close"),F(i,"class","modal-close"),F(s,"class","modal-body"),F(n,"class","modal-content"),F(r,"id","kredeum-transfer-nft")},m(t,e){x(t,r,e),I(r,n),I(n,i),I(n,o),I(n,s),I(s,a),h.m(a,null),I(a,l),f&&f.m(a,null)},p(t,[e]){c===(c=u(t))&&h?h.p(t,e):(h.d(1),h=c(t),h&&(h.c(),h.m(a,l))),t[3]?f?f.p(t,e):(f=qT(t),f.c(),f.m(a,null)):f&&(f.d(1),f=null)},i:e,o:e,d(t){t&&N(r),h.d(),f&&f.d()}}}function jT(t,e,r){let n,i;f(t,ug,(t=>r(11,n=t))),f(t,sg,(t=>r(7,i=t)));let{chainId:o}=e,{address:s}=e,{tokenID:a}=e,l=null,u=!1,c=!1,h="";const d=async()=>{if(n){r(3,l=null),r(4,u=!0),r(5,c=!1);const t=await(async(t,e,r,n,i)=>{let o=null;const s=Bl(t);if(!(t&&e&&r&&s&&n&&i))return o;const a=await i.getAddress(),l=(await pv(t,e,i.provider)).connect(i),u="safeTransferFrom(address,address,uint256)",c="safeTransferFrom(address,address,uint256,uint256,bytes)";if(l[u]){const t=l[u];o=await t(a,n,r)}else if(l[c]){const t=l[c];o=await t(a,n,r,1,"0x00")}return console.log(`${(null==s?void 0:s.blockExplorerUrls[0])||""}/tx/${(null==o?void 0:o.hash)||""}`),o})(o,s,a,h,n);r(3,l=t.hash);const e=await(async t=>await t.wait())(t);r(5,c=Boolean(e.status)),r(4,u=!1)}};return t.$$set=t=>{"chainId"in t&&r(0,o=t.chainId),"address"in t&&r(1,s=t.address),"tokenID"in t&&r(2,a=t.tokenID)},[o,s,a,l,u,c,h,i,d,function(){h=this.value,r(6,h)},()=>d()]}class GT extends St{constructor(t){super(),It(this,t,jT,zT,a,{chainId:0,address:1,tokenID:2})}}const HT=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e));Pw({name:"sha2-256",code:18,encode:HT("SHA-256")}),Pw({name:"sha2-512",code:19,encode:HT("SHA-512")});const WT=t=>de.from(ww.parse(t).multihash.digest).toString();function VT(t){let e,r,n,i,o,s,a,l,u,c,h,f,d;function p(e){t[10](e)}let m={all:!1};return void 0!==t[3]&&(m.chainId=t[3]),s=new ev({props:m}),Q.push((()=>wt(s,"chainId",p))),{c(){e=T("div"),r=T("i"),n=P(" Claim this NFT on another network ? #"),i=P(t[2]),o=O(),_t(s.$$.fragment),l=O(),u=T("div"),c=T("button"),c.textContent="Claim",F(r,"class","fas fa-exclamation"),F(e,"class","titre overflow-ellipsis"),F(c,"class","btn btn-default btn-sell"),F(c,"type","submit"),F(u,"class","txtright")},m(a,p){x(a,e,p),I(e,r),I(e,n),I(e,i),x(a,o,p),Et(s,a,p),x(a,l,p),x(a,u,p),I(u,c),h=!0,f||(d=$(c,"click",t[11]),f=!0)},p(t,e){(!h||4&e)&&L(i,t[2]);const r={};!a&&8&e&&(a=!0,r.chainId=t[3],ot((()=>a=!1))),s.$set(r)},i(t){h||(gt(s.$$.fragment,t),h=!0)},o(t){vt(s.$$.fragment,t),h=!1},d(t){t&&N(e),t&&N(o),Mt(s,t),t&&N(l),t&&N(u),f=!1,d()}}}function JT(t){let r,n,i;function o(t,e){return t[4]?ZT:XT}let s=o(t),a=s(t);return{c(){r=T("div"),r.innerHTML='<i class="fas fa-sync fa-left c-green"></i>Claiming NFT...',n=O(),i=T("div"),a.c(),F(r,"class","titre"),F(i,"class","section")},m(t,e){x(t,r,e),x(t,n,e),x(t,i,e),a.m(i,null)},p(t,e){s!==(s=o(t))&&(a.d(1),a=s(t),a&&(a.c(),a.m(i,null)))},i:e,o:e,d(t){t&&N(r),t&&N(n),t&&N(i),a.d()}}}function KT(t){let r,n,i,o,s,a,l,u,c;return{c(){r=T("div"),n=T("div"),i=T("i"),o=P("\n              NFT\n              "),s=T("a"),a=P("#"),l=P(t[2]),c=P("\n              claimed!"),F(i,"class","fas fa-check fa-left c-green"),F(s,"class","link"),F(s,"href",u=vu(t[0],{chainId:t[0],address:t[1],tokenID:t[2]})+"}"),F(s,"target","_blank"),F(n,"class","titre")},m(t,e){x(t,r,e),I(r,n),I(n,i),I(n,o),I(n,s),I(s,a),I(s,l),I(n,c)},p(t,e){4&e&&L(l,t[2]),7&e&&u!==(u=vu(t[0],{chainId:t[0],address:t[1],tokenID:t[2]})+"}")&&F(s,"href",u)},i:e,o:e,d(t){t&&N(r)}}}function XT(t){let e;return{c(){e=P("Sign the transaction")},m(t,r){x(t,e,r)},d(t){t&&N(e)}}}function ZT(t){let e;return{c(){e=P("Wait till completed, it may take one minute or more.")},m(t,r){x(t,e,r)},d(t){t&&N(e)}}}function YT(t){let e,r,n,i,o=Jl(t[4])+"";return{c(){e=T("div"),r=T("a"),n=P(o),F(r,"class","link"),F(r,"href",i=fu(t[0],t[4])),F(r,"target","_blank"),F(e,"class","flex")},m(t,i){x(t,e,i),I(e,r),I(r,n)},p(t,e){16&e&&o!==(o=Jl(t[4])+"")&&L(n,o),17&e&&i!==(i=fu(t[0],t[4]))&&F(r,"href",i)},d(t){t&&N(e)}}}function QT(t){let e,r,n,i,o,s,a,l,u,c;const h=[KT,JT,VT],f=[];function d(t,e){return t[6]?0:t[5]?1:2}a=d(t),l=f[a]=h[a](t);let p=t[4]&&YT(t);return{c(){e=T("div"),r=T("div"),n=T("a"),n.innerHTML='<i class="fa fa-times"></i>',i=O(),o=T("div"),s=T("div"),l.c(),u=O(),p&&p.c(),F(n,"href","./#"),F(n,"title","Close"),F(n,"class","modal-close"),F(o,"class","modal-body"),F(r,"class","modal-content"),F(e,"id","kredeum-claim-nft")},m(t,l){x(t,e,l),I(e,r),I(r,n),I(r,i),I(r,o),I(o,s),f[a].m(s,null),I(s,u),p&&p.m(s,null),c=!0},p(t,[e]){let r=a;a=d(t),a===r?f[a].p(t,e):(pt(),vt(f[r],1,1,(()=>{f[r]=null})),mt(),l=f[a],l?l.p(t,e):(l=f[a]=h[a](t),l.c()),gt(l,1),l.m(s,u)),t[4]?p?p.p(t,e):(p=YT(t),p.c(),p.m(s,null)):p&&(p.d(1),p=null)},i(t){c||(gt(l),c=!0)},o(t){vt(l),c=!1},d(t){t&&N(e),f[a].d(),p&&p.d()}}}function tP(t,r,n){let i,o,s,a=e;f(t,ag,(t=>n(13,i=t))),f(t,ug,(t=>n(14,s=t))),t.$$.on_destroy.push((()=>a()));let l,u,{chainId:h}=r,{address:d}=r,{tokenID:p}=r,m=h,g=null,v=!1,y=!1;const b=()=>{n(7,u=$T.getOneStore(h,d,p)),a(),a=c(u,(t=>n(9,o=t)))},w=async()=>{if(s&&o){let t;n(4,g=null),n(5,v=!0),n(6,y=!1);const e=Ul(m);console.log("claim",m,e);try{if(o.tokenURI){console.log("claim",o.tokenURI),l||(l=new $y);const r=await l.pinUrl(lu(o.tokenURI));if(r.startsWith("bafkrei")){console.log("cidToInt(cid)",WT(r));const t=await(async(t,e,r,n)=>{console.log(`nftClaimResponse ${Au(t,e,r)}`);const i=Ul(t);if(!(t&&e&&r&&n&&i))return null;const o=new ha(i,uv,n),s=await o.claim(de.from(r));return console.log(`${ql(t)}/tx/${(null==s?void 0:s.hash)||""}`),s})(m,e,WT(r),s);console.log("txResp",t);const a=await(async(t,e,r,n,i)=>{if(!(t&&e&&r&&n&&i))return null;await r.wait();const o=await hx(t,e,n,nu(n),i);return console.log("nftClaim4",o),o})(m,e,t,o.tokenURI,i);console.log("mintedNft",a),n(6,y=!0)}else t=`Not CID V1 raw ${r}`}else t="No metadata found on this NFT"}catch(e){t="Problem with transaction\n"+String(e.message||"")}n(5,v=!1),t&&console.error(t)}};return t.$$set=t=>{"chainId"in t&&n(0,h=t.chainId),"address"in t&&n(1,d=t.address),"tokenID"in t&&n(2,p=t.tokenID)},t.$$.update=()=>{7&t.$$.dirty&&h&&d&&p&&b(),512&t.$$.dirty&&console.log("NftClaim",o)},[h,d,p,m,g,v,y,u,w,o,function(t){m=t,n(3,m)},()=>w()]}class eP extends St{constructor(t){super(),It(this,t,tP,QT,a,{chainId:0,address:1,tokenID:2})}}function rP(t){let e,r,n,i,o,s,a,l,u,c,h,f,d,p,m,g,v,y,b,w,_,E,M,A,S,k,R,C,$,B,D,U,q,z,j,G,H,W,V,J,K,X,Z,Y,Q,tt,et,rt,nt,it,ot,st,at,lt,ut,ct,ht,ft,dt,pt,mt,yt,bt,wt,At,It,St=t[5].name+"",kt=t[5].description+"",xt=yu(t[0],t[5].owner,15)+"",Nt=Hl(t[5],10)+"",Rt=(t[5].image||"")+"",Tt=Bl(t[0])?.openSea;function Pt(t,e){return t[5].tokenURI?iP:nP}i=new MT({props:{nft:t[5]}});let Ot=Pt(t),Ct=Ot(t),$t="wordpress"===t[4]&&oP(),Ft=Tt&&sP(t);return{c(){e=T("div"),r=T("div"),n=T("div"),_t(i.$$.fragment),o=O(),s=T("div"),a=T("div"),l=T("h3"),u=P(St),c=O(),h=T("p"),f=P(kt),d=O(),p=T("ul"),m=T("li"),g=T("div"),g.innerHTML='<span class="label"><strong>Token ID</strong></span>',v=O(),y=T("div"),b=T("strong"),w=P("#"),_=P(t[2]),M=O(),A=T("li"),S=T("div"),S.innerHTML='<span class="label">Owner</span>',k=O(),R=T("div"),C=O(),$=T("li"),B=T("div"),B.innerHTML='<span class="label">Permanent link</span>',D=O(),U=T("div"),q=T("a"),G=O(),H=T("li"),W=T("div"),W.innerHTML='<span class="label">collection @</span>',V=O(),J=T("div"),K=T("a"),X=P(t[1]),Y=O(),Q=T("li"),tt=T("div"),tt.innerHTML='<span class="label">Metadata</span>',et=O(),rt=T("div"),Ct.c(),nt=O(),it=T("li"),ot=T("div"),ot.innerHTML='<span class="label">Image</span>',st=O(),at=T("div"),lt=T("a"),ut=P(Rt),ft=O(),dt=T("div"),$t&&$t.c(),pt=O(),mt=T("a"),yt=T("i"),bt=P(" Transfer"),At=O(),Ft&&Ft.c(),F(n,"class","card-krd"),F(r,"class","col col-xs-12 col-sm-4 col-md-3"),F(g,"class","flex"),F(y,"class","flex overflow-ellipsis"),F(y,"title",E="Token ID #"+t[2]),F(S,"class","flex"),F(R,"class","flex"),F(B,"class","flex"),F(q,"class","link overflow-ellipsis"),F(q,"href",z=gu(t[0],t[5])),F(q,"title",j=Hl(t[5],10)),F(q,"target","_blank"),F(U,"class","flex"),F(W,"class","flex"),F(K,"class","link overflow-ellipsis"),F(K,"href",Z=mu(t[0],t[1])),F(K,"title",t[1]),F(K,"target","_blank"),F(J,"class","flex"),F(tt,"class","flex"),F(rt,"class","flex"),F(ot,"class","flex"),F(lt,"class","link overflow-ellipsis"),F(lt,"href",ct=t[5].image),F(lt,"title",ht=t[5].ipfs),F(lt,"target","_blank"),F(at,"class","flex"),F(p,"class","steps"),F(yt,"class","fa fa-gift"),F(mt,"href",wt="#transfert-nft-"+t[2]),F(mt,"class","btn btn-small btn-outline"),F(mt,"title","Make a gift"),F(dt,"class","p-t-40 p-b-40 grid-buttons"),F(a,"class","card-krd"),F(s,"class","col col-xs-12 col-sm-8 col-md-9"),F(e,"class","row krd-nft-solo svelte-1wjcnjy")},m(t,E){x(t,e,E),I(e,r),I(r,n),Et(i,n,null),I(e,o),I(e,s),I(s,a),I(a,l),I(l,u),I(a,c),I(a,h),I(h,f),I(a,d),I(a,p),I(p,m),I(m,g),I(m,v),I(m,y),I(y,b),I(b,w),I(b,_),I(p,M),I(p,A),I(A,S),I(A,k),I(A,R),R.innerHTML=xt,I(p,C),I(p,$),I($,B),I($,D),I($,U),I(U,q),q.innerHTML=Nt,I(p,G),I(p,H),I(H,W),I(H,V),I(H,J),I(J,K),I(K,X),I(p,Y),I(p,Q),I(Q,tt),I(Q,et),I(Q,rt),Ct.m(rt,null),I(p,nt),I(p,it),I(it,ot),I(it,st),I(it,at),I(at,lt),I(lt,ut),I(a,ft),I(a,dt),$t&&$t.m(dt,null),I(dt,pt),I(dt,mt),I(mt,yt),I(mt,bt),I(dt,At),Ft&&Ft.m(dt,null),It=!0},p(t,e){const r={};32&e&&(r.nft=t[5]),i.$set(r),(!It||32&e)&&St!==(St=t[5].name+"")&&L(u,St),(!It||32&e)&&kt!==(kt=t[5].description+"")&&L(f,kt),(!It||4&e)&&L(_,t[2]),(!It||4&e&&E!==(E="Token ID #"+t[2]))&&F(y,"title",E),(!It||33&e)&&xt!==(xt=yu(t[0],t[5].owner,15)+"")&&(R.innerHTML=xt),(!It||32&e)&&Nt!==(Nt=Hl(t[5],10)+"")&&(q.innerHTML=Nt),(!It||33&e&&z!==(z=gu(t[0],t[5])))&&F(q,"href",z),(!It||32&e&&j!==(j=Hl(t[5],10)))&&F(q,"title",j),(!It||2&e)&&L(X,t[1]),(!It||3&e&&Z!==(Z=mu(t[0],t[1])))&&F(K,"href",Z),(!It||2&e)&&F(K,"title",t[1]),Ot===(Ot=Pt(t))&&Ct?Ct.p(t,e):(Ct.d(1),Ct=Ot(t),Ct&&(Ct.c(),Ct.m(rt,null))),(!It||32&e)&&Rt!==(Rt=(t[5].image||"")+"")&&L(ut,Rt),(!It||32&e&&ct!==(ct=t[5].image))&&F(lt,"href",ct),(!It||32&e&&ht!==(ht=t[5].ipfs))&&F(lt,"title",ht),"wordpress"===t[4]?$t||($t=oP(),$t.c(),$t.m(dt,pt)):$t&&($t.d(1),$t=null),(!It||4&e&&wt!==(wt="#transfert-nft-"+t[2]))&&F(mt,"href",wt),1&e&&(Tt=Bl(t[0])?.openSea),Tt?Ft?Ft.p(t,e):(Ft=sP(t),Ft.c(),Ft.m(dt,null)):Ft&&(Ft.d(1),Ft=null)},i(t){It||(gt(i.$$.fragment,t),It=!0)},o(t){vt(i.$$.fragment,t),It=!1},d(t){t&&N(e),Mt(i),Ct.d(),$t&&$t.d(),Ft&&Ft.d()}}}function nP(t){let r;return{c(){r=P("NO metadata")},m(t,e){x(t,r,e)},p:e,d(t){t&&N(r)}}}function iP(t){let e,r,n,i,o=t[5].tokenURI+"";return{c(){e=T("a"),r=P(o),F(e,"class","link overflow-ellipsis"),F(e,"href",n=t[5].tokenURI),F(e,"title",i=t[5].ipfsJson),F(e,"target","_blank")},m(t,n){x(t,e,n),I(e,r)},p(t,s){32&s&&o!==(o=t[5].tokenURI+"")&&L(r,o),32&s&&n!==(n=t[5].tokenURI)&&F(e,"href",n),32&s&&i!==(i=t[5].ipfsJson)&&F(e,"title",i)},d(t){t&&N(e)}}}function oP(t){let e;return{c(){e=T("a"),e.innerHTML='<i class="fa fa-code"></i><span>Get shortcode</span>',F(e,"href","#schortcodes"),F(e,"class","btn btn-small btn-outline"),F(e,"title","Get shortcode")},m(t,r){x(t,e,r)},d(t){t&&N(e)}}}function sP(t){let e,r;function n(t,r){return 40&r&&(e=null),null==e&&(e=!!Zl(t[5].owner,t[3])),e?lP:aP}let i=n(t,-1),o=i(t);return{c(){o.c(),r=C()},m(t,e){o.m(t,e),x(t,r,e)},p(t,e){i===(i=n(t,e))&&o?o.p(t,e):(o.d(1),o=i(t),o&&(o.c(),o.m(r.parentNode,r)))},d(t){o.d(t),t&&N(r)}}}function aP(t){let e,r,n;return{c(){e=T("a"),r=P("Buy"),F(e,"href",n=bu(t[0],t[5])),F(e,"class","btn btn-small btn-buy"),F(e,"title","Buy"),F(e,"target","_blank")},m(t,n){x(t,e,n),I(e,r)},p(t,r){33&r&&n!==(n=bu(t[0],t[5]))&&F(e,"href",n)},d(t){t&&N(e)}}}function lP(t){let e,r,n;return{c(){e=T("a"),r=P("Sell"),F(e,"href",n=bu(t[0],t[5])),F(e,"class","btn btn-small btn-sell"),F(e,"title","Sell"),F(e,"target","_blank")},m(t,n){x(t,e,n),I(e,r)},p(t,r){33&r&&n!==(n=bu(t[0],t[5]))&&F(e,"href",n)},d(t){t&&N(e)}}}function uP(t){let e,r,n,i,o,s,a,l,u,c,h,f,d,p,m,g,v,y,b,w,_,E,M,A,S,k,R,P,C=t[5]&&rP(t);return w=new GT({props:{chainId:t[0],address:t[1],tokenID:t[2]}}),A=new eP({props:{chainId:t[0],address:t[1],tokenID:t[2]}}),{c(){C&&C.c(),e=O(),r=T("div"),n=T("div"),i=T("div"),o=T("a"),o.innerHTML='<i class="fa fa-times"></i>',s=O(),a=T("div"),l=T("div"),l.innerHTML='<i class="fas fa-code fa-left c-green"></i>\n          Shortcodes',u=O(),c=T("p"),c.textContent="Click on the Copy Button to copy the shortcode in your clipboard and then paste it in a WordPress page.",h=O(),f=T("ul"),d=T("li"),p=T("div"),p.innerHTML='<span class="label">Sell direclty on Opensea</span>',m=O(),g=T("div"),v=T("a"),v.textContent="Copy",y=O(),b=T("div"),_t(w.$$.fragment),E=O(),M=T("div"),_t(A.$$.fragment),F(o,"href","./#"),F(o,"title","Close"),F(o,"class","modal-close"),F(l,"class","titre"),F(p,"class","flex"),F(v,"class","btn btn-small btn-outline"),F(v,"href","."),F(v,"title","Copy"),F(g,"class","flex"),F(f,"class","steps"),F(a,"class","modal-body"),F(i,"class","modal-content"),F(r,"id","schortcodes"),F(r,"class","modal-window"),F(b,"id",_="transfert-nft-"+t[2]),F(b,"class","modal-window"),F(M,"id",S="claim-nft-"+t[2]),F(M,"class","modal-window")},m(_,S){var N;C&&C.m(_,S),x(_,e,S),x(_,r,S),I(r,n),I(n,i),I(i,o),I(i,s),I(i,a),I(a,l),I(a,u),I(a,c),I(a,h),I(a,f),I(f,d),I(d,p),I(d,m),I(d,g),I(g,v),x(_,y,S),x(_,b,S),Et(w,b,null),x(_,E,S),x(_,M,S),Et(A,M,null),k=!0,R||(P=$(v,"click",(N=t[8],function(t){return t.preventDefault(),N.call(this,t)})),R=!0)},p(t,[r]){t[5]?C?(C.p(t,r),32&r&&gt(C,1)):(C=rP(t),C.c(),gt(C,1),C.m(e.parentNode,e)):C&&(pt(),vt(C,1,1,(()=>{C=null})),mt());const n={};1&r&&(n.chainId=t[0]),2&r&&(n.address=t[1]),4&r&&(n.tokenID=t[2]),w.$set(n),(!k||4&r&&_!==(_="transfert-nft-"+t[2]))&&F(b,"id",_);const i={};1&r&&(i.chainId=t[0]),2&r&&(i.address=t[1]),4&r&&(i.tokenID=t[2]),A.$set(i),(!k||4&r&&S!==(S="claim-nft-"+t[2]))&&F(M,"id",S)},i(t){k||(gt(C),gt(w.$$.fragment,t),gt(A.$$.fragment,t),k=!0)},o(t){vt(C),vt(w.$$.fragment,t),vt(A.$$.fragment,t),k=!1},d(t){C&&C.d(t),t&&N(e),t&&N(r),t&&N(y),t&&N(b),Mt(w),t&&N(E),t&&N(M),Mt(A),R=!1,P()}}}function cP(t,r,n){let i,o,s=e;f(t,sg,(t=>n(7,o=t))),t.$$.on_destroy.push((()=>s()));let a,{chainId:l}=r,{address:u}=r,{tokenID:h}=r,{account:d}=r,{platform:p}=r;const m=async()=>{n(6,a=$T.getOneStore(l,u,h)),s(),s=c(a,(t=>n(5,i=t))),await $T.refreshOne(l,u,h).catch(console.error)};return t.$$set=t=>{"chainId"in t&&n(0,l=t.chainId),"address"in t&&n(1,u=t.address),"tokenID"in t&&n(2,h=t.tokenID),"account"in t&&n(3,d=t.account),"platform"in t&&n(4,p=t.platform)},t.$$.update=()=>{143&t.$$.dirty&&l&&u&&h&&o&&m(),32&t.$$.dirty&&console.log("Nft",i)},[l,u,h,d,p,i,a,o,()=>(async t=>{const e=`[kredeum_sell chain="${t.chainName}" collection="${t.address}" tokenid="${t.tokenID}" cid="${t.image}" image=50]${wu(t)}[/kredeum_sell]`;await navigator.clipboard.writeText(e).catch((()=>console.log("Not copied"))),console.log("Copied")})(i)]}class hP extends St{constructor(t){super(),It(this,t,cP,uP,a,{chainId:0,address:1,tokenID:2,account:3,platform:4})}}function fP(t){let r,n,i,s,a,l,u,c,h,f,d;return{c(){r=T("div"),n=T("div"),i=T("input"),s=O(),a=T("label"),a.innerHTML='<i class="fas fa-th svelte-1a6rb9r"></i>',l=O(),u=T("input"),c=O(),h=T("label"),h.innerHTML='<i class="fas fa-list svelte-1a6rb9r"></i>',F(i,"class","box-field"),F(i,"id","display-grid-type"),F(i,"name","nfts-display-type"),F(i,"type","radio"),i.__value="grid",i.value=i.__value,t[2][0].push(i),F(a,"class","field"),F(a,"for","display-grid-type"),F(u,"class","box-field"),F(u,"id","display-list-type"),F(u,"name","nfts-display-type"),F(u,"type","radio"),u.__value="list",u.value=u.__value,t[2][0].push(u),F(h,"class","field"),F(h,"for","display-list-type"),F(n,"class","box-fields"),F(r,"id","displayListMode"),F(r,"class","col col-xs-12 col-sm-5 svelte-1a6rb9r")},m(e,o){x(e,r,o),I(r,n),I(n,i),i.checked=i.__value===t[0],I(n,s),I(n,a),I(n,l),I(n,u),u.checked=u.__value===t[0],I(n,c),I(n,h),f||(d=[$(i,"change",t[1]),$(u,"change",t[3])],f=!0)},p(t,[e]){1&e&&(i.checked=i.__value===t[0]),1&e&&(u.checked=u.__value===t[0])},i:e,o:e,d(e){e&&N(r),t[2][0].splice(t[2][0].indexOf(i),1),t[2][0].splice(t[2][0].indexOf(u),1),f=!1,o(d)}}}function dP(t,e,r){let{displayMode:n="grid"}=e;return t.$$set=t=>{"displayMode"in t&&r(0,n=t.displayMode)},[n,function(){n=this.__value,r(0,n)},[[]],function(){n=this.__value,r(0,n)}]}class pP extends St{constructor(t){super(),It(this,t,dP,fP,a,{displayMode:0})}}function mP(t){let e,r,n,i,o,s,a,l,u,c,h,f,d,p,m,g,v,y,b,w,_,E,M,A,S,k,R,C,B,q,z,j,G,H,W,V,J,K,X,Z,Y=wu(t[1])+"",Q=Eu(t[1],64)+"",tt=Jl(t[1].tokenID)+"";return i=new bT({props:{nft:t[1],displayMode:gP}}),W=new hP({props:{chainId:t[1].chainId,address:t[1].address,tokenID:t[1].tokenID,account:t[2],platform:t[3]}}),{c(){e=T("div"),r=T("div"),n=T("div"),_t(i.$$.fragment),o=O(),s=T("strong"),a=P(Y),l=O(),u=T("span"),c=P(Q),f=O(),d=T("a"),p=T("i"),y=O(),b=T("div"),w=T("div"),_=T("span"),E=P(""),M=T("strong"),A=P("#"),S=P(tt),B=O(),q=T("div"),z=T("div"),z.innerHTML='<div class="more-button"><i class="fas fa-chevron-down"></i></div>',G=O(),H=T("div"),_t(W.$$.fragment),F(u,"id",h="description-short-"+(t[1]?.tokenID||"")),U(u,"hidden",t[0]),F(p,"class","fas fa-info-circle"),F(d,"class","info-button"),F(d,"href",m=Oy(t[1])),F(d,"title",g="\t"+_u(t[1])+" \n                NFT address (click to view in explorer)\r."+Hl(t[1])),F(d,"target","_blank"),F(n,"class","table-col-content"),F(r,"id",v="media-"+(t[1]?.tokenID||"")),F(r,"class","table-col"),F(_,"id",k="token-id-"+(t[1]?.tokenID||"")),F(_,"title",R="  #"+t[1].tokenID),F(w,"class","table-col-content"),F(b,"id",C="marketplace-"+(t[1]?.tokenID||"")),F(b,"class","table-col"),F(z,"class","table-col-content txtright"),F(q,"id",j="more-"+(t[1]?.tokenID||"")),F(q,"class","table-col more"),F(H,"id",V="more-detail-"+(t[1]?.tokenID||"")),F(H,"class","detail svelte-1g957vq"),F(e,"id",J="table-drop-"+(t[1]?.tokenID||"")),F(e,"class","table-row table-drop"),D(e,"height",t[0]?`${t[0]}px`:"auto"),U(e,"closed",!t[0])},m(h,m){x(h,e,m),I(e,r),I(r,n),Et(i,n,null),I(n,o),I(n,s),I(s,a),I(n,l),I(n,u),I(u,c),I(n,f),I(n,d),I(d,p),I(e,y),I(e,b),I(b,w),I(w,_),I(_,E),I(_,M),I(M,A),I(M,S),I(e,B),I(e,q),I(q,z),I(e,G),I(e,H),Et(W,H,null),K=!0,X||(Z=$(q,"click",t[5]),X=!0)},p(t,[n]){const o={};2&n&&(o.nft=t[1]),i.$set(o),(!K||2&n)&&Y!==(Y=wu(t[1])+"")&&L(a,Y),(!K||2&n)&&Q!==(Q=Eu(t[1],64)+"")&&L(c,Q),(!K||2&n&&h!==(h="description-short-"+(t[1]?.tokenID||"")))&&F(u,"id",h),1&n&&U(u,"hidden",t[0]),(!K||2&n&&m!==(m=Oy(t[1])))&&F(d,"href",m),(!K||2&n&&g!==(g="\t"+_u(t[1])+" \n                NFT address (click to view in explorer)\r."+Hl(t[1])))&&F(d,"title",g),(!K||2&n&&v!==(v="media-"+(t[1]?.tokenID||"")))&&F(r,"id",v),(!K||2&n)&&tt!==(tt=Jl(t[1].tokenID)+"")&&L(S,tt),(!K||2&n&&k!==(k="token-id-"+(t[1]?.tokenID||"")))&&F(_,"id",k),(!K||2&n&&R!==(R="  #"+t[1].tokenID))&&F(_,"title",R),(!K||2&n&&C!==(C="marketplace-"+(t[1]?.tokenID||"")))&&F(b,"id",C),(!K||2&n&&j!==(j="more-"+(t[1]?.tokenID||"")))&&F(q,"id",j);const s={};2&n&&(s.chainId=t[1].chainId),2&n&&(s.address=t[1].address),2&n&&(s.tokenID=t[1].tokenID),4&n&&(s.account=t[2]),8&n&&(s.platform=t[3]),W.$set(s),(!K||2&n&&V!==(V="more-detail-"+(t[1]?.tokenID||"")))&&F(H,"id",V),(!K||2&n&&J!==(J="table-drop-"+(t[1]?.tokenID||"")))&&F(e,"id",J),(!K||1&n)&&D(e,"height",t[0]?`${t[0]}px`:"auto"),1&n&&U(e,"closed",!t[0])},i(t){K||(gt(i.$$.fragment,t),gt(W.$$.fragment,t),K=!0)},o(t){vt(i.$$.fragment,t),vt(W.$$.fragment,t),K=!1},d(t){t&&N(e),Mt(i),Mt(W),X=!1,Z()}}}let gP="list";function vP(t,e,r){let{nft:n}=e,{account:i}=e,{more:o=0}=e,{platform:s}=e;const a=()=>{var t;r(0,o=o>0?0:((null===(t=document.getElementById(`more-detail-${(null==n?void 0:n.tokenID)||""}`))||void 0===t?void 0:t.offsetHeight)||0)+70)};K((()=>-1==o&&a()));return t.$$set=t=>{"nft"in t&&r(1,n=t.nft),"account"in t&&r(2,i=t.account),"more"in t&&r(0,o=t.more),"platform"in t&&r(3,s=t.platform)},t.$$.update=()=>{2&t.$$.dirty&&console.log("NftLine",n)},[o,n,i,s,a,()=>a()]}class yP extends St{constructor(t){super(),It(this,t,vP,mP,a,{nft:1,account:2,more:0,platform:3})}}function bP(t,e,r){const n=t.slice();return n[5]=e[r],n}function wP(t){let e;return{c(){e=T("div"),e.innerHTML='<span class="label">Infos</span>',F(e,"class","table-col")},m(t,r){x(t,e,r)},d(t){t&&N(e)}}}function _P(t){let e;return{c(){e=T("div"),e.innerHTML='<span class="label">Marketplace</span>',F(e,"class","table-col")},m(t,r){x(t,e,r)},d(t){t&&N(e)}}}function EP(t){let e,r;return e=new yP({props:{nft:t[5],account:t[1],platform:t[3]}}),{c(){_t(e.$$.fragment)},m(t,n){Et(e,t,n),r=!0},p(t,r){const n={};16&r&&(n.nft=t[5]),2&r&&(n.account=t[1]),8&r&&(n.platform=t[3]),e.$set(n)},i(t){r||(gt(e.$$.fragment,t),r=!0)},o(t){vt(e.$$.fragment,t),r=!1},d(t){Mt(e,t)}}}function MP(t){let e,r,n,i,o,s,a;function l(t,e){return 1&e&&(o=null),null==o&&(o=!!Bl(t[0])?.openSea),o?_P:wP}let u=l(t,-1),c=u(t),h=[...t[4].values()],f=[];for(let e=0;e<h.length;e+=1)f[e]=EP(bP(t,h,e));const d=t=>vt(f[t],1,1,(()=>{f[t]=null}));return{c(){e=T("div"),r=T("div"),n=T("div"),n.innerHTML='<span class="label">Media</span>',i=O(),c.c(),s=O();for(let t=0;t<f.length;t+=1)f[t].c();F(n,"class","table-col"),F(r,"class","table-row table-head hidden-xs"),F(e,"class","table")},m(t,o){x(t,e,o),I(e,r),I(r,n),I(r,i),c.m(r,null),I(e,s);for(let t=0;t<f.length;t+=1)f[t].m(e,null);a=!0},p(t,[n]){if(u!==(u=l(t,n))&&(c.d(1),c=u(t),c&&(c.c(),c.m(r,null))),26&n){let r;for(h=[...t[4].values()],r=0;r<h.length;r+=1){const i=bP(t,h,r);f[r]?(f[r].p(i,n),gt(f[r],1)):(f[r]=EP(i),f[r].c(),gt(f[r],1),f[r].m(e,null))}for(pt(),r=h.length;r<f.length;r+=1)d(r);mt()}},i(t){if(!a){for(let t=0;t<h.length;t+=1)gt(f[t]);a=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)vt(f[t]);a=!1},d(t){t&&N(e),c.d(),R(f,t)}}}function AP(t,r,n){let i,o=e,s=()=>(o(),o=c(u,(t=>n(4,i=t))),u);t.$$.on_destroy.push((()=>o()));let{chainId:a}=r,{account:l}=r,{nfts:u}=r;s();let{platform:h}=r;return t.$$set=t=>{"chainId"in t&&n(0,a=t.chainId),"account"in t&&n(1,l=t.account),"nfts"in t&&s(n(2,u=t.nfts)),"platform"in t&&n(3,h=t.platform)},[a,l,u,h,i]}class IP extends St{constructor(t){super(),It(this,t,AP,MP,a,{chainId:0,account:1,nfts:2,platform:3})}}function SP(t){let e,r;function n(t,r){return 3&r&&(e=null),null==e&&(e=!!Zl(t[0].owner,t[1])),e?xP:kP}let i=n(t,-1),o=i(t);return{c(){o.c(),r=C()},m(t,e){o.m(t,e),x(t,r,e)},p(t,e){i===(i=n(t,e))&&o?o.p(t,e):(o.d(1),o=i(t),o&&(o.c(),o.m(r.parentNode,r)))},d(t){o.d(t),t&&N(r)}}}function kP(t){let e,r,n;return{c(){e=T("a"),r=P("Buy"),F(e,"href",n=bu(t[0].chainId,t[0])),F(e,"class","btn btn-small btn-buy"),F(e,"title","Buy"),F(e,"target","_blank")},m(t,n){x(t,e,n),I(e,r)},p(t,r){1&r&&n!==(n=bu(t[0].chainId,t[0]))&&F(e,"href",n)},d(t){t&&N(e)}}}function xP(t){let e,r,n;return{c(){e=T("a"),r=P("Sell"),F(e,"href",n=bu(t[0].chainId,t[0])),F(e,"class","btn btn-small btn-sell"),F(e,"title","Sell"),F(e,"target","_blank")},m(t,n){x(t,e,n),I(e,r)},p(t,r){1&r&&n!==(n=bu(t[0].chainId,t[0]))&&F(e,"href",n)},d(t){t&&N(e)}}}function NP(t){let e,r,n,i,o,s,a,l,u,c,h=wu(t[0])+"",f=Bl(t[0].chainId)?.openSea;n=new bT({props:{nft:t[0],displayMode:RP}});let d=f&&SP(t);return{c(){e=T("div"),r=T("div"),_t(n.$$.fragment),i=O(),o=T("div"),s=T("h3"),a=P(h),l=O(),d&&d.c(),F(s,"class","svelte-1lycm4b"),F(o,"class","caption"),F(r,"class","grid-card-krd svelte-1lycm4b"),F(r,"data-tokenid",u=t[0]?.tokenID||""),F(e,"class","col col-xs-12 col-sm-4 col-md-3 col-lg-2")},m(t,u){x(t,e,u),I(e,r),Et(n,r,null),I(r,i),I(r,o),I(o,s),I(s,a),I(o,l),d&&d.m(o,null),c=!0},p(t,[e]){const i={};1&e&&(i.nft=t[0]),n.$set(i),(!c||1&e)&&h!==(h=wu(t[0])+"")&&L(a,h),1&e&&(f=Bl(t[0].chainId)?.openSea),f?d?d.p(t,e):(d=SP(t),d.c(),d.m(o,null)):d&&(d.d(1),d=null),(!c||1&e&&u!==(u=t[0]?.tokenID||""))&&F(r,"data-tokenid",u)},i(t){c||(gt(n.$$.fragment,t),c=!0)},o(t){vt(n.$$.fragment,t),c=!1},d(t){t&&N(e),Mt(n),d&&d.d()}}}let RP="grid";function TP(t,e,r){let{nft:n}=e,{account:i}=e;return t.$$set=t=>{"nft"in t&&r(0,n=t.nft),"account"in t&&r(1,i=t.account)},t.$$.update=()=>{1&t.$$.dirty&&console.log("NftGrid",n)},[n,i]}class PP extends St{constructor(t){super(),It(this,t,TP,NP,a,{nft:0,account:1})}}function OP(t,e,r){const n=t.slice();return n[3]=e[r],n}function CP(t){let e,r;return e=new PP({props:{nft:t[3],account:t[0]}}),{c(){_t(e.$$.fragment)},m(t,n){Et(e,t,n),r=!0},p(t,r){const n={};4&r&&(n.nft=t[3]),1&r&&(n.account=t[0]),e.$set(n)},i(t){r||(gt(e.$$.fragment,t),r=!0)},o(t){vt(e.$$.fragment,t),r=!1},d(t){Mt(e,t)}}}function $P(t){let e,r,n=[...t[2].values()],i=[];for(let e=0;e<n.length;e+=1)i[e]=CP(OP(t,n,e));const o=t=>vt(i[t],1,1,(()=>{i[t]=null}));return{c(){e=T("div");for(let t=0;t<i.length;t+=1)i[t].c();F(e,"class","row grid-krd")},m(t,n){x(t,e,n);for(let t=0;t<i.length;t+=1)i[t].m(e,null);r=!0},p(t,[r]){if(5&r){let s;for(n=[...t[2].values()],s=0;s<n.length;s+=1){const o=OP(t,n,s);i[s]?(i[s].p(o,r),gt(i[s],1)):(i[s]=CP(o),i[s].c(),gt(i[s],1),i[s].m(e,null))}for(pt(),s=n.length;s<i.length;s+=1)o(s);mt()}},i(t){if(!r){for(let t=0;t<n.length;t+=1)gt(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)vt(i[t]);r=!1},d(t){t&&N(e),R(i,t)}}}function FP(t,r,n){let i,o=e,s=()=>(o(),o=c(l,(t=>n(2,i=t))),l);t.$$.on_destroy.push((()=>o()));let{account:a}=r,{nfts:l}=r;return s(),t.$$set=t=>{"account"in t&&n(0,a=t.account),"nfts"in t&&s(n(1,l=t.nfts))},[a,l,i]}class LP extends St{constructor(t){super(),It(this,t,FP,$P,a,{account:0,nfts:1})}}function BP(t){let r,n;function i(t,e){return t[7]?qP:UP}let o=i(t),s=o(t);return{c(){r=T("div"),n=T("p"),s.c(),F(r,"class","card-krd")},m(t,e){x(t,r,e),I(r,n),s.m(n,null)},p(t,e){o===(o=i(t))&&s?s.p(t,e):(s.d(1),s=o(t),s&&(s.c(),s.m(n,null)))},i:e,o:e,d(t){t&&N(r),s.d()}}}function DP(t){let e,r,n,i,o,s,a,l,u,c,h,f,d,p,m,g,v,y,b,w,_,E,M,A,S,k,R,$=t[8]?.name+"",B=(t[9]?.size||0)+"",D=(t[8]?.balancesOf?.get(t[2])||t[9]?.size||0)+"",U=(t[8]?.symbol||"NFT")+"",q=t[7]&&zP();function z(e){t[13](e)}let j={};void 0!==t[4]&&(j.displayMode=t[4]),_=new pP({props:j}),Q.push((()=>wt(_,"displayMode",z)));const G=[GP,jP],H=[];function W(t,e){return"list"===t[4]?0:"grid"===t[4]?1:-1}return~(A=W(t))&&(S=H[A]=G[A](t)),{c(){e=T("div"),r=T("div"),n=T("h2"),i=P("Collection '"),o=P($),s=P("'"),a=O(),l=P(B),u=P("/"),c=P(D),h=O(),f=P(U),d=O(),q&&q.c(),p=O(),m=T("a"),g=T("i"),b=O(),w=T("div"),_t(_.$$.fragment),M=O(),S&&S.c(),k=C(),F(g,"class","fas fa-info-circle"),F(m,"class","info-button"),F(m,"href",v=mu(t[0],t[1])),F(m,"title",y="\tCollection address (click to view in explorer)\r\n      "+Gl(t[0],t[1])),F(m,"target","_blank"),F(r,"class","col col-xs-12"),F(w,"class","col col-xs-12"),F(e,"class","row alignbottom")},m(t,v){x(t,e,v),I(e,r),I(r,n),I(n,i),I(n,o),I(n,s),I(r,a),I(r,l),I(r,u),I(r,c),I(r,h),I(r,f),I(r,d),q&&q.m(r,null),I(r,p),I(r,m),I(m,g),I(e,b),I(e,w),Et(_,w,null),x(t,M,v),~A&&H[A].m(t,v),x(t,k,v),R=!0},p(t,e){(!R||256&e)&&$!==($=t[8]?.name+"")&&L(o,$),(!R||512&e)&&B!==(B=(t[9]?.size||0)+"")&&L(l,B),(!R||772&e)&&D!==(D=(t[8]?.balancesOf?.get(t[2])||t[9]?.size||0)+"")&&L(c,D),(!R||256&e)&&U!==(U=(t[8]?.symbol||"NFT")+"")&&L(f,U),t[7]?q||(q=zP(),q.c(),q.m(r,p)):q&&(q.d(1),q=null),(!R||3&e&&v!==(v=mu(t[0],t[1])))&&F(m,"href",v),(!R||3&e&&y!==(y="\tCollection address (click to view in explorer)\r\n      "+Gl(t[0],t[1])))&&F(m,"title",y);const n={};!E&&16&e&&(E=!0,n.displayMode=t[4],ot((()=>E=!1))),_.$set(n);let i=A;A=W(t),A===i?~A&&H[A].p(t,e):(S&&(pt(),vt(H[i],1,1,(()=>{H[i]=null})),mt()),~A?(S=H[A],S?S.p(t,e):(S=H[A]=G[A](t),S.c()),gt(S,1),S.m(k.parentNode,k)):S=null)},i(t){R||(gt(_.$$.fragment,t),gt(S),R=!0)},o(t){vt(_.$$.fragment,t),vt(S),R=!1},d(t){t&&N(e),q&&q.d(),Mt(_),t&&N(M),~A&&H[A].d(t),t&&N(k)}}}function UP(t){let r;return{c(){r=P("No NFTs ")},m(t,e){x(t,r,e)},p:e,d(t){t&&N(r)}}}function qP(t){let e,r,n,i,o,s=t[8]?.name+"";return{c(){e=T("h2"),r=P("Collection '"),n=P(s),i=P("'"),o=P("\n        Refreshing NFTs...")},m(t,s){x(t,e,s),I(e,r),I(e,n),I(e,i),x(t,o,s)},p(t,e){256&e&&s!==(s=t[8]?.name+"")&&L(n,s)},d(t){t&&N(e),t&&N(o)}}}function zP(t){let e;return{c(){e=P("...")},m(t,r){x(t,e,r)},d(t){t&&N(e)}}}function jP(t){let e,r;return e=new LP({props:{account:t[2],nfts:t[5]}}),{c(){_t(e.$$.fragment)},m(t,n){Et(e,t,n),r=!0},p(t,r){const n={};4&r&&(n.account=t[2]),32&r&&(n.nfts=t[5]),e.$set(n)},i(t){r||(gt(e.$$.fragment,t),r=!0)},o(t){vt(e.$$.fragment,t),r=!1},d(t){Mt(e,t)}}}function GP(t){let e,r;return e=new IP({props:{chainId:t[0],account:t[2],nfts:t[5],platform:t[3]}}),{c(){_t(e.$$.fragment)},m(t,n){Et(e,t,n),r=!0},p(t,r){const n={};1&r&&(n.chainId=t[0]),4&r&&(n.account=t[2]),32&r&&(n.nfts=t[5]),8&r&&(n.platform=t[3]),e.$set(n)},i(t){r||(gt(e.$$.fragment,t),r=!0)},o(t){vt(e.$$.fragment,t),r=!1},d(t){Mt(e,t)}}}function HP(t){let e,r,n,i;const o=[DP,BP],s=[];function a(t,e){return t[8]&&t[5]?0:1}return e=a(t),r=s[e]=o[e](t),{c(){r.c(),n=C()},m(t,r){s[e].m(t,r),x(t,n,r),i=!0},p(t,[i]){let l=e;e=a(t),e===l?s[e].p(t,i):(pt(),vt(s[l],1,1,(()=>{s[l]=null})),mt(),r=s[e],r?r.p(t,i):(r=s[e]=o[e](t),r.c()),gt(r,1),r.m(n.parentNode,n))},i(t){i||(gt(r),i=!0)},o(t){vt(r),i=!1},d(t){s[e].d(t),t&&N(n)}}}function WP(t,r,n){let i,o,s,a,l=e,u=e;t.$$.on_destroy.push((()=>l())),t.$$.on_destroy.push((()=>u()));let{chainId:h}=r,{address:d}=r,{account:p}=r,{platform:m="dapp"}=r,g=Z("refreshNftsList");f(t,g,(t=>n(12,o=t)));let v=Z("refreshing");f(t,v,(t=>n(7,i=t)));let b,w,_="grid";const E=async()=>{n(6,w=jv.getOneStore(h,d)),l(),l=c(w,(t=>n(8,s=t))),n(5,b=$T.getSubListStore(h,d,p)),u(),u=c(b,(t=>n(9,a=t))),y(v,i=!0,i),await $T.refreshSubList(h,d,p),y(v,i=!1,i)};return t.$$set=t=>{"chainId"in t&&n(0,h=t.chainId),"address"in t&&n(1,d=t.address),"account"in t&&n(2,p=t.account),"platform"in t&&n(3,m=t.platform)},t.$$.update=()=>{4103&t.$$.dirty&&h&&d&&p&&E()},[h,d,p,m,_,b,w,i,s,a,g,v,o,function(t){_=t,n(4,_)}]}class VP extends St{constructor(t){super(),It(this,t,WP,HP,a,{chainId:0,address:1,account:2,platform:3})}}function JP(t){let e,r;return e=new VP({props:{chainId:t[0],address:t[1],account:t[2],platform:t[3]}}),{c(){_t(e.$$.fragment)},m(t,n){Et(e,t,n),r=!0},p(t,r){const n={};1&r&&(n.chainId=t[0]),2&r&&(n.address=t[1]),4&r&&(n.account=t[2]),8&r&&(n.platform=t[3]),e.$set(n)},i(t){r||(gt(e.$$.fragment,t),r=!0)},o(t){vt(e.$$.fragment,t),r=!1},d(t){Mt(e,t)}}}function KP(t){let e,r,n,i,o,s,a,l,u;return s=new hP({props:{chainId:t[0],address:t[1],tokenID:t[4],account:t[2],platform:t[3]}}),{c(){e=T("h2"),r=T("i"),n=O(),i=T("span"),i.textContent="Return to collection",o=O(),_t(s.$$.fragment),F(r,"class","fa fa-arrow-left fa-left"),F(i,"class","link"),F(e,"class","m-b-20 return")},m(c,h){x(c,e,h),I(e,r),I(e,n),I(e,i),x(c,o,h),Et(s,c,h),a=!0,l||(u=$(i,"click",t[5]),l=!0)},p(t,e){const r={};1&e&&(r.chainId=t[0]),2&e&&(r.address=t[1]),16&e&&(r.tokenID=t[4]),4&e&&(r.account=t[2]),8&e&&(r.platform=t[3]),s.$set(r)},i(t){a||(gt(s.$$.fragment,t),a=!0)},o(t){vt(s.$$.fragment,t),a=!1},d(t){t&&N(e),t&&N(o),Mt(s,t),l=!1,u()}}}function XP(t){let e,r,n,i,o,s;const a=[KP,JP],l=[];function u(t,e){return""!==t[4]?0:1}return r=u(t),n=l[r]=a[r](t),{c(){e=T("div"),n.c()},m(n,a){x(n,e,a),l[r].m(e,null),i=!0,o||(s=$(e,"click",t[7]),o=!0)},p(t,[i]){let o=r;r=u(t),r===o?l[r].p(t,i):(pt(),vt(l[o],1,1,(()=>{l[o]=null})),mt(),n=l[r],n?n.p(t,i):(n=l[r]=a[r](t),n.c()),gt(n,1),n.m(e,null))},i(t){i||(gt(n),i=!0)},o(t){vt(n),i=!1},d(t){t&&N(e),l[r].d(),o=!1,s()}}}function ZP(t,e,r){let{chainId:n}=e,{address:i}=e,{account:o}=e,{platform:s}=e,a="";const l=()=>r(4,a=""),u=t=>{const e=t.target;e.classList.contains("btn")||e.classList.contains("video-play-icon")||e.closest("div [data-tokenid]")&&(t.preventDefault(),r(4,a=e.closest("div [data-tokenid]").getAttribute("data-tokenid")))};X("toPlayTokenID",xt(""));return t.$$set=t=>{"chainId"in t&&r(0,n=t.chainId),"address"in t&&r(1,i=t.address),"account"in t&&r(2,o=t.account),"platform"in t&&r(3,s=t.platform)},t.$$.update=()=>{7&t.$$.dirty&&o&&n&&i&&l()},[n,i,o,s,a,l,u,t=>u(t)]}class YP extends St{constructor(t){super(),It(this,t,ZP,XP,a,{chainId:0,address:1,account:2,platform:3})}}function QP(t){let r,n,i;return n=new Dx({}),{c(){r=T("span"),_t(n.$$.fragment),F(r,"slot","nav")},m(t,e){x(t,r,e),Et(n,r,null),i=!0},p:e,i(t){i||(gt(n.$$.fragment,t),i=!0)},o(t){vt(n.$$.fragment,t),i=!1},d(t){t&&N(r),Mt(n)}}}function tO(t){let e,r;return e=new Lx({props:{chainId:t[2],storage:t[0]}}),{c(){_t(e.$$.fragment)},m(t,n){Et(e,t,n),r=!0},p(t,r){const n={};4&r&&(n.chainId=t[2]),1&r&&(n.storage=t[0]),e.$set(n)},i(t){r||(gt(e.$$.fragment,t),r=!0)},o(t){vt(e.$$.fragment,t),r=!1},d(t){Mt(e,t)}}}function eO(t){let e,r,n,i,o,s=t[4]&&t[3]&&Dl(t[2]);function a(e){t[7](e)}let l={chainId:t[2],account:t[4]};void 0!==t[3]&&(l.address=t[3]),e=new my({props:l}),Q.push((()=>wt(e,"address",a)));let u=s&&rO();return{c(){_t(e.$$.fragment),n=O(),u&&u.c(),i=C()},m(t,r){Et(e,t,r),x(t,n,r),u&&u.m(t,r),x(t,i,r),o=!0},p(t,n){const o={};4&n&&(o.chainId=t[2]),16&n&&(o.account=t[4]),!r&&8&n&&(r=!0,o.address=t[3],ot((()=>r=!1))),e.$set(o),28&n&&(s=t[4]&&t[3]&&Dl(t[2])),s?u?28&n&&gt(u,1):(u=rO(),u.c(),gt(u,1),u.m(i.parentNode,i)):u&&(pt(),vt(u,1,1,(()=>{u=null})),mt())},i(t){o||(gt(e.$$.fragment,t),gt(u),o=!0)},o(t){vt(e.$$.fragment,t),vt(u),o=!1},d(t){Mt(e,t),t&&N(n),u&&u.d(t),t&&N(i)}}}function rO(t){let e,r;return e=new zx({}),{c(){_t(e.$$.fragment)},m(t,n){Et(e,t,n),r=!0},i(t){r||(gt(e.$$.fragment,t),r=!0)},o(t){vt(e.$$.fragment,t),r=!1},d(t){Mt(e,t)}}}function nO(t){let e,r,n,i,o,s,a,l,u,c,h,f,d=t[4]&&zl(t[2]);r=new UR({});let p=d&&tO(t);function m(e){t[5](e)}let g={};function v(e){t[6](e)}void 0!==t[4]&&(g.account=t[4]),s=new $g({props:g}),Q.push((()=>wt(s,"account",m)));let y={};void 0!==t[2]&&(y.chainId=t[2]),u=new ev({props:y}),Q.push((()=>wt(u,"chainId",v)));let b=t[2]&&t[4]&&eO(t);return{c(){e=T("span"),_t(r.$$.fragment),n=O(),p&&p.c(),i=O(),o=T("div"),_t(s.$$.fragment),l=O(),_t(u.$$.fragment),h=O(),b&&b.c(),F(o,"class","row alignbottom svelte-791ngy"),F(e,"slot","header")},m(t,a){x(t,e,a),Et(r,e,null),I(e,n),p&&p.m(e,null),I(e,i),I(e,o),Et(s,o,null),I(o,l),Et(u,o,null),I(o,h),b&&b.m(o,null),f=!0},p(t,r){20&r&&(d=t[4]&&zl(t[2])),d?p?(p.p(t,r),20&r&&gt(p,1)):(p=tO(t),p.c(),gt(p,1),p.m(e,i)):p&&(pt(),vt(p,1,1,(()=>{p=null})),mt());const n={};!a&&16&r&&(a=!0,n.account=t[4],ot((()=>a=!1))),s.$set(n);const l={};!c&&4&r&&(c=!0,l.chainId=t[2],ot((()=>c=!1))),u.$set(l),t[2]&&t[4]?b?(b.p(t,r),20&r&&gt(b,1)):(b=eO(t),b.c(),gt(b,1),b.m(o,null)):b&&(pt(),vt(b,1,1,(()=>{b=null})),mt())},i(t){f||(gt(r.$$.fragment,t),gt(p),gt(s.$$.fragment,t),gt(u.$$.fragment,t),gt(b),f=!0)},o(t){vt(r.$$.fragment,t),vt(p),vt(s.$$.fragment,t),vt(u.$$.fragment,t),vt(b),f=!1},d(t){t&&N(e),Mt(r),p&&p.d(),Mt(s),Mt(u),b&&b.d()}}}function iO(t){let e,r;return e=new YP({props:{chainId:t[2],address:t[3],account:t[4],platform:t[1]}}),{c(){_t(e.$$.fragment)},m(t,n){Et(e,t,n),r=!0},p(t,r){const n={};4&r&&(n.chainId=t[2]),8&r&&(n.address=t[3]),16&r&&(n.account=t[4]),2&r&&(n.platform=t[1]),e.$set(n)},i(t){r||(gt(e.$$.fragment,t),r=!0)},o(t){vt(e.$$.fragment,t),r=!1},d(t){Mt(e,t)}}}function oO(t){let e,r,n=t[2]&&t[4]&&t[3]&&iO(t);return{c(){e=T("span"),n&&n.c(),F(e,"slot","content")},m(t,i){x(t,e,i),n&&n.m(e,null),r=!0},p(t,r){t[2]&&t[4]&&t[3]?n?(n.p(t,r),28&r&&gt(n,1)):(n=iO(t),n.c(),gt(n,1),n.m(e,null)):n&&(pt(),vt(n,1,1,(()=>{n=null})),mt())},i(t){r||(gt(n),r=!0)},o(t){vt(n),r=!1},d(t){t&&N(e),n&&n.d()}}}function sO(t){let e,r;return e=new KR({props:{$$slots:{content:[oO],header:[nO],nav:[QP]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,n){Et(e,t,n),r=!0},p(t,[r]){const n={};2079&r&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){r||(gt(e.$$.fragment,t),r=!0)},o(t){vt(e.$$.fragment,t),r=!1},d(t){Mt(e,t)}}}function aO(t,e,r){let n,i,o,{storage:s=Pl.storage}=e,{platform:a="dapp"}=e;return X("refreshCollectionList",xt(1)),X("refreshNftsList",xt(1)),X("refreshing",xt(!1)),t.$$set=t=>{"storage"in t&&r(0,s=t.storage),"platform"in t&&r(1,a=t.platform)},[s,a,n,i,o,function(t){o=t,r(4,o)},function(t){n=t,r(2,n)},function(t){i=t,r(3,i)}]}class lO extends St{constructor(t){super(),It(this,t,aO,sO,a,{storage:0,platform:1})}}function uO(t){let e,r,n;return{c(){e=T("img"),n=T("br"),u(e.src,r=t[0])||F(e,"src",r),F(e,"alt",t[1]),F(e,"width",t[4])},m(t,r){x(t,e,r),x(t,n,r)},p(t,n){1&n&&!u(e.src,r=t[0])&&F(e,"src",r),2&n&&F(e,"alt",t[1]),16&n&&F(e,"width",t[4])},d(t){t&&N(e),t&&N(n)}}}function cO(t){let r,n,i,o;return i=new $g({}),{c(){r=T("small"),n=T("br"),_t(i.$$.fragment)},m(t,e){x(t,r,e),I(r,n),Et(i,r,null),o=!0},p:e,i(t){o||(gt(i.$$.fragment,t),o=!0)},o(t){vt(i.$$.fragment,t),o=!1},d(t){t&&N(r),Mt(i)}}}function hO(t){let r;function n(t,e){return t[9]?dO:fO}let i=n(t),o=i(t);return{c(){o.c(),r=C()},m(t,e){o.m(t,e),x(t,r,e)},p(t,e){i===(i=n(t))&&o?o.p(t,e):(o.d(1),o=i(t),o&&(o.c(),o.m(r.parentNode,r)))},i:e,o:e,d(t){o.d(t),t&&N(r)}}}function fO(t){let e,r,n,i,o,s,a,l="swarm"===t[3]?"SWARM":"";return{c(){e=T("button"),r=P("MINT "),n=P(l),i=P(" NFT"),F(e,"id",o="mint-button-"+(t[2]||"0")),F(e,"class","btn btn-small btn-mint svelte-jsgrj9")},m(o,l){x(o,e,l),I(e,r),I(e,n),I(e,i),s||(a=$(e,"click",t[14]),s=!0)},p(t,r){8&r&&l!==(l="swarm"===t[3]?"SWARM":"")&&L(n,l),4&r&&o!==(o="mint-button-"+(t[2]||"0"))&&F(e,"id",o)},d(t){t&&N(e),s=!1,a()}}}function dO(t){let e;function r(t,e){return t[8]?mO:1<=t[9]&&t[9]<=5?pO:void 0}let n=r(t),i=n&&n(t);return{c(){i&&i.c(),e=C()},m(t,r){i&&i.m(t,r),x(t,e,r)},p(t,o){n===(n=r(t))&&i?i.p(t,o):(i&&i.d(1),i=n&&n(t),i&&(i.c(),i.m(e.parentNode,e)))},d(t){i&&i.d(t),t&&N(e)}}}function pO(t){let e,r,n,i,o,s,a,l,u,c=fx[t[9]]+"";return{c(){e=T("div"),r=T("button"),n=P("MINTING "),i=P(t[9]),o=P("..."),s=O(),a=T("div"),l=T("em"),u=P(c),F(r,"id","mint-button"),F(r,"class","btn btn-small btn-minting svelte-jsgrj9")},m(t,c){x(t,e,c),I(e,r),I(r,n),I(r,i),I(r,o),x(t,s,c),x(t,a,c),I(a,l),I(l,u)},p(t,e){512&e&&L(i,t[9]),512&e&&c!==(c=fx[t[9]]+"")&&L(u,c)},d(t){t&&N(e),t&&N(s),t&&N(a)}}}function mO(t){let e,r;function n(t,r){return 64&r&&(e=null),null==e&&(e=!!Bl(t[6])?.openSea),e?vO:gO}let i=n(t,-1),o=i(t);return{c(){o.c(),r=C()},m(t,e){o.m(t,e),x(t,r,e)},p(t,e){i===(i=n(t,e))&&o?o.p(t,e):(o.d(1),o=i(t),o&&(o.c(),o.m(r.parentNode,r)))},d(t){o.d(t),t&&N(r)}}}function gO(t){let r,n,i;return{c(){r=T("button"),r.textContent="VIEW NFT",F(r,"class","btn btn-small btn-sell svelte-jsgrj9"),F(r,"title","View in Explorer")},m(e,o){x(e,r,o),n||(i=$(r,"click",t[13]),n=!0)},p:e,d(t){t&&N(r),n=!1,i()}}}function vO(t){let r,n,i;return{c(){r=T("button"),r.textContent="SELL NFT",F(r,"class","btn btn-small btn-sell svelte-jsgrj9"),F(r,"title","Sell on OpenSea")},m(e,o){x(e,r,o),n||(i=$(r,"click",t[12]),n=!0)},p:e,d(t){t&&N(r),n=!1,i()}}}function yO(t){let e,r,n,i,o,s,a=Ql(t[0],`${t[0]}@${t[1]}`)+"",l=au(t[10])+"";return{c(){e=T("small"),r=T("br"),n=P(a),i=O(),o=T("br"),s=P(l)},m(t,a){x(t,e,a),I(e,r),I(e,n),I(e,i),I(e,o),I(e,s)},p(t,e){3&e&&a!==(a=Ql(t[0],`${t[0]}@${t[1]}`)+"")&&L(n,a),1024&e&&l!==(l=au(t[10])+"")&&L(s,l)},d(t){t&&N(e)}}}function bO(t){let e,r,n,i,o,s,a=t[5]&&t[0]&&uO(t);const l=[hO,cO],u=[];function c(t,e){return t[7]?0:1}n=c(t),i=u[n]=l[n](t);let h=t[5]&&yO(t);return{c(){e=T("main"),a&&a.c(),r=O(),i.c(),o=O(),h&&h.c(),F(e,"class","nft-mint")},m(t,i){x(t,e,i),a&&a.m(e,null),I(e,r),u[n].m(e,null),I(e,o),h&&h.m(e,null),s=!0},p(t,[s]){t[5]&&t[0]?a?a.p(t,s):(a=uO(t),a.c(),a.m(e,r)):a&&(a.d(1),a=null);let f=n;n=c(t),n===f?u[n].p(t,s):(pt(),vt(u[f],1,1,(()=>{u[f]=null})),mt(),i=u[n],i?i.p(t,s):(i=u[n]=l[n](t),i.c()),gt(i,1),i.m(e,o)),t[5]?h?h.p(t,s):(h=yO(t),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},i(t){s||(gt(i),s=!0)},o(t){vt(i),s=!1},d(t){t&&N(e),a&&a.d(),u[n].d(),h&&h.d()}}}function wO(t,r,n){let i,o,s,a=e;f(t,sg,(t=>n(6,o=t))),f(t,ug,(t=>n(7,s=t))),t.$$.on_destroy.push((()=>a()));let l,u,h,d,p,m,g,v,{src:y}=r,{alt:b}=r,{pid:w}=r,{metadata:_="{}"}=r,{storage:E="ipfs"}=r,{swarmnode:M}=r,{batchid:A}=r,{width:I=100}=r,{display:S=!1}=r;const k=async()=>{d=await s.getAddress(),console.log("handleChange",o,d),n(11,p=jv.getDefaultSubStore(o,!0,d)),a(),a=c(p,(t=>n(22,i=t))),console.log("handleChange ~ address",i)};return t.$$set=t=>{"src"in t&&n(0,y=t.src),"alt"in t&&n(1,b=t.alt),"pid"in t&&n(2,w=t.pid),"metadata"in t&&n(15,_=t.metadata),"storage"in t&&n(3,E=t.storage),"swarmnode"in t&&n(16,M=t.swarmnode),"batchid"in t&&n(17,A=t.batchid),"width"in t&&n(4,I=t.width),"display"in t&&n(5,S=t.display)},t.$$.update=()=>{192&t.$$.dirty&&o&&s&&k().catch(console.error),9&t.$$.dirty&&""!==y&&"swarm"===E&&(async()=>{const t=await fetch(y).then((t=>t.blob()));if(m=new File([t],b,{type:t.type}),console.log(" ~ file: NftMintButton.svelte ~ line 65 ~ handleWpFile ~ file",m),m){let t=new FileReader;t.readAsDataURL(m),v=m.name,t.onload=t=>{g=t.target.result.toString()}}})().catch(console.error)},[y,b,w,E,I,S,o,s,l,u,h,p,t=>{t.preventDefault(),location.href=bu(o,l)},t=>{t.preventDefault(),location.href=Oy(l)},async t=>{t.preventDefault(),n(10,h=null),n(8,l=null);const e=await s.getAddress();if(y&&i){n(9,u=1),n(10,h="ipfs"===E?await Ly(y):"swarm"===E?await ux(m,v,m.type,M,A,m.size):""),n(9,u=2);const t="ipfs"===E?await By(b,b,h,e,y,_):"swarm"===E?su(await cx(v,b,h,d,g,_,M,A)):"";n(9,u=3);const r=await dx(o,i,t,s);n(9,u=4),n(8,l=await px(o,i,r,t,e)),n(9,u=5)}else console.error("KredeumNftsMint ERROR : no src or collection address, impossible to mint!",y,i);return l},_,M,A]}class _O extends St{constructor(t){super(),It(this,t,wO,bO,a,{src:0,alt:1,pid:2,metadata:15,storage:3,swarmnode:16,batchid:17,width:4,display:5})}}function EO(t){let e,r,n,i;function o(e){t[6](e)}let s={chainId:t[3],account:t[2],txt:t[1],mintable:!0};return void 0!==t[0]&&(s.address=t[0]),r=new my({props:s}),Q.push((()=>wt(r,"address",o))),{c(){e=T("p"),_t(r.$$.fragment)},m(t,n){x(t,e,n),Et(r,e,null),i=!0},p(t,e){const i={};8&e&&(i.chainId=t[3]),4&e&&(i.account=t[2]),2&e&&(i.txt=t[1]),!n&&1&e&&(n=!0,i.address=t[0],ot((()=>n=!1))),r.$set(i)},i(t){i||(gt(r.$$.fragment,t),i=!0)},o(t){vt(r.$$.fragment,t),i=!1},d(t){t&&N(e),Mt(r)}}}function MO(t){let e,r,n,i,o,s,a,l,u,c;function h(e){t[4](e)}let f={txt:t[1]};function d(e){t[5](e)}void 0!==t[2]&&(f.account=t[2]),r=new $g({props:f}),Q.push((()=>wt(r,"account",h)));let p={txt:t[1]};void 0!==t[3]&&(p.chainId=t[3]),s=new ev({props:p}),Q.push((()=>wt(s,"chainId",d)));let m=t[3]&&t[2]&&EO(t);return{c(){e=T("p"),_t(r.$$.fragment),i=O(),o=T("p"),_t(s.$$.fragment),l=O(),m&&m.c(),u=C()},m(t,n){x(t,e,n),Et(r,e,null),x(t,i,n),x(t,o,n),Et(s,o,null),x(t,l,n),m&&m.m(t,n),x(t,u,n),c=!0},p(t,[e]){const i={};2&e&&(i.txt=t[1]),!n&&4&e&&(n=!0,i.account=t[2],ot((()=>n=!1))),r.$set(i);const o={};2&e&&(o.txt=t[1]),!a&&8&e&&(a=!0,o.chainId=t[3],ot((()=>a=!1))),s.$set(o),t[3]&&t[2]?m?(m.p(t,e),12&e&&gt(m,1)):(m=EO(t),m.c(),gt(m,1),m.m(u.parentNode,u)):m&&(pt(),vt(m,1,1,(()=>{m=null})),mt())},i(t){c||(gt(r.$$.fragment,t),gt(s.$$.fragment,t),gt(m),c=!0)},o(t){vt(r.$$.fragment,t),vt(s.$$.fragment,t),vt(m),c=!1},d(t){t&&N(e),Mt(r),t&&N(i),t&&N(o),Mt(s),t&&N(l),m&&m.d(t),t&&N(u)}}}function AO(t,e,r){let n,i,{address:o}=e,{txt:s=!0}=e;return t.$$set=t=>{"address"in t&&r(0,o=t.address),"txt"in t&&r(1,s=t.txt)},[o,s,n,i,function(t){n=t,r(2,n)},function(t){i=t,r(3,i)},function(t){o=t,r(0,o)}]}class IO extends St{constructor(t){super(),It(this,t,AO,MO,a,{address:0,txt:1})}}const SO=t=>{const e={};return Array.from((null==t?void 0:t.attributes)||[]).forEach((t=>{let r=null==t?void 0:t.name;"chainid"===r?r="chainId":"id"!==r&&"class"!==r||(r=null),r&&(e[r]=t.value)})),e};t.kredeumHome=void 0;{const e=document.querySelector("#kredeum-app");e&&(t.kredeumHome=new lO({target:e,props:SO(e)}))}const kO=[];{const t=document.querySelectorAll(".kre-storage-mint");null==t||t.forEach(((t,e)=>{kO[e]=new _O({target:t,props:SO(t)})}))}const xO=[];{const t=document.querySelectorAll(".swarm-mint");null==t||t.forEach(((t,e)=>{xO[e]=new _O({target:t,props:SO(t)})}))}t.kredeumCollectionList=void 0;{const e=document.querySelector("#kredeum-select-collection");e&&(t.kredeumCollectionList=new IO({target:e,props:SO(e)}))}t.network=void 0;{const e=document.querySelector("#kredeum-metamask");e&&(t.network=new ev({target:e,props:SO(e)}))}return t.kredeumMintButton=kO,t.swarmpressMintButton=xO,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
